!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var a=t();for(var r in a)("object"==typeof exports?exports:e)[r]=a[r]}}(window,(function(){return function(e){function t(t){for(var r,s,i=t[0],l=t[1],m=t[2],d=0,p=[];d<i.length;d++)s=i[d],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&p.push(o[s][0]),o[s]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);for(c&&c(t);p.length;)p.shift()();return n.push.apply(n,m||[]),a()}function a(){for(var e,t=0;t<n.length;t++){for(var a=n[t],r=!0,i=1;i<a.length;i++){var l=a[i];0!==o[l]&&(r=!1)}r&&(n.splice(t--,1),e=s(s.s=a[0]))}return e}var r={},o={1:0},n=[];function s(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=e,s.c=r,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(a,r,function(t){return e[t]}.bind(null,r));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="";var i=window.webpackJsonp=window.webpackJsonp||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var m=0;m<i.length;m++)t(i[m]);var c=l;return n.push([25,0]),a()}({13:function(e,t,a){"use strict";var r=a(0),o=a.n(r),n=a(1);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(a,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=c(e);if(t){var o=c(this).constructor;a=Reflect.construct(r,arguments,o)}else a=r.apply(this,arguments);return function(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?m(e):t}(this,a)}}(a);function a(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(r=t.call(this,e)).state={title:e.title,message:e.message,cb:e.callback},r.closeModal=r.closeModal.bind(m(r)),r}return function(e,t,a){t&&i(e.prototype,t)}(a,[{key:"componentWillReceiveProps",value:function(e){this.setState({title:e.title,message:e.message,cb:e.callback})}},{key:"closeModal",value:function(e,t){this.state.cb&&this.state.cb(t)}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"modal fade on-top",id:"confirmModal",tabIndex:"-1",role:"dialog","aria-labelledby":"confirmModalLabel","aria-hidden":"true"},o.a.createElement("div",{className:"modal-dialog",role:"document"},o.a.createElement("div",{className:"modal-content"},o.a.createElement("div",{className:"modal-header"},o.a.createElement("h5",{className:"modal-title",id:"confirmModalLabel"},this.state.title),o.a.createElement("button",{type:"button",className:"close","aria-label":n.a.t("modal.close"),onClick:function(t){return e.closeModal(t,!1)}},o.a.createElement("span",{"aria-hidden":"true"},"Ã—"))),o.a.createElement("div",{className:"modal-body"},this.state.message),o.a.createElement("div",{className:"modal-footer"},o.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return e.closeModal(t,!1)}},n.a.t("modal.close")),o.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(t){return e.closeModal(t,!0)}},n.a.t("modal.ok"))))))}}]),a}();t.a=d},2:function(e,t,a){"use strict";function r(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.subscriberList={}}return function(e,t,a){t&&r(e.prototype,t)}(e,[{key:"subscribe",value:function(e,t){this.subscriberList[e]=t}},{key:"sendMessage",value:function(e,t){if(Array.isArray(e)||(e=[e]),"broadcast"===e[0])this.subscriberList.forEach((function(e,a){e({type:"broadcast",message:t})}));else for(var a in this.subscriberList)e.indexOf(a)>=0&&this.subscriberList[a](t)}}]),e}());t.a=o},25:function(e,t,a){"use strict";a.r(t);var r=a(0),o=a.n(r),n=a(5),s=a.n(n),i=a(1),l=a(10),m=a(11),c=a(3),d=a(2),p=a(4),u=a(13),h=a(9);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(a,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=v(e);if(t){var o=v(this).constructor;a=Reflect.construct(r,arguments,o)}else a=r.apply(this,arguments);return function(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?y(e):t}(this,a)}}(a);function a(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(r=t.call(this,e)).state={title:e.title,pattern:e.pattern,source:e.source,data:e.data,cb:e.callback,validateCb:e.validateCallback,profile:e.profile,add:e.add,listAddValue:r.initListAdd(e.pattern,e.data),listEltConfirm:r.initListConfirm(e.pattern),listError:{},hasError:!1,listPwd:r.initListPwd(e.pattern,e.data,e.add),multiplePasswords:r.hasMultiplePasswords(e.source,e.data)},r.closeModal=r.closeModal.bind(y(r)),r.changeSource=r.changeSource.bind(y(r)),r.editElt=r.editElt.bind(y(r)),r.changeElt=r.changeElt.bind(y(r)),r.toggleBooleanElt=r.toggleBooleanElt.bind(y(r)),r.deleteListElt=r.deleteListElt.bind(y(r)),r.createData=r.createData.bind(y(r)),r.changeListAddElt=r.changeListAddElt.bind(y(r)),r.AddListElt=r.AddListElt.bind(y(r)),r.initListAdd=r.initListAdd.bind(y(r)),r.initListConfirm=r.initListConfirm.bind(y(r)),r.initListPwd=r.initListPwd.bind(y(r)),r.changeEltConfirm=r.changeEltConfirm.bind(y(r)),r.changeTextArea=r.changeTextArea.bind(y(r)),r.uploadFile=r.uploadFile.bind(y(r)),r.uploadImage=r.uploadImage.bind(y(r)),r.removeImage=r.removeImage.bind(y(r)),r.setPwd=r.setPwd.bind(y(r)),r.hasMultiplePasswords=r.hasMultiplePasswords.bind(y(r)),r.state.add&&r.createData(),r}return function(e,t,a){t&&g(e.prototype,t)}(a,[{key:"componentWillReceiveProps",value:function(e){var t=this;this.setState({title:e.title,pattern:e.pattern,source:e.source,data:e.data,cb:e.callback,validateCb:e.validateCallback,profile:e.profile,add:e.add,listAddValue:this.initListAdd(e.pattern),listEltConfirm:this.initListConfirm(e.pattern,e.data),listError:{},hasError:!1,listPwd:this.initListPwd(e.pattern,e.data,e.add),multiplePasswords:this.hasMultiplePasswords(e.source,e.data)},(function(){e.add&&t.createData()}))}},{key:"closeModal",value:function(e,t){var a=this;if(this.state.cb)if(t)if(this.state.validateCb){var r=this.state.data;for(var o in r)if(Array.isArray(r[o])&&"password"!==o)if(r[o].length)for(var n=r[o],s=n.length-1;s>=0;s--)""===n[s]&&n.splice(s,1);else delete r[o];var l=!1,m=[];for(var o in this.state.listAddValue)""!==this.state.listAddValue[o]&&(l=!0,m[o]=i.a.t("admin.add-elt-mandatory"));l?this.setState({listError:m,hasError:!0}):this.state.validateCb(r,this.state.listEltConfirm,this.state.add,(function(e,o){e?a.state.cb(t,r):a.setState({listError:o,hasError:!0})}))}else this.state.cb(t,r);else this.state.cb(t,{})}},{key:"changeSource",value:function(e,t){var a=this.state.data,r=this.state.listEltConfirm,o=this.state.listPwd;a.source=t;for(var n=!1,s=0;s<this.state.source.length;s++)t===this.state.source[s].name&&(n=this.state.source[s].multiple_passwords)&&(a.password=[""],r.password=[""],o.password=["set"]);this.setState({data:a,listEltConfirm:r,listPwd:o,multiplePasswords:n})}},{key:"editElt",value:function(e,t,a){var r,n,s=this,l=[],m=!1;if((void 0!==t||"password"===e.type||e.forceShow)&&(!this.state.profile||e.profile)){var c="",d="";if(this.state.listError[e.name]&&(c=" is-invalid",d=o.a.createElement("span",{className:"error-input"},i.a.t(this.state.listError[e.name]))),r=o.a.createElement("label",{className:"input-group-text",htmlFor:"modal-edit-"+e.name},i.a.t(e.label)),e.list){if(t||(t=[]),e.listElements){var p=[];e.listElements.forEach((function(t,a){p.push(o.a.createElement("a",{className:"dropdown-item",key:a,href:"#",onClick:function(a){return s.AddListElt(a,e.name,t)}},t))})),n=o.a.createElement("div",{className:"dropdown"},o.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"modal-edit-"+e.name,"data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},o.a.createElement("i",{className:"fas fa-plus"})),o.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"modal-edit-"+e.name},p))}else if("textarea"===e.type)n=o.a.createElement("textarea",{className:"form-control"+c,onChange:function(t){return s.changeTextArea(t,e.name,!0)},value:t.join("\n"),placeholder:e.placeholder?i.a.t(e.placeholder):""});else if("file"===e.type)n=e.edit||this.state.add?o.a.createElement("input",{type:"file",className:"form-control"+c,onChange:function(t){return s.uploadFile(t,e.name,!0)}}):o.a.createElement("input",{type:"file",disabled:!0,className:"form-control"});else if(e.type&&e.type.startsWith("image")){var u=[];t.forEach((function(t,a){u.push(o.a.createElement("a",{key:a,href:"#",onClick:function(t){return s.removeImage(t,e.name,a)},title:i.a.t("remove")},o.a.createElement("img",{className:"btn-icon-right img-thumb",src:"data:"+e.type+";base64,"+t,alt:e.name+"-"+a}),o.a.createElement("span",{className:"badge badge-secondary align-top"},o.a.createElement("i",{className:"fas fa-trash"}))))})),e.edit||this.state.add?n=o.a.createElement("div",null,o.a.createElement("div",{className:"custom-file"},o.a.createElement("input",{type:"file",accept:"image/*",className:"custom-file-input"+c,onChange:function(t){return s.uploadImage(t,e.name,!0)},id:"modal-image-"+e.name}),o.a.createElement("label",{className:"custom-file-label",htmlFor:"modal-image-"+e.name},i.a.t("browse"))),u):(u=[],t.forEach((function(t,a){u.push(o.a.createElement("img",{key:a,className:"btn-icon-right img-thumb",src:"data:"+e.type+";base64,"+t,alt:e.name+"-"+a}))})),n=u)}else n=o.a.createElement("div",{className:"input-group"},o.a.createElement("input",{type:"text",className:"form-control"+c,id:"modal-edit-"+e.name,placeholder:e.placeholder?i.a.t(e.placeholder):"",onChange:function(t){return s.changeListAddElt(t,e.name)},value:this.state.listAddValue[e.name]||""}),o.a.createElement("div",{className:"input-group-append"},o.a.createElement("button",{className:"btn btn-outline-secondary",type:"button",onClick:function(t){return s.AddListElt(t,e.name)},title:i.a.t("modal.list-add-title")},o.a.createElement("i",{className:"fas fa-plus"}))));(e.type&&"textarea"!==e.type&&!e.type.startsWith("image")||!e.type)&&t.forEach((function(t,a){var r=t;"file"===e.type&&(r=t.substring(0,t.indexOf("/"))),!1!==e.edit||s.state.add?l.push(o.a.createElement("a",{href:"#",onClick:function(t){return s.deleteListElt(t,e.name,a)},key:a},o.a.createElement("span",{className:"badge badge-primary btn-icon-right"},r,o.a.createElement("span",{className:"badge badge-light btn-icon-right"},o.a.createElement("i",{className:"fas fa-times"}))))):l.push(o.a.createElement("span",{className:"badge badge-primary btn-icon-right",key:a},r,o.a.createElement("span",{className:"badge badge-light btn-icon-right"},o.a.createElement("i",{className:"fas fa-times"}))))}))}else if("boolean"===e.type)m=!1!==e.edit||this.state.add?o.a.createElement("div",{className:"form-group form-check",key:a},o.a.createElement("input",{type:"checkbox",className:"form-check-input"+c,id:"modal-edit-"+e.name,onChange:function(t){return s.toggleBooleanElt(t,e.name)},checked:t}),o.a.createElement("label",{className:"form-check-label",htmlFor:"modal-edit-"+e.name},i.a.t(e.label))):o.a.createElement("div",{className:"form-group form-check",key:a},o.a.createElement("input",{disabled:!0,type:"checkbox",className:"form-check-input",id:"modal-edit-"+e.name,checked:t}),o.a.createElement("label",{className:"form-check-label",htmlFor:"modal-edit-"+e.name},i.a.t(e.label)));else if("textarea"===e.type)n=!1!==e.edit||this.state.add?o.a.createElement("textarea",{className:"form-control"+c,onChange:function(t){return s.changeTextArea(t,e.name,!1)},value:t||"",placeholder:e.placeholder?i.a.t(e.placeholder):""}):o.a.createElement("textarea",{className:"form-control",disabled:!0,value:t||""});else if("file"===e.type)t&&l.push(o.a.createElement("a",{href:"#",key:0,onClick:function(t){return s.deleteFile(t,e.name,-1)}},o.a.createElement("span",{className:"badge badge-primary btn-icon-right"},t.substring(0,t.indexOf("/")),o.a.createElement("span",{className:"badge badge-light btn-icon-right"},o.a.createElement("i",{className:"fas fa-times"}))))),n=e.edit||this.state.add?o.a.createElement("input",{type:"file",className:"form-control"+c,onChange:function(t){return s.uploadFile(t,e.name)}}):o.a.createElement("input",{type:"file",disabled:!0,className:"form-control"});else if(e.type&&e.type.startsWith("image"))t&&(u=o.a.createElement("a",{href:"#",onClick:function(t){return s.removeImage(t,e.name,-1)},title:i.a.t("remove")},o.a.createElement("img",{className:"btn-icon-right img-thumb",src:"data:"+e.type+";base64,"+t,alt:e.name}),o.a.createElement("span",{className:"badge badge-secondary align-top"},o.a.createElement("i",{className:"fas fa-trash"})))),n=e.edit||this.state.add?o.a.createElement("div",null,o.a.createElement("div",{className:"custom-file"},o.a.createElement("input",{type:"file",accept:"image/*",className:"custom-file-input"+c,onChange:function(t){return s.uploadImage(t,e.name)},id:"modal-image-"+e.name}),o.a.createElement("label",{className:"custom-file-label",htmlFor:"modal-image-"+e.name},i.a.t("browse"))),u):o.a.createElement("img",{className:"btn-icon-right img-thumb",src:"data:"+e.type+";base64,"+t,alt:e.name});else if(!1!==e.edit||this.state.add)if(e.listElements)p=[],e.listElements.forEach((function(t,a){p.push(o.a.createElement("a",{className:"dropdown-item",key:a,href:"#",onClick:function(a){return s.changeElt({target:{value:t}},e.name)}},i.a.t(t)))})),n=o.a.createElement("div",{className:"dropdown"},o.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"modal-edit-"+e.name,"data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t(t||"login.select")),o.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"modal-edit-"+e.name},p));else if("password"===e.type)if(this.state.multiplePasswords){var h=[],f=0;t.forEach((function(t,a){if(null!==t){f++;var r=s.state.listEltConfirm[e.name][a]||"";"set"!==s.state.listPwd[e.name][a]&&(t="",r="");var n="";s.state.add||(n=o.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return s.setPwd(t,e.name,"keep",a)}},i.a.t("modal.pwd-keep")));var l=o.a.createElement("div",{className:"btn-group",role:"group"},o.a.createElement("div",{className:"btn-group",role:"group"},o.a.createElement("div",{className:"dropdown"},o.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"modal-pwd-"+e.name,"data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},o.a.createElement("span",{className:"badge badge-light btn-icon"},f),i.a.t("modal.pwd-"+s.state.listPwd[e.name][a])),o.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"modal-pwd-"+e.name},n,o.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return s.setPwd(t,e.name,"set",a)}},i.a.t("modal.pwd-set")))),o.a.createElement("button",{className:"btn btn-secondary",type:"button",onClick:function(t){return s.deletePasswordAt(e.name,a)},title:i.a.t("admin.delete")},o.a.createElement("i",{className:"fas fa-trash"}))));h.push(o.a.createElement("div",{key:a},l,o.a.createElement("input",{type:"password",autoComplete:"new-password",disabled:"disabled"===s.state.listPwd[e.name][a]||"keep"===s.state.listPwd[e.name][a],className:"form-control"+c,id:"modal-edit-"+e.name,placeholder:e.placeholder?i.a.t(e.placeholder):"",onChange:function(t){return s.changeElt(t,e.name,a)},value:t}),o.a.createElement("input",{type:"password",autoComplete:"new-password",disabled:"disabled"===s.state.listPwd[e.name][a]||"keep"===s.state.listPwd[e.name][a],className:"form-control"+c,id:"modal-edit-confirm"+e.name,placeholder:i.a.t(e.placeholderConfirm),value:r,onChange:function(t){return s.changeEltConfirm(t,e.name,a)}})))}})),n=o.a.createElement("div",{className:"card"},o.a.createElement("div",{className:"card-body"},h,o.a.createElement("hr",null),o.a.createElement("button",{className:"btn btn-secondary",type:"button",onClick:function(t){return s.addPassword(e.name)},title:i.a.t("admin.add")},o.a.createElement("i",{className:"fas fa-plus"}))))}else{var g="",b="",y="";this.state.add||(g=o.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return s.setPwd(t,e.name,"keep")}},i.a.t("modal.pwd-keep")));var v=o.a.createElement("div",{className:"dropdown"},o.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"modal-pwd-"+e.name,"data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("modal.pwd-"+(this.state.listPwd[e.name]||(this.state.add?"set":"keep")))),o.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"modal-pwd-"+e.name},g,o.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return s.setPwd(t,e.name,"set")}},i.a.t("modal.pwd-set")),o.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return s.setPwd(t,e.name,"disabled")}},i.a.t("modal.pwd-disabled"))));"set"===this.state.listPwd[e.name]&&(b=t||"",y=this.state.listEltConfirm[e.name]||""),n=o.a.createElement("div",null,v,o.a.createElement("input",{type:"password",autoComplete:"new-password",disabled:"set"!==this.state.listPwd[e.name],className:"form-control"+c,id:"modal-edit-"+e.name,placeholder:e.placeholder?i.a.t(e.placeholder):"",onChange:function(t){return s.changeElt(t,e.name)},value:b}),o.a.createElement("input",{type:"password",autoComplete:"new-password",disabled:"set"!==this.state.listPwd[e.name],className:"form-control"+c,id:"modal-edit-confirm"+e.name,placeholder:i.a.t(e.placeholderConfirm),onChange:function(t){return s.changeEltConfirm(t,e.name)},value:y}))}else n="jwks"===e.type?o.a.createElement("textarea",{className:"form-control"+c,id:"modal-edit-"+e.name,placeholder:e.placeholder?i.a.t(e.placeholder):"",value:this.state.listEltConfirm[e.name]||"",onChange:function(t){return s.setJwks(t,e.name)}}):o.a.createElement("input",{type:e.type||"text",className:"form-control"+c,id:"modal-edit-"+e.name,placeholder:e.placeholder?i.a.t(e.placeholder):"",value:t||"",onChange:function(t){return s.changeElt(t,e.name)}});else n=o.a.createElement("input",{disabled:!0,type:e.type||"text",className:"form-control"+c,id:"modal-edit-"+e.name,placeholder:e.placeholder?i.a.t(e.placeholder):"",value:t||""})}return m||o.a.createElement("div",{className:"form-group",key:a},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},r),n,o.a.createElement("div",{className:"btn-icon-right"},l)),d)}},{key:"deleteListElt",value:function(e,t,a){var r=this.state.data;r[t]&&(r[t].splice(a,1),this.setState({data:r}))}},{key:"changeElt",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,r=this.state.data;a>=0?(void 0===r[t]&&(r[t]=[]),r[t][a]=e.target.value):r[t]=e.target.value,this.setState({data:r})}},{key:"changeEltConfirm",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,r=this.state.listEltConfirm;a>=0?r[t][a]=e.target.value:r[t]=e.target.value,this.setState({listEltConfirm:r})}},{key:"setJwks",value:function(e,t){var a=this.state.data,r=this.state.listError,o=this.state.hasError,n=this.state.listEltConfirm,s=e.target.value;if(r[t]=!1,o=!1,s)try{a[t]=JSON.parse(s)}catch(e){r[t]=i.a.t("admin.invalid-json"),delete a[t],o=!0}n[t]=s,this.setState({data:a,listEltConfirm:n,hasError:o})}},{key:"toggleBooleanElt",value:function(e,t){var a=this.state.data;a[t]=!a[t],this.setState({data:a})}},{key:"createData",value:function(){var e={};this.state.pattern.forEach((function(t,a){t.list?e[t.name]=[]:void 0!==t.defaultValue?e[t.name]=t.defaultValue:"boolean"!==t.type&&(e[t.name]="")})),this.setState({data:e})}},{key:"changeListAddElt",value:function(e,t){var a=this.state.listAddValue;a[t]=e.target.value,this.setState({listAddValue:a})}},{key:"AddListElt",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e&&e.preventDefault(),a)(r=this.state.data)[t]||(r[t]=[]),r[t].push(a),this.setState({data:r});else if(this.state.listAddValue[t]){var r=this.state.data,o=this.state.listAddValue;r[t]||(r[t]=[]),r[t].push(this.state.listAddValue[t]),this.state.listAddValue[t]="",this.setState({data:r,listAddValue:o})}}},{key:"initListAdd",value:function(e){var t={};return e.forEach((function(e){e.list&&(t[e.name]="")})),t}},{key:"initListConfirm",value:function(e,t){var a={};return e.forEach((function(e){e.confirm?a[e.name]="":"password"===e.type&&t[e.name]?a[e.name]=[]:"jwks"===e.type&&(a[e.name]=JSON.stringify(t[e.name]))})),a}},{key:"initListPwd",value:function(e,t,a){var r={};return e.forEach((function(e){if("password"===e.type)if(Number.isInteger(t[e.name])){var o=t[e.name];t[e.name]=[],r[e.name]=[];for(var n=0;n<o;n++)t[e.name].push(""),a?r[e.name].push("set"):r[e.name].push("keep")}else if(Array.isArray(t[e.name]))for(o=t[e.name].length,t[e.name]=[],r[e.name]=[],n=0;n<o;n++)t[e.name].push(""),a?r[e.name].push("set"):r[e.name].push("keep");else r[e.name]=a?"set":"keep"})),r}},{key:"changeTextArea",value:function(e,t,a){var r=this.state.data;r[t]=a?e.target.value.split("\n"):e.target.value,this.setState({data:r})}},{key:"uploadFile",value:function(e,t,a){var r=this,o=this.state.data,n=e.target.files[0],s=new FileReader;s.onload=function(e){a?(o[t]||(o[t]=[]),o[t].push(n.name+"/"+btoa(e.target.result))):o[t]=n.name+"/"+btoa(e.target.result),r.setState({data:o})},s.readAsText(n)}},{key:"uploadImage",value:function(e,t,a){var r=this,o=this.state.data,n=e.target.files[0],s=new FileReader;s.onload=function(e){a?(o[t]||(o[t]=[]),o[t].push(btoa(e.target.result))):o[t]=btoa(e.target.result),r.setState({data:o})},s.readAsBinaryString(n)}},{key:"removeImage",value:function(e,t,a){var r=this.state.data;a>-1?r[t].splice(a,1):delete r[t],this.setState({data:r})}},{key:"deleteFile",value:function(e,t,a){var r=this.state.data;a>-1?r[t].splice(a,1):delete r[t],this.setState({data:r})}},{key:"setPwd",value:function(e,t,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;e.preventDefault();var o=this.state.listPwd,n=this.state.data,s=this.state.listEltConfirm;r>=0?(o[t][r]=a,n[t][r]="",void 0===s[t]&&(s[t]=[]),s[t][r]=""):(o[t]=a,"disabled"===a?(n[t]="",s[t]=""):(delete n[t],delete s[t])),this.setState({listPwd:o,listEltConfirm:s,data:n})}},{key:"addPassword",value:function(e){var t=this.state.data,a=this.state.listPwd,r=this.state.listEltConfirm;t[e].push(""),a[e].push("set"),r[e]||(r[e]=[""]),this.setState({data:t,listPwd:a,listEltConfirm:r})}},{key:"deletePasswordAt",value:function(e,t){var a=this.state.data;a[e][t]=null,this.setState({data:a})}},{key:"hasMultiplePasswords",value:function(e,t){for(var a=0;a<e.length;a++)if(t.source===e[a].name)return e[a].multiple_passwords;return!1}},{key:"render",value:function(){var e,t=this,a=[],r=[],n=!1;this.state.pattern.forEach((function(e,r){var o=t.editElt(e,t.state.data[e.name],r);o&&a.push(o)})),this.state.source.forEach((function(e,a){n||e.readonly||(n=""),e.name===t.state.data.source&&(n=e.display_name),e.readonly&&e.name!==t.state.data.source||r.push(o.a.createElement("a",{className:"dropdown-item",key:a,href:"#",onClick:function(a){return t.changeSource(a,e.name)}},e.display_name||e.name))})),this.state.hasError&&(e=o.a.createElement("span",{className:"error-input text-right"},i.a.t("admin.error-input")));var s=o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"modal-source"},i.a.t("admin.source"))),o.a.createElement("div",{className:"dropdown"},o.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"modal-source","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:!this.state.add},n||i.a.t("admin.source-dropdown")),o.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"modal-source"},r))));return o.a.createElement("div",{className:"modal fade",id:"editRecordModal",tabIndex:"-1",role:"dialog","aria-labelledby":"editRecordModalLabel","aria-hidden":"true"},o.a.createElement("div",{className:"modal-dialog modal-lg",role:"document"},o.a.createElement("div",{className:"modal-content"},o.a.createElement("div",{className:"modal-header"},o.a.createElement("h5",{className:"modal-title",id:"editRecordModalLabel"},this.state.title),o.a.createElement("button",{type:"button",className:"close","aria-label":i.a.t("modal.close"),onClick:function(e){return t.closeModal(e,!1)}},o.a.createElement("span",{"aria-hidden":"true"},"Ã—"))),o.a.createElement("div",{className:"modal-body"},o.a.createElement("form",{className:"needs-validation",noValidate:!0},s,a)),o.a.createElement("div",{className:"modal-footer"},e,o.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(e){return t.closeModal(e,!1)}},i.a.t("modal.close")),o.a.createElement("button",{type:"button",className:"btn btn-primary ",onClick:function(e){return t.closeModal(e,!0)},disabled:!this.state.data||!this.state.data.source||this.state.data.source.readonly},i.a.t("modal.ok"))))))}}]),a}();function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function N(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function k(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var M=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(a,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=S(e);if(t){var o=S(this).constructor;a=Reflect.construct(r,arguments,o)}else a=r.apply(this,arguments);return function(e,t){return!t||"object"!==w(t)&&"function"!=typeof t?P(e):t}(this,a)}}(a);function a(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(r=t.call(this,e)).state={config:e.config,curNav:"users",navDropdown:!1,profileList:e.profileList,loggedIn:e.loggedIn},d.a.subscribe("Navbar",(function(e){})),r.navigate=r.navigate.bind(P(r)),r.toggleLogin=r.toggleLogin.bind(P(r)),r.changeLang=r.changeLang.bind(P(r)),r.changeProfile=r.changeProfile.bind(P(r)),r.gotoManageUsers=r.gotoManageUsers.bind(P(r)),r}return function(e,t,a){t&&k(e.prototype,t)}(a,[{key:"componentWillReceiveProps",value:function(e){this.setState({loggedIn:e.loggedIn,profileList:e.profileList})}},{key:"navigate",value:function(e,t,a){e.preventDefault(),d.a.sendMessage("App",{type:"nav",message:t}),this.setState({curNav:t,navDropdown:a})}},{key:"toggleLogin",value:function(){if(this.state.loggedIn)c.a.glewlwydRequest("/auth/?username="+encodeURIComponent(this.state.profileList[0].username),"DELETE").then((function(){d.a.sendMessage("Notification",{type:"info",message:i.a.t("login.success-delete-session")}),d.a.sendMessage("App",{type:"loggedIn",loggedIn:!1})})).fail((function(e){401!==e.status&&d.a.sendMessage("Notification",{type:"danger",message:i.a.t("login.error-delete-session")}),d.a.sendMessage("App",{type:"loggedIn",loggedIn:!1})}));else{var e=!1;this.state.config.sessionSchemes.forEach((function(t){t.scheme_default&&t.scheme_default.forEach((function(a){"admin"===a&&(e=t.scheme_name)}))})),document.location.href=this.state.config.LoginUrl+"?callback_url="+encodeURIComponent([location.protocol,"//",location.host,location.pathname].join(""))+"&scope="+encodeURIComponent(this.state.config.admin_scope)+(e?"&scheme="+encodeURIComponent(e):"")}}},{key:"changeLang",value:function(e,t){var a=this;i.a.changeLanguage(t).then((function(){a.setState({lang:t}),d.a.sendMessage("App",{type:"lang"})}))}},{key:"changeProfile",value:function(e,t){if(e.preventDefault(),t)c.a.glewlwydRequest("/auth/","POST",{username:t.username}).then((function(){d.a.sendMessage("App",{type:"profile"})})).fail((function(){d.a.sendMessage("Notification",{type:"danger",message:i.a.t("login.error-login")})}));else{var a=!1;this.state.config.sessionSchemes.forEach((function(e){e.scheme_default&&e.scheme_default.forEach((function(t){"admin"===t&&(a=e.scheme_name)}))})),document.location.href=this.state.config.LoginUrl+"?callback_url="+encodeURIComponent([location.protocol,"//",location.host,location.pathname].join(""))+"&scope="+encodeURIComponent(this.state.config.admin_scope)+(a?"&scheme="+encodeURIComponent(a):"")+"&prompt=login"}}},{key:"gotoManageUsers",value:function(e){e.preventDefault(),document.location.href=this.state.config.LoginUrl+"?callback_url="+encodeURIComponent([location.protocol,"//",location.host,location.pathname].join(""))+"&scope="+encodeURIComponent(this.state.config.admin_scope)+"&prompt=select_account"}},{key:"userHasScope",value:function(e,t){var a=!1;return t&&t.split(" ").forEach((function(t){e.scope.indexOf(t)>-1&&(a=!0)})),a}},{key:"render",value:function(){var e,t,a,r,n=this,s=[],l=[];if(this.state.config.lang.forEach((function(e,t){e===i.a.language?s.push(o.a.createElement("a",{className:"dropdown-item active",href:"#",key:t},e)):s.push(o.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return n.changeLang(t,e)},key:t},e))})),this.state.profileList.length){if(this.state.profileList.forEach((function(e,t){n.userHasScope(e,n.state.config.admin_scope)?l.push(o.a.createElement("a",{className:"dropdown-item"+(t?"":" active"),href:"#",onClick:function(t){return n.changeProfile(t,e)},key:t},e.name||e.username)):l.push(o.a.createElement("a",{className:"dropdown-item glwd-nav-user-unavailable"+(t?"":" active"),key:t,href:"#",disabled:!0},e.name||e.username))})),l.push(o.a.createElement("div",{className:"dropdown-divider",key:l.length})),l.push(o.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(e){return n.changeProfile(e,null)},key:l.length},i.a.t("profile.menu-session-new"))),l.push(o.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(e){return n.gotoManageUsers(e)},key:l.length},i.a.t("login.manage-users"))),this.state.profileList&&this.state.profileList[0])if(this.state.config.profilePicture&&this.state.profileList[0][this.state.config.profilePicture.property]){var m=this.state.profileList[0][this.state.config.profilePicture.property];Array.isArray(m)&&(m=m[0]),r=o.a.createElement("div",{className:"glwd-nav-picture-div"},o.a.createElement("img",{className:"img-medium glwd-nav-picture-image",src:"data:image/*;base64,"+m}),this.state.profileList[0].username)}else r=o.a.createElement("div",{className:"glwd-nav-picture-div"},o.a.createElement("img",{className:"img-medium glwd-nav-picture-spacer",src:"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="})," ",o.a.createElement("i",{className:"fas fa-user"},"Â "),this.state.profileList[0].username);t=o.a.createElement("div",{className:"btn-group",role:"group"},o.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"dropdownProfile","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},o.a.createElement("div",{className:"glwd-nav-picture-container"},r)),o.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropdownProfile"},l))}return a=this.state.loggedIn?o.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.toggleLogin,title:i.a.t("title-logout")},o.a.createElement("i",{className:"fas btn-icon fa-sign-out-alt"})):o.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.toggleLogin,title:i.a.t("title-login")},o.a.createElement("i",{className:"fas btn-icon fa-sign-in-alt"})),o.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},o.a.createElement("a",{className:"navbar-brand",href:"#"},o.a.createElement("img",{className:"mr-3",src:"img/logo-admin.png",alt:"logo"}),i.a.t("admin.menu-title")),o.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},o.a.createElement("span",{className:"navbar-toggler-icon"})),o.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},o.a.createElement("ul",{className:"navbar-nav mr-auto"},o.a.createElement("li",{className:"nav-item"+("users"===this.state.curNav?" active":"")},o.a.createElement("a",{className:"nav-link",href:"#","data-toggle":"collapse","data-target":".navbar-collapse.show",onClick:function(e){return n.navigate(e,"users",!1)}},i.a.t("admin.menu-users"))),o.a.createElement("li",{className:"nav-item"+("clients"===this.state.curNav?" active":"")},o.a.createElement("a",{className:"nav-link",href:"#","data-toggle":"collapse","data-target":".navbar-collapse.show",onClick:function(e){return n.navigate(e,"clients",!1)}},i.a.t("admin.menu-clients"))),o.a.createElement("li",{className:"nav-item"+("scopes"===this.state.curNav?" active":"")},o.a.createElement("a",{className:"nav-link",href:"#","data-toggle":"collapse","data-target":".navbar-collapse.show",onClick:function(e){return n.navigate(e,"scopes",!1)}},i.a.t("admin.menu-scopes"))),o.a.createElement("li",{className:"d-md-none nav-item"+("users-mod"===this.state.curNav?" active":"")},o.a.createElement("a",{className:"nav-link",href:"#","data-toggle":"collapse","data-target":".navbar-collapse.show",onClick:function(e){return n.navigate(e,"users-mod",!1)}},i.a.t("admin.menu-users-mod"))),o.a.createElement("li",{className:"d-md-none nav-item"+("clients-mod"===this.state.curNav?" active":"")},o.a.createElement("a",{className:"nav-link",href:"#","data-toggle":"collapse","data-target":".navbar-collapse.show",onClick:function(e){return n.navigate(e,"clients-mod",!1)}},i.a.t("admin.menu-clients-mod"))),o.a.createElement("li",{className:"d-md-none nav-item"+("auth-schemes"===this.state.curNav?" active":"")},o.a.createElement("a",{className:"nav-link",href:"#","data-toggle":"collapse","data-target":".navbar-collapse.show",onClick:function(e){return n.navigate(e,"auth-schemes",!1)}},i.a.t("admin.menu-auth-schemes"))),o.a.createElement("li",{className:"d-md-none nav-item"+("plugins"===this.state.curNav?" active":"")},o.a.createElement("a",{className:"nav-link",href:"#","data-toggle":"collapse","data-target":".navbar-collapse.show",onClick:function(e){return n.navigate(e,"plugins",!1)}},i.a.t("admin.menu-plugins"))),o.a.createElement("li",{className:"d-md-none nav-item"+("api-key"===this.state.curNav?" active":"")},o.a.createElement("a",{className:"nav-link",href:"#","data-toggle":"collapse","data-target":".navbar-collapse.show",onClick:function(e){return n.navigate(e,"api-key",!1)}},i.a.t("admin.menu-api-key"))),o.a.createElement("li",{className:"nav-item dropdown d-none d-md-block"},o.a.createElement("a",(N(e={className:"nav-link dropdown-toggle"+(this.state.navDropdown?" active":""),href:"#","data-toggle":"collapse","data-target":".navbar-collapse.show",id:"navbarDropdown",role:"button"},"data-toggle","dropdown"),N(e,"aria-haspopup","true"),N(e,"aria-expanded","false"),e),i.a.t("admin.menu-parameters")),o.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdown"},o.a.createElement("a",{className:"dropdown-item"+("users-mod"===this.state.curNav?" active":""),href:"#","data-toggle":"collapse","data-target":".navbar-collapse.show",onClick:function(e){return n.navigate(e,"users-mod",!0)}},i.a.t("admin.menu-users-mod")),o.a.createElement("a",{className:"dropdown-item"+("clients-mod"===this.state.curNav?" active":""),href:"#","data-toggle":"collapse","data-target":".navbar-collapse.show",onClick:function(e){return n.navigate(e,"clients-mod",!0)}},i.a.t("admin.menu-clients-mod")),o.a.createElement("div",{className:"dropdown-divider"}),o.a.createElement("a",{className:"dropdown-item"+("users-middleware-mod"===this.state.curNav?" active":""),href:"#","data-toggle":"collapse","data-target":".navbar-collapse.show",onClick:function(e){return n.navigate(e,"users-middleware-mod",!0)}},i.a.t("admin.menu-users-middleware-mod")),o.a.createElement("div",{className:"dropdown-divider"}),o.a.createElement("a",{className:"dropdown-item"+("auth-schemes"===this.state.curNav?" active":""),href:"#","data-toggle":"collapse","data-target":".navbar-collapse.show",onClick:function(e){return n.navigate(e,"auth-schemes",!0)}},i.a.t("admin.menu-auth-schemes")),o.a.createElement("div",{className:"dropdown-divider"}),o.a.createElement("a",{className:"dropdown-item"+("plugins"===this.state.curNav?" active":""),href:"#","data-toggle":"collapse","data-target":".navbar-collapse.show",onClick:function(e){return n.navigate(e,"plugins",!0)}},i.a.t("admin.menu-plugins")),o.a.createElement("div",{className:"dropdown-divider"}),o.a.createElement("a",{className:"dropdown-item"+("api-key"===this.state.curNav?" active":""),href:"#","data-toggle":"collapse","data-target":".navbar-collapse.show",onClick:function(e){return n.navigate(e,"api-key",!0)}},i.a.t("admin.menu-api-key"))))),o.a.createElement("form",{className:"form-inline my-2 my-lg-0"},o.a.createElement("div",{className:"btn-group",role:"group"},o.a.createElement("div",{className:"btn-group",role:"group"},o.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"dropdownLang","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},o.a.createElement("i",{className:"fas fa-language"})),o.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropdownLang"},s)),t,a))))}}]),a}();function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function L(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function R(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var F=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(a,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=O(e);if(t){var o=O(this).constructor;a=Reflect.construct(r,arguments,o)}else a=r.apply(this,arguments);return function(e,t){return!t||"object"!==x(t)&&"function"!=typeof t?R(e):t}(this,a)}}(a);function a(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(r=t.call(this,e)).state={config:e.config,users:e.users,source:e.source,loggedIn:e.loggedIn},d.a.subscribe("Users",(function(e){})),r.addUser=r.addUser.bind(R(r)),r.editUser=r.editUser.bind(R(r)),r.deleteUser=r.deleteUser.bind(R(r)),r.handleChangeSearchPattern=r.handleChangeSearchPattern.bind(R(r)),r.searchUsers=r.searchUsers.bind(R(r)),r.navigate=r.navigate.bind(R(r)),r.navigatePerPage=r.navigatePerPage.bind(R(r)),r.delegateUser=r.delegateUser.bind(R(r)),r}return function(e,t,a){t&&L(e.prototype,t)}(a,[{key:"componentWillReceiveProps",value:function(e){this.setState({users:e.users,source:e.source,loggedIn:e.loggedIn})}},{key:"addUser",value:function(e){e.preventDefault(),d.a.sendMessage("App",{type:"add",role:"user"})}},{key:"editUser",value:function(e,t,a){e.preventDefault(),d.a.sendMessage("App",{type:"edit",role:"user",user:t,index:a})}},{key:"deleteUser",value:function(e,t){e.preventDefault(),d.a.sendMessage("App",{type:"delete",role:"user",user:t})}},{key:"handleChangeSearchPattern",value:function(e){var t=this.state.users;t.searchPattern=e.target.value,this.setState({users:t})}},{key:"searchUsers",value:function(e){e.preventDefault(),d.a.sendMessage("App",{type:"search",role:"user",searchPattern:this.state.users.searchPattern,offset:this.state.users.offset,limit:this.state.users.limit})}},{key:"navigate",value:function(e,t){e.preventDefault(),t>0?d.a.sendMessage("App",{type:"search",role:"user",searchPattern:this.state.users.searchPattern,offset:this.state.users.offset+this.state.users.limit,limit:this.state.users.limit}):this.state.users.offset&&d.a.sendMessage("App",{type:"search",role:"user",searchPattern:this.state.users.searchPattern,offset:this.state.users.offset-this.state.users.limit,limit:this.state.users.limit})}},{key:"navigatePerPage",value:function(e,t){e.preventDefault(),d.a.sendMessage("App",{type:"search",role:"user",pattern:this.state.users.searchPattern,offset:this.state.users.offset,limit:t})}},{key:"delegateUser",value:function(e,t){e.preventDefault(),window.open(this.state.config.ProfileUrl+"?delegate="+t.username,"_blank")}},{key:"render",value:function(){var e=this,t=[];return this.state.users.list.forEach((function(a,r){var n=!0;e.state.source.forEach((function(e){a.source===e.name&&(n=e.readonly)})),t.push(o.a.createElement("tr",{key:r,className:a.enabled?"":"table-danger"},o.a.createElement("td",{className:"d-none d-lg-table-cell"},a.source),o.a.createElement("td",null,a.username),o.a.createElement("td",null,a.name||""),o.a.createElement("td",{className:"d-none d-lg-table-cell"},a.email||""),o.a.createElement("td",{className:"d-none d-lg-table-cell"},a.enabled?i.a.t("yes"):i.a.t("no")),o.a.createElement("td",null,o.a.createElement("div",{className:"btn-group d-none d-lg-table-cell",role:"group"},o.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return e.delegateUser(t,a)},title:i.a.t("admin.delegate")},o.a.createElement("i",{className:"fas fa-id-card"})),o.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return e.editUser(t,a,r)},title:i.a.t("admin.edit")},o.a.createElement("i",{className:"fas fa-edit"})),o.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return e.deleteUser(t,a)},title:i.a.t("admin.delete"),disabled:n},o.a.createElement("i",{className:"fas fa-trash"}))),o.a.createElement("div",{className:"dropdown d-block d-lg-none"},o.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"dropdownMenu"+a.username,"data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},o.a.createElement("i",{className:"fas fa-chevron-circle-down"})),o.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenu"+a.username},o.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.delegateUser(t,a)},alt:i.a.t("admin.delegate")},o.a.createElement("i",{className:"fas fa-id-card btn-icon"}),i.a.t("admin.delegate")),o.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.editUser(t,a,r)},alt:i.a.t("admin.edit")},o.a.createElement("i",{className:"fas fa-edit btn-icon"}),i.a.t("admin.edit")),o.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.deleteUser(t,a)},alt:i.a.t("admin.delete"),disabled:n},o.a.createElement("i",{className:"fas fa-trash btn-icon"}),i.a.t("admin.delete")))))))})),o.a.createElement("div",{className:"table-responsive"},o.a.createElement("table",{className:"table table-striped"},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",{colSpan:"2"},o.a.createElement("h4",null,i.a.t("admin.user-list-title"))),o.a.createElement("th",{colSpan:"4"},o.a.createElement("form",{className:"form-inline d-none d-lg-block",onSubmit:function(t){return e.searchUsers(t)}},o.a.createElement("div",{className:"btn-group",role:"group"},o.a.createElement("button",_({disabled:!this.state.loggedIn,type:"button",className:"btn btn-secondary",onClick:function(t){return e.navigate(t,-1)},title:i.a.t("admin.nav-previous")},"disabled",!this.state.users.offset),o.a.createElement("i",{className:"fas fa-backward"})),o.a.createElement("div",{className:"btn-group",role:"group"},o.a.createElement("button",{disabled:!this.state.loggedIn,id:"btnGroupNavPerPage",type:"button",className:"btn btn-secondary dropdown-toggle","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.nav-per-page")),o.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"btnGroupNavperPage"},o.a.createElement("a",{className:"dropdown-item"+(10===this.state.users.limit?" active":""),href:"#",onClick:function(t){return e.navigatePerPage(t,10)}},"10"),o.a.createElement("a",{className:"dropdown-item"+(20===this.state.users.limit?" active":""),href:"#",onClick:function(t){return e.navigatePerPage(t,20)}},"20"),o.a.createElement("a",{className:"dropdown-item"+(50===this.state.users.limit?" active":""),href:"#",onClick:function(t){return e.navigatePerPage(t,50)}},"50"),o.a.createElement("a",{className:"dropdown-item"+(100===this.state.users.limit?" active":""),href:"#",onClick:function(t){return e.navigatePerPage(t,100)}},"100"))),o.a.createElement("button",_({disabled:!this.state.loggedIn,type:"button",className:"btn btn-secondary",onClick:function(t){return e.navigate(t,1)},title:i.a.t("admin.nav-next")},"disabled",this.state.users.limit>this.state.users.list.length),o.a.createElement("i",{className:"fas fa-forward"})),o.a.createElement("button",{disabled:!this.state.loggedIn,type:"button",className:"btn btn-secondary",onClick:function(t){return e.addUser(t)},title:i.a.t("admin.user-add")},o.a.createElement("i",{className:"fas fa-plus"}))),o.a.createElement("div",{className:"btn-group btn-icon-right",role:"group"},o.a.createElement("input",{disabled:!this.state.loggedIn,className:"form-control",type:"search",placeholder:i.a.t("admin.nav-search-placeholder"),"aria-label":"Search",onChange:this.handleChangeSearchPattern,value:this.state.users.searchPattern||""}),o.a.createElement("button",{disabled:!this.state.loggedIn,className:"btn btn-secondary my-sm-0",type:"submit",title:i.a.t("admin.nav-search-title"),onClick:function(t){return e.searchUsers(t)}},i.a.t("admin.nav-search")))),o.a.createElement("div",{className:"dropdown d-block d-lg-none"},o.a.createElement("button",{disabled:!this.state.loggedIn,className:"btn btn-secondary dropdown-toggle",type:"button",id:"dropdownMenuNav","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},o.a.createElement("i",{className:"fas fa-chevron-circle-down"})),o.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenuNav"},o.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.navigate(t,-1)},alt:i.a.t("admin.nav-previous")},o.a.createElement("i",{className:"fas fa-backward btn-icon"}),i.a.t("admin.nav-previous")),o.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.navigate(t,1)},alt:i.a.t("admin.nav-next")},o.a.createElement("i",{className:"fas fa-forward btn-icon"}),i.a.t("admin.nav-next")),o.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.addUser(t)},alt:i.a.t("admin.user-add")},o.a.createElement("i",{className:"fas fa-plus btn-icon"}),i.a.t("admin.user-add")))))),o.a.createElement("tr",null,o.a.createElement("th",{className:"d-none d-lg-table-cell"},i.a.t("admin.source")),o.a.createElement("th",null,i.a.t("admin.username")),o.a.createElement("th",null,i.a.t("admin.name")),o.a.createElement("th",{className:"d-none d-lg-table-cell"},i.a.t("admin.email")),o.a.createElement("th",{className:"d-none d-lg-table-cell"},i.a.t("admin.enabled")),o.a.createElement("th",null))),o.a.createElement("tbody",null,t,o.a.createElement("tr",null,o.a.createElement("td",{colSpan:"6"},i.a.t("admin.nav-footer",{offset:this.state.users.offset,limit:this.state.users.limit}))))))}}]),a}();function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function U(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function q(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var K=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}(a,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=D(e);if(t){var o=D(this).constructor;a=Reflect.construct(r,arguments,o)}else a=r.apply(this,arguments);return function(e,t){return!t||"object"!==T(t)&&"function"!=typeof t?q(e):t}(this,a)}}(a);function a(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(r=t.call(this,e)).state={config:e.config,clients:e.clients,source:e.source,loggedIn:e.loggedIn},d.a.subscribe("Clients",(function(e){})),r.addClient=r.addClient.bind(q(r)),r.editClient=r.editClient.bind(q(r)),r.deleteClient=r.deleteClient.bind(q(r)),r.handleChangeSearchPattern=r.handleChangeSearchPattern.bind(q(r)),r.searchClients=r.searchClients.bind(q(r)),r.navigate=r.navigate.bind(q(r)),r.navigatePerPage=r.navigatePerPage.bind(q(r)),r}return function(e,t,a){t&&U(e.prototype,t)}(a,[{key:"componentWillReceiveProps",value:function(e){this.setState({clients:e.clients,source:e.source,loggedIn:e.loggedIn})}},{key:"addClient",value:function(e){d.a.sendMessage("App",{type:"add",role:"client"})}},{key:"editClient",value:function(e,t,a){d.a.sendMessage("App",{type:"edit",role:"client",client:t,index:a})}},{key:"deleteClient",value:function(e,t){d.a.sendMessage("App",{type:"delete",role:"client",client:t})}},{key:"handleChangeSearchPattern",value:function(e){var t=this.state.clients;t.searchPattern=e.target.value,this.setState({clients:t})}},{key:"searchClients",value:function(e){e.preventDefault(),d.a.sendMessage("App",{type:"search",role:"client",searchPattern:this.state.clients.searchPattern,offset:this.state.clients.offset,limit:this.state.clients.limit})}},{key:"navigate",value:function(e,t){t>0?d.a.sendMessage("App",{type:"search",role:"client",searchPattern:this.state.clients.searchPattern,offset:this.state.clients.offset+this.state.clients.limit,limit:this.state.clients.limit}):this.state.clients.offset&&d.a.sendMessage("App",{type:"search",role:"client",searchPattern:this.state.clients.searchPattern,offset:this.state.clients.offset-this.state.clients.limit,limit:this.state.clients.limit})}},{key:"navigatePerPage",value:function(e,t){d.a.sendMessage("App",{type:"search",role:"client",searchPattern:this.state.clients.searchPattern,offset:this.state.clients.offset,limit:t})}},{key:"render",value:function(){var e=this,t=[];return this.state.clients.list.forEach((function(a,r){var n=!0;e.state.source.forEach((function(e){a.source===e.name&&(n=e.readonly)})),t.push(o.a.createElement("tr",{key:r,className:a.enabled?"":"table-danger"},o.a.createElement("td",{className:"d-none d-lg-table-cell"},a.source),o.a.createElement("td",null,a.client_id),o.a.createElement("td",null,a.name||""),o.a.createElement("td",{className:"d-none d-lg-table-cell"},a.enabled?i.a.t("yes"):i.a.t("no")),o.a.createElement("td",null,o.a.createElement("div",{className:"btn-group pull-right",role:"group"},o.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return e.editClient(t,a,r)},title:i.a.t("admin.edit")},o.a.createElement("i",{className:"fas fa-edit"})),o.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return e.deleteClient(t,a)},title:i.a.t("admin.delete"),disabled:n},o.a.createElement("i",{className:"fas fa-trash"}))))))})),o.a.createElement("table",{className:"table table-responsive table-striped"},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",{colSpan:"2"},o.a.createElement("h4",null,i.a.t("admin.client-list-title"))),o.a.createElement("th",{colSpan:"3"},o.a.createElement("form",{className:"form-inline d-none d-lg-block",onSubmit:function(t){return e.searchClients(t)}},o.a.createElement("div",{className:"btn-group",role:"group"},o.a.createElement("button",A({disabled:!this.state.loggedIn,type:"button",className:"btn btn-secondary",onClick:function(t){return e.navigate(t,-1)},title:i.a.t("admin.nav-previous")},"disabled",!this.state.clients.offset),o.a.createElement("i",{className:"fas fa-backward"})),o.a.createElement("div",{className:"btn-group",role:"group"},o.a.createElement("button",{disabled:!this.state.loggedIn,id:"btnGroupNavPerPage",type:"button",className:"btn btn-secondary dropdown-toggle","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.nav-per-page")),o.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"btnGroupNavperPage"},o.a.createElement("a",{className:"dropdown-item"+(10===this.state.clients.limit?" active":""),href:"#",onClick:function(t){return e.navigatePerPage(t,10)}},"10"),o.a.createElement("a",{className:"dropdown-item"+(20===this.state.clients.limit?" active":""),href:"#",onClick:function(t){return e.navigatePerPage(t,20)}},"20"),o.a.createElement("a",{className:"dropdown-item"+(50===this.state.clients.limit?" active":""),href:"#",onClick:function(t){return e.navigatePerPage(t,50)}},"50"),o.a.createElement("a",{className:"dropdown-item"+(100===this.state.clients.limit?" active":""),href:"#",onClick:function(t){return e.navigatePerPage(t,100)}},"100"))),o.a.createElement("button",A({disabled:!this.state.loggedIn,type:"button",className:"btn btn-secondary",onClick:function(t){return e.navigate(t,1)},title:i.a.t("admin.nav-next")},"disabled",this.state.clients.limit>this.state.clients.list.length),o.a.createElement("i",{className:"fas fa-forward"})),o.a.createElement("button",{disabled:!this.state.loggedIn,type:"button",className:"btn btn-secondary",onClick:function(t){return e.addClient(t)},title:i.a.t("admin.client-add")},o.a.createElement("i",{className:"fas fa-plus"}))),o.a.createElement("div",{className:"btn-group btn-icon-right",role:"group"},o.a.createElement("input",{disabled:!this.state.loggedIn,className:"form-control",type:"search",placeholder:i.a.t("admin.nav-search-placeholder"),"aria-label":"Search",onChange:this.handleChangeSearchPattern,value:this.state.clients.searchPattern||""}),o.a.createElement("button",{disabled:!this.state.loggedIn,className:"btn btn-secondary my-sm-0",type:"submit",title:i.a.t("admin.nav-search-title"),onClick:function(t){return e.searchClients(t)}},i.a.t("admin.nav-search")))),o.a.createElement("div",{className:"dropdown d-block d-lg-none"},o.a.createElement("button",{disabled:!this.state.loggedIn,className:"btn btn-secondary dropdown-toggle",type:"button",id:"dropdownMenuNav","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},o.a.createElement("i",{className:"fas fa-chevron-circle-down"})),o.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenuNav"},o.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.navigate(t,-1)},alt:i.a.t("admin.nav-previous")},o.a.createElement("i",{className:"fas fa-backward btn-icon"}),i.a.t("admin.nav-previous")),o.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.navigate(t,1)},alt:i.a.t("admin.nav-next")},o.a.createElement("i",{className:"fas fa-forward btn-icon"}),i.a.t("admin.nav-next")),o.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.addClient(t)},alt:i.a.t("admin.user-add")},o.a.createElement("i",{className:"fas fa-plus btn-icon"}),i.a.t("admin.user-add")))))),o.a.createElement("tr",null,o.a.createElement("th",{className:"d-none d-lg-table-cell"},i.a.t("admin.source")),o.a.createElement("th",null,i.a.t("admin.client_id")),o.a.createElement("th",null,i.a.t("admin.name")),o.a.createElement("th",{className:"d-none d-lg-table-cell"},i.a.t("admin.enabled")),o.a.createElement("th",null))),o.a.createElement("tbody",null,t,o.a.createElement("tr",null,o.a.createElement("td",{colSpan:"5"},i.a.t("admin.nav-footer",{offset:this.state.clients.offset,limit:this.state.clients.limit})))))}}]),a}();function z(e){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function V(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function B(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function J(e,t){return(J=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function W(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function G(e){return(G=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var X=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&J(e,t)}(a,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=G(e);if(t){var o=G(this).constructor;a=Reflect.construct(r,arguments,o)}else a=r.apply(this,arguments);return function(e,t){return!t||"object"!==z(t)&&"function"!=typeof t?W(e):t}(this,a)}}(a);function a(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(r=t.call(this,e)).state={config:e.config,scopes:e.scopes,curScope:{},add:!1,searchPattern:"",offset:0,limit:20,loggedIn:e.loggedIn},r.addScope=r.addScope.bind(W(r)),r.editScope=r.editScope.bind(W(r)),r.deleteScope=r.deleteScope.bind(W(r)),r.handleChangeSearchPattern=r.handleChangeSearchPattern.bind(W(r)),r.searchScopes=r.searchScopes.bind(W(r)),r.navigate=r.navigate.bind(W(r)),r.navigatePerPage=r.navigatePerPage.bind(W(r)),r}return function(e,t,a){t&&B(e.prototype,t)}(a,[{key:"componentWillReceiveProps",value:function(e){this.setState({scopes:e.scopes,loggedIn:e.loggedIn})}},{key:"addScope",value:function(e){d.a.sendMessage("App",{type:"add",role:"scope"})}},{key:"editScope",value:function(e,t,a){d.a.sendMessage("App",{type:"edit",role:"scope",scope:t,index:a})}},{key:"deleteScope",value:function(e,t){d.a.sendMessage("App",{type:"delete",role:"scope",scope:t})}},{key:"handleChangeSearchPattern",value:function(e){this.setState({searchPattern:e.target.value})}},{key:"searchScopes",value:function(e){e.preventDefault(),d.a.sendMessage("App",{type:"search",role:"scope",searchPattern:this.state.searchPattern,offset:this.state.offset,limit:this.state.limit})}},{key:"navigate",value:function(e,t){t>0?d.a.sendMessage("App",{type:"search",role:"scope",searchPattern:this.state.searchPattern,offset:this.state.offset+this.state.limit,limit:this.state.limit}):this.state.offset&&d.a.sendMessage("App",{type:"search",role:"scope",searchPattern:this.state.searchPattern,offset:this.state.offset-this.state.limit,limit:this.state.limit})}},{key:"navigatePerPage",value:function(e,t){d.a.sendMessage("App",{type:"search",role:"scope",searchPattern:this.state.searchPattern,offset:this.state.offset,limit:t})}},{key:"render",value:function(){var e=this,t=[];return this.state.scopes.list.forEach((function(a,r){t.push(o.a.createElement("tr",{key:r},o.a.createElement("td",null,a.name),o.a.createElement("td",{className:"d-none d-lg-table-cell"},a.display_name||""),o.a.createElement("td",{className:"d-none d-lg-table-cell"},a.description||""),o.a.createElement("td",null,o.a.createElement("div",{className:"btn-group",role:"group"},o.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return e.editScope(t,a,r)},title:i.a.t("admin.edit")},o.a.createElement("i",{className:"fas fa-edit"})),o.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return e.deleteScope(t,a)},title:i.a.t("admin.delete")},o.a.createElement("i",{className:"fas fa-trash"}))))))})),o.a.createElement("table",{className:"table table-responsive table-striped"},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",{colSpan:"1"},o.a.createElement("h4",null,i.a.t("admin.scope-list-title"))),o.a.createElement("th",{colSpan:"3"},o.a.createElement("form",{className:"form-inline d-none d-lg-block",onSubmit:function(t){return e.searchScopes(t)}},o.a.createElement("div",{className:"btn-group",role:"group"},o.a.createElement("button",V({disabled:!this.state.loggedIn,type:"button",className:"btn btn-secondary",onClick:function(t){return e.navigate(t,-1)},title:i.a.t("admin.nav-previous")},"disabled",!this.state.offset),o.a.createElement("i",{className:"fas fa-backward"})),o.a.createElement("div",{className:"btn-group",role:"group"},o.a.createElement("button",{disabled:!this.state.loggedIn,id:"btnGroupNavPerPage",type:"button",className:"btn btn-secondary dropdown-toggle","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.nav-per-page")),o.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"btnGroupNavperPage"},o.a.createElement("a",{className:"dropdown-item"+(10===this.state.limit?" active":""),href:"#",onClick:function(t){return e.navigatePerPage(t,10)}},"10"),o.a.createElement("a",{className:"dropdown-item"+(20===this.state.limit?" active":""),href:"#",onClick:function(t){return e.navigatePerPage(t,20)}},"20"),o.a.createElement("a",{className:"dropdown-item"+(50===this.state.limit?" active":""),href:"#",onClick:function(t){return e.navigatePerPage(t,50)}},"50"),o.a.createElement("a",{className:"dropdown-item"+(100===this.state.limit?" active":""),href:"#",onClick:function(t){return e.navigatePerPage(t,100)}},"100"))),o.a.createElement("button",V({disabled:!this.state.loggedIn,type:"button",className:"btn btn-secondary",onClick:function(t){return e.navigate(t,1)},title:i.a.t("admin.nav-next")},"disabled",this.state.limit>this.state.scopes.list.length),o.a.createElement("i",{className:"fas fa-forward"})),o.a.createElement("button",{disabled:!this.state.loggedIn,type:"button",className:"btn btn-secondary",onClick:function(t){return e.addScope(t)},title:i.a.t("admin.scope-add")},o.a.createElement("i",{className:"fas fa-plus"}))),o.a.createElement("div",{className:"btn-group btn-icon-right",role:"group"},o.a.createElement("input",{disabled:!this.state.loggedIn,className:"form-control",type:"search",placeholder:i.a.t("admin.nav-search-placeholder"),"aria-label":"Search",onChange:this.handleChangeSearchPattern,value:this.state.handleChangeSearchPattern}),o.a.createElement("button",{disabled:!this.state.loggedIn,className:"btn btn-secondary my-sm-0",type:"submit",title:i.a.t("admin.nav-search-title"),onClick:function(t){return e.searchScopes(t)}},i.a.t("admin.nav-search")))),o.a.createElement("div",{className:"dropdown d-block d-lg-none"},o.a.createElement("button",{disabled:!this.state.loggedIn,className:"btn btn-secondary dropdown-toggle",type:"button",id:"dropdownMenuNav","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},o.a.createElement("i",{className:"fas fa-chevron-circle-down"})),o.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenuNav"},o.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.navigate(t,-1)},alt:i.a.t("admin.nav-previous")},o.a.createElement("i",{className:"fas fa-backward btn-icon"}),i.a.t("admin.nav-previous")),o.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.navigate(t,1)},alt:i.a.t("admin.nav-next")},o.a.createElement("i",{className:"fas fa-forward btn-icon"}),i.a.t("admin.nav-next")),o.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.addScope(t)},alt:i.a.t("admin.scope-add")},o.a.createElement("i",{className:"fas fa-plus btn-icon"}),i.a.t("admin.scope-add")))))),o.a.createElement("tr",null,o.a.createElement("th",null,i.a.t("admin.name")),o.a.createElement("th",{className:"d-none d-lg-table-cell"},i.a.t("admin.display-name")),o.a.createElement("th",{className:"d-none d-lg-table-cell"},i.a.t("admin.description")),o.a.createElement("th",null))),o.a.createElement("tbody",null,t,o.a.createElement("tr",null,o.a.createElement("td",{colSpan:"6"},i.a.t("admin.nav-footer",{offset:this.state.offset,limit:this.state.limit})))))}}]),a}();function H(e){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Y(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Q(e,t){return(Q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ee(e){return(ee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var te=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Q(e,t)}(a,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=ee(e);if(t){var o=ee(this).constructor;a=Reflect.construct(r,arguments,o)}else a=r.apply(this,arguments);return function(e,t){return!t||"object"!==H(t)&&"function"!=typeof t?Z(e):t}(this,a)}}(a);function a(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(r=t.call(this,e)).state={config:e.config,mods:e.mods,curMod:{},types:e.types,loggedIn:e.loggedIn},r.addMod=r.addMod.bind(Z(r)),r.reloadMods=r.reloadMods.bind(Z(r)),r.editMod=r.editMod.bind(Z(r)),r.deleteMod=r.deleteMod.bind(Z(r)),r.switchModStatus=r.switchModStatus.bind(Z(r)),r}return function(e,t,a){t&&Y(e.prototype,t)}(a,[{key:"componentWillReceiveProps",value:function(e){this.setState({mods:e.mods,types:e.types,loggedIn:e.loggedIn})}},{key:"addMod",value:function(e){d.a.sendMessage("App",{type:"add",role:"userMod"})}},{key:"reloadMods",value:function(e){d.a.sendMessage("App",{type:"reloadMods"})}},{key:"editMod",value:function(e,t,a){d.a.sendMessage("App",{type:"edit",role:"userMod",mod:t,index:a})}},{key:"deleteMod",value:function(e,t){d.a.sendMessage("App",{type:"delete",role:"userMod",mod:t})}},{key:"moveModUp",value:function(e,t,a){t.order_rank--,a.order_rank++,d.a.sendMessage("App",{type:"swap",role:"userMod",mod:t,previousMod:a})}},{key:"switchModStatus",value:function(e){var t=e.enabled?"disable":"enable";c.a.glewlwydRequest("/mod/user/"+encodeURIComponent(e.name)+"/"+t+"/","PUT").then((function(){d.a.sendMessage("Notification",{type:"success",message:i.a.t("admin.success-api-edit-mod")})})).fail((function(e){d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-edit-mod")}),400===e.status&&d.a.sendMessage("Notification",{type:"danger",message:JSON.stringify(e.responseJSON)})})).always((function(){d.a.sendMessage("App",{type:"refresh",role:"userMod",mod:e})}))}},{key:"render",value:function(){var e=this,t=[];return this.state.mods.forEach((function(a,r){var n,s,l="",m="",c="";e.state.types.forEach((function(e){a.module===e.name&&(l=e.display_name)})),r&&(m=o.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return e.moveModUp(t,a,e.state.mods[r-1])},title:i.a.t("admin.move-up")},o.a.createElement("i",{className:"fas fa-sort-up"})),n=o.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return moveModUp(t,a,e.state.mods[r-1])},alt:i.a.t("admin.move-up")},o.a.createElement("i",{className:"fas fa-sort-up btn-icon"}),i.a.t("admin.move-up"))),a.enabled?(c=o.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return e.switchModStatus(a)},title:i.a.t("admin.switch-off")},o.a.createElement("i",{className:"fas fa-toggle-on"})),s=o.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.switchModStatus(a)},alt:i.a.t("admin.switch-off")},o.a.createElement("i",{className:"fas fa-toggle-on btn-icon"}),i.a.t("admin.switch-off"))):(c=o.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return e.switchModStatus(a)},title:i.a.t("admin.switch-on")},o.a.createElement("i",{className:"fas fa-toggle-off"})),s=o.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.switchModStatus(a)},alt:i.a.t("admin.switch-on")},o.a.createElement("i",{className:"fas fa-toggle-off btn-icon"}),i.a.t("admin.switch-on"))),t.push(o.a.createElement("tr",{key:r,className:a.enabled?"":"table-danger"},o.a.createElement("td",{className:"d-none d-lg-table-cell"},a.order_rank),o.a.createElement("td",null,l),o.a.createElement("td",null,a.name),o.a.createElement("td",{className:"d-none d-lg-table-cell"},a.display_name||""),o.a.createElement("td",{className:"d-none d-lg-table-cell"},a.readonly?i.a.t("yes"):i.a.t("no")),o.a.createElement("td",{className:"d-none d-lg-table-cell"},a.enabled?i.a.t("yes"):i.a.t("no")),o.a.createElement("td",null,o.a.createElement("div",{className:"btn-group d-none d-lg-table-cell",role:"group"},c,o.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return e.editMod(t,a,r)},title:i.a.t("admin.edit")},o.a.createElement("i",{className:"fas fa-edit"})),o.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return e.deleteMod(t,a)},title:i.a.t("admin.delete")},o.a.createElement("i",{className:"fas fa-trash"})),m),o.a.createElement("div",{className:"dropdown d-block d-lg-none"},o.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"dropdownMenuNav","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},o.a.createElement("i",{className:"fas fa-chevron-circle-down"})),o.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenuNav"},s,o.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.editMod(t,a,r)},alt:i.a.t("admin.edit")},o.a.createElement("i",{className:"fas fa-edit btn-icon"}),i.a.t("admin.edit")),o.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.deleteMod(t,a)},alt:i.a.t("admin.delete")},o.a.createElement("i",{className:"fas fa-trash btn-icon"}),i.a.t("admin.delete")),n)))))})),o.a.createElement("table",{className:"table table-responsive table-striped"},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",{colSpan:"5"},o.a.createElement("h4",null,i.a.t("admin.user-mod-list-title"))),o.a.createElement("th",{colSpan:"1"},o.a.createElement("div",{className:"btn-group",role:"group"},o.a.createElement("button",{disabled:!this.state.loggedIn,type:"button",className:"btn btn-secondary",onClick:function(t){return e.addMod(t)},title:i.a.t("admin.add")},o.a.createElement("i",{className:"fas fa-plus"})),o.a.createElement("button",{disabled:!this.state.loggedIn,type:"button",className:"btn btn-secondary",onClick:function(t){return e.reloadMods(t)},title:i.a.t("login.btn-reload")},o.a.createElement("i",{className:"fas fa-refresh"}))))),o.a.createElement("tr",null,o.a.createElement("th",{className:"d-none d-lg-table-cell"},i.a.t("admin.order")),o.a.createElement("th",null,i.a.t("admin.type")),o.a.createElement("th",null,i.a.t("admin.name")),o.a.createElement("th",{className:"d-none d-lg-table-cell"},i.a.t("admin.display-name")),o.a.createElement("th",{className:"d-none d-lg-table-cell"},i.a.t("admin.readonly")),o.a.createElement("th",{className:"d-none d-lg-table-cell"},i.a.t("admin.enabled")),o.a.createElement("th",null))),o.a.createElement("tbody",null,t))}}]),a}();function ae(e){return(ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function re(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function oe(e,t){return(oe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ne(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function se(e){return(se=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ie=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oe(e,t)}(a,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=se(e);if(t){var o=se(this).constructor;a=Reflect.construct(r,arguments,o)}else a=r.apply(this,arguments);return function(e,t){return!t||"object"!==ae(t)&&"function"!=typeof t?ne(e):t}(this,a)}}(a);function a(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(r=t.call(this,e)).state={config:e.config,mods:e.mods,curMod:{},types:e.types,loggedIn:e.loggedIn},r.addMod=r.addMod.bind(ne(r)),r.reloadMods=r.reloadMods.bind(ne(r)),r.editMod=r.editMod.bind(ne(r)),r.deleteMod=r.deleteMod.bind(ne(r)),r.moveModUp=r.moveModUp.bind(ne(r)),r.switchModStatus=r.switchModStatus.bind(ne(r)),r}return function(e,t,a){t&&re(e.prototype,t)}(a,[{key:"componentWillReceiveProps",value:function(e){this.setState({mods:e.mods,types:e.types,loggedIn:e.loggedIn})}},{key:"addMod",value:function(e){d.a.sendMessage("App",{type:"add",role:"clientMod"})}},{key:"reloadMods",value:function(e){d.a.sendMessage("App",{type:"reloadMods"})}},{key:"editMod",value:function(e,t,a){d.a.sendMessage("App",{type:"edit",role:"clientMod",mod:t,index:a})}},{key:"deleteMod",value:function(e,t){d.a.sendMessage("App",{type:"delete",role:"clientMod",mod:t})}},{key:"moveModUp",value:function(e,t,a){t.order_rank--,a.order_rank++,d.a.sendMessage("App",{type:"swap",role:"clientMod",mod:t,previousMod:a})}},{key:"switchModStatus",value:function(e){var t=e.enabled?"disable":"enable";c.a.glewlwydRequest("/mod/client/"+encodeURIComponent(e.name)+"/"+t+"/","PUT").then((function(){d.a.sendMessage("Notification",{type:"success",message:i.a.t("admin.success-api-edit-mod")})})).fail((function(e){d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-edit-mod")}),400===e.status&&d.a.sendMessage("Notification",{type:"danger",message:JSON.stringify(e.responseJSON)})})).always((function(){d.a.sendMessage("App",{type:"refresh",role:"clientMod",mod:e})}))}},{key:"render",value:function(){var e=this,t=[];return this.state.mods.forEach((function(a,r){var n,s,l="",m="",c="";e.state.types.forEach((function(e){a.module===e.name&&(l=e.display_name)})),r&&(m=o.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return e.moveModUp(t,a,e.state.mods[r-1])},title:i.a.t("admin.move-up")},o.a.createElement("i",{className:"fas fa-sort-up"})),n=o.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return moveModUp(t,a,e.state.mods[r-1])},alt:i.a.t("admin.move-up")},o.a.createElement("i",{className:"fas fa-sort-up btn-icon"}),i.a.t("admin.move-up"))),a.enabled?(c=o.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return e.switchModStatus(a)},title:i.a.t("admin.switch-off")},o.a.createElement("i",{className:"fas fa-toggle-on"})),s=o.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.switchModStatus(a)},alt:i.a.t("admin.switch-off")},o.a.createElement("i",{className:"fas fa-toggle-on btn-icon"}),i.a.t("admin.switch-off"))):(c=o.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return e.switchModStatus(a)},title:i.a.t("admin.switch-on")},o.a.createElement("i",{className:"fas fa-toggle-off"})),s=o.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.switchModStatus(a)},alt:i.a.t("admin.switch-on")},o.a.createElement("i",{className:"fas fa-toggle-off btn-icon"}),i.a.t("admin.switch-on"))),t.push(o.a.createElement("tr",{key:r,className:a.enabled?"":"table-danger"},o.a.createElement("td",{className:"d-none d-lg-table-cell"},a.order_rank),o.a.createElement("td",null,l),o.a.createElement("td",null,a.name),o.a.createElement("td",{className:"d-none d-lg-table-cell"},a.display_name||""),o.a.createElement("td",{className:"d-none d-lg-table-cell"},a.readonly?i.a.t("yes"):i.a.t("no")),o.a.createElement("td",{className:"d-none d-lg-table-cell"},a.enabled?i.a.t("yes"):i.a.t("no")),o.a.createElement("td",null,o.a.createElement("div",{className:"btn-group d-none d-lg-table-cell",role:"group"},c,o.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return e.editMod(t,a,r)},title:i.a.t("admin.edit")},o.a.createElement("i",{className:"fas fa-edit"})),o.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return e.deleteMod(t,a)},title:i.a.t("admin.delete")},o.a.createElement("i",{className:"fas fa-trash"})),m),o.a.createElement("div",{className:"dropdown d-block d-lg-none"},o.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"dropdownMenuNav","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},o.a.createElement("i",{className:"fas fa-chevron-circle-down"})),o.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenuNav"},s,o.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.editMod(t,a,r)},alt:i.a.t("admin.edit")},o.a.createElement("i",{className:"fas fa-edit btn-icon"}),i.a.t("admin.edit")),o.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.deleteMod(t,a)},alt:i.a.t("admin.delete")},o.a.createElement("i",{className:"fas fa-trash btn-icon"}),i.a.t("admin.delete")),n)))))})),o.a.createElement("table",{className:"table table-responsive table-striped"},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",{colSpan:"5"},o.a.createElement("h4",null,i.a.t("admin.client-mod-list-title"))),o.a.createElement("th",{colSpan:"1"},o.a.createElement("div",{className:"btn-group",role:"group"},o.a.createElement("button",{disabled:!this.state.loggedIn,type:"button",className:"btn btn-secondary",onClick:function(t){return e.addMod(t)},title:i.a.t("admin.add")},o.a.createElement("i",{className:"fas fa-plus"})),o.a.createElement("button",{disabled:!this.state.loggedIn,type:"button",className:"btn btn-secondary",onClick:function(t){return e.reloadMods(t)},title:i.a.t("login.btn-reload")},o.a.createElement("i",{className:"fas fa-refresh"}))))),o.a.createElement("tr",null,o.a.createElement("th",{className:"d-none d-lg-table-cell"},i.a.t("admin.order")),o.a.createElement("th",null,i.a.t("admin.type")),o.a.createElement("th",null,i.a.t("admin.name")),o.a.createElement("th",{className:"d-none d-lg-table-cell"},i.a.t("admin.display-name")),o.a.createElement("th",{className:"d-none d-lg-table-cell"},i.a.t("admin.readonly")),o.a.createElement("th",{className:"d-none d-lg-table-cell"},i.a.t("admin.enabled")),o.a.createElement("th",null))),o.a.createElement("tbody",null,t))}}]),a}();function le(e){return(le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function me(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ce(e,t){return(ce=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function de(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pe(e){return(pe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ue=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ce(e,t)}(a,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=pe(e);if(t){var o=pe(this).constructor;a=Reflect.construct(r,arguments,o)}else a=r.apply(this,arguments);return function(e,t){return!t||"object"!==le(t)&&"function"!=typeof t?de(e):t}(this,a)}}(a);function a(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(r=t.call(this,e)).state={config:e.config,mods:e.mods,curMod:{},types:e.types,loggedIn:e.loggedIn},r.addMod=r.addMod.bind(de(r)),r.reloadMods=r.reloadMods.bind(de(r)),r.editMod=r.editMod.bind(de(r)),r.deleteMod=r.deleteMod.bind(de(r)),r.switchModStatus=r.switchModStatus.bind(de(r)),r}return function(e,t,a){t&&me(e.prototype,t)}(a,[{key:"componentWillReceiveProps",value:function(e){this.setState({mods:e.mods,types:e.types,loggedIn:e.loggedIn})}},{key:"addMod",value:function(e){d.a.sendMessage("App",{type:"add",role:"userMiddlewareMod"})}},{key:"reloadMods",value:function(e){d.a.sendMessage("App",{type:"reloadMods"})}},{key:"editMod",value:function(e,t,a){d.a.sendMessage("App",{type:"edit",role:"userMiddlewareMod",mod:t,index:a})}},{key:"deleteMod",value:function(e,t){d.a.sendMessage("App",{type:"delete",role:"userMiddlewareMod",mod:t})}},{key:"moveModUp",value:function(e,t,a){t.order_rank--,a.order_rank++,d.a.sendMessage("App",{type:"swap",role:"userMiddlewareMod",mod:t,previousMod:a})}},{key:"switchModStatus",value:function(e){var t=e.enabled?"disable":"enable";c.a.glewlwydRequest("/mod/user_middleware/"+encodeURIComponent(e.name)+"/"+t+"/","PUT").then((function(){d.a.sendMessage("Notification",{type:"success",message:i.a.t("admin.success-api-edit-mod")})})).fail((function(e){d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-edit-mod")}),400===e.status&&d.a.sendMessage("Notification",{type:"danger",message:JSON.stringify(e.responseJSON)})})).always((function(){d.a.sendMessage("App",{type:"refresh",role:"userMiddlewareMod",mod:e})}))}},{key:"render",value:function(){var e=this,t=[];return this.state.mods.forEach((function(a,r){var n,s,l="",m="",c="";e.state.types.forEach((function(e){a.module===e.name&&(l=e.display_name)})),r&&(m=o.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return e.moveModUp(t,a,e.state.mods[r-1])},title:i.a.t("admin.move-up")},o.a.createElement("i",{className:"fas fa-sort-up"})),n=o.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return moveModUp(t,a,e.state.mods[r-1])},alt:i.a.t("admin.move-up")},o.a.createElement("i",{className:"fas fa-sort-up btn-icon"}),i.a.t("admin.move-up"))),a.enabled?(c=o.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return e.switchModStatus(a)},title:i.a.t("admin.switch-off")},o.a.createElement("i",{className:"fas fa-toggle-on"})),s=o.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.switchModStatus(a)},alt:i.a.t("admin.switch-off")},o.a.createElement("i",{className:"fas fa-toggle-on btn-icon"}),i.a.t("admin.switch-off"))):(c=o.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return e.switchModStatus(a)},title:i.a.t("admin.switch-on")},o.a.createElement("i",{className:"fas fa-toggle-off"})),s=o.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.switchModStatus(a)},alt:i.a.t("admin.switch-on")},o.a.createElement("i",{className:"fas fa-toggle-off btn-icon"}),i.a.t("admin.switch-on"))),t.push(o.a.createElement("tr",{key:r,className:a.enabled?"":"table-danger"},o.a.createElement("td",{className:"d-none d-lg-table-cell"},a.order_rank),o.a.createElement("td",null,l),o.a.createElement("td",null,a.name),o.a.createElement("td",{className:"d-none d-lg-table-cell"},a.display_name||""),o.a.createElement("td",{className:"d-none d-lg-table-cell"},a.enabled?i.a.t("yes"):i.a.t("no")),o.a.createElement("td",null,o.a.createElement("div",{className:"btn-group d-none d-lg-table-cell",role:"group"},c,o.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return e.editMod(t,a,r)},title:i.a.t("admin.edit")},o.a.createElement("i",{className:"fas fa-edit"})),o.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return e.deleteMod(t,a)},title:i.a.t("admin.delete")},o.a.createElement("i",{className:"fas fa-trash"})),m),o.a.createElement("div",{className:"dropdown d-block d-lg-none"},o.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"dropdownMenuNav","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},o.a.createElement("i",{className:"fas fa-chevron-circle-down"})),o.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenuNav"},s,o.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.editMod(t,a,r)},alt:i.a.t("admin.edit")},o.a.createElement("i",{className:"fas fa-edit btn-icon"}),i.a.t("admin.edit")),o.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.deleteMod(t,a)},alt:i.a.t("admin.delete")},o.a.createElement("i",{className:"fas fa-trash btn-icon"}),i.a.t("admin.delete")),n)))))})),o.a.createElement("table",{className:"table table-responsive table-striped"},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",{colSpan:"5"},o.a.createElement("h4",null,i.a.t("admin.user-middleware-mod-list-title"))),o.a.createElement("th",{colSpan:"1"},o.a.createElement("div",{className:"btn-group",role:"group"},o.a.createElement("button",{disabled:!this.state.loggedIn,type:"button",className:"btn btn-secondary",onClick:function(t){return e.addMod(t)},title:i.a.t("admin.add")},o.a.createElement("i",{className:"fas fa-plus"})),o.a.createElement("button",{disabled:!this.state.loggedIn,type:"button",className:"btn btn-secondary",onClick:function(t){return e.reloadMods(t)},title:i.a.t("login.btn-reload")},o.a.createElement("i",{className:"fas fa-refresh"}))))),o.a.createElement("tr",null,o.a.createElement("th",{className:"d-none d-lg-table-cell"},i.a.t("admin.order")),o.a.createElement("th",null,i.a.t("admin.type")),o.a.createElement("th",null,i.a.t("admin.name")),o.a.createElement("th",{className:"d-none d-lg-table-cell"},i.a.t("admin.display-name")),o.a.createElement("th",{className:"d-none d-lg-table-cell"},i.a.t("admin.enabled")),o.a.createElement("th",null))),o.a.createElement("tbody",null,t))}}]),a}();function he(e){return(he="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fe(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ge(e,t){return(ge=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function be(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ye(e){return(ye=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ve=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ge(e,t)}(a,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=ye(e);if(t){var o=ye(this).constructor;a=Reflect.construct(r,arguments,o)}else a=r.apply(this,arguments);return function(e,t){return!t||"object"!==he(t)&&"function"!=typeof t?be(e):t}(this,a)}}(a);function a(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(r=t.call(this,e)).state={config:e.config,mods:e.mods,curMod:{},types:e.types,loggedIn:e.loggedIn},r.addMod=r.addMod.bind(be(r)),r.reloadMods=r.reloadMods.bind(be(r)),r.editMod=r.editMod.bind(be(r)),r.deleteMod=r.deleteMod.bind(be(r)),r.switchModStatus=r.switchModStatus.bind(be(r)),r}return function(e,t,a){t&&fe(e.prototype,t)}(a,[{key:"componentWillReceiveProps",value:function(e){this.setState({mods:e.mods,types:e.types,loggedIn:e.loggedIn})}},{key:"addMod",value:function(e){d.a.sendMessage("App",{type:"add",role:"schemeMod"})}},{key:"reloadMods",value:function(e){d.a.sendMessage("App",{type:"reloadMods"})}},{key:"editMod",value:function(e,t,a){d.a.sendMessage("App",{type:"edit",role:"schemeMod",mod:t,index:a})}},{key:"deleteMod",value:function(e,t){d.a.sendMessage("App",{type:"delete",role:"schemeMod",mod:t})}},{key:"switchModStatus",value:function(e){var t=e.enabled?"disable":"enable";c.a.glewlwydRequest("/mod/scheme/"+encodeURIComponent(e.name)+"/"+t+"/","PUT").then((function(){d.a.sendMessage("Notification",{type:"success",message:i.a.t("admin.success-api-edit-mod")})})).fail((function(e){400===e.status&&d.a.sendMessage("Notification",{type:"danger",message:JSON.stringify(e.responseJSON)}),d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-edit-mod")})})).always((function(){d.a.sendMessage("App",{type:"refresh",role:"schemeMod",mod:e})}))}},{key:"render",value:function(){var e=this,t=[];return this.state.mods.forEach((function(a,r){var n,s="",l="";e.state.types.forEach((function(e){a.module===e.name&&(s=e.display_name)})),a.enabled?(l=o.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return e.switchModStatus(a)},title:i.a.t("admin.switch-off")},o.a.createElement("i",{className:"fas fa-toggle-on"})),n=o.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.switchModStatus(a)},alt:i.a.t("admin.switch-off")},o.a.createElement("i",{className:"fas fa-toggle-on btn-icon"}),i.a.t("admin.switch-off"))):(l=o.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return e.switchModStatus(a)},title:i.a.t("admin.switch-on")},o.a.createElement("i",{className:"fas fa-toggle-off"})),n=o.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.switchModStatus(a)},alt:i.a.t("admin.switch-on")},o.a.createElement("i",{className:"fas fa-toggle-off btn-icon"}),i.a.t("admin.switch-on"))),t.push(o.a.createElement("tr",{key:r,className:a.enabled?"":"table-danger"},o.a.createElement("td",null,s),o.a.createElement("td",null,a.name),o.a.createElement("td",{className:"d-none d-lg-table-cell"},a.display_name||""),o.a.createElement("td",{className:"d-none d-lg-table-cell"},a.enabled?i.a.t("yes"):i.a.t("no")),o.a.createElement("td",null,o.a.createElement("div",{className:"btn-group d-none d-lg-table-cell",role:"group"},l,o.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return e.editMod(t,a,r)},title:i.a.t("admin.edit")},o.a.createElement("i",{className:"fas fa-edit"})),o.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return e.deleteMod(t,a)},title:i.a.t("admin.delete")},o.a.createElement("i",{className:"fas fa-trash"}))),o.a.createElement("div",{className:"dropdown d-block d-lg-none"},o.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"dropdownMenuNav","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},o.a.createElement("i",{className:"fas fa-chevron-circle-down"})),o.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenuNav"},n,o.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.editMod(t,a,r)},alt:i.a.t("admin.edit")},o.a.createElement("i",{className:"fas fa-edit btn-icon"}),i.a.t("admin.edit")),o.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.deleteMod(t,a)},alt:i.a.t("admin.delete")},o.a.createElement("i",{className:"fas fa-trash btn-icon"}),i.a.t("admin.delete")))))))})),o.a.createElement("table",{className:"table table-responsive table-striped"},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",{colSpan:"4"},o.a.createElement("h4",null,i.a.t("admin.scheme-mod-list-title")),o.a.createElement("div",{className:"btn-group",role:"group"},o.a.createElement("button",{disabled:!this.state.loggedIn,type:"button",className:"btn btn-secondary",onClick:function(t){return e.addMod(t)},title:i.a.t("admin.add")},o.a.createElement("i",{className:"fas fa-plus"})),o.a.createElement("button",{disabled:!this.state.loggedIn,type:"button",className:"btn btn-secondary",onClick:function(t){return e.reloadMods(t)},title:i.a.t("login.btn-reload")},o.a.createElement("i",{className:"fas fa-refresh"}))))),o.a.createElement("tr",null,o.a.createElement("th",null,i.a.t("admin.type")),o.a.createElement("th",null,i.a.t("admin.name")),o.a.createElement("th",{className:"d-none d-lg-table-cell"},i.a.t("admin.display-name")),o.a.createElement("th",{className:"d-none d-lg-table-cell"},i.a.t("admin.enabled")),o.a.createElement("th",null))),o.a.createElement("tbody",null,t))}}]),a}();function Ee(e){return(Ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function we(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ne(e,t){return(Ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ke(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ce(e){return(Ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Pe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ne(e,t)}(a,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=Ce(e);if(t){var o=Ce(this).constructor;a=Reflect.construct(r,arguments,o)}else a=r.apply(this,arguments);return function(e,t){return!t||"object"!==Ee(t)&&"function"!=typeof t?ke(e):t}(this,a)}}(a);function a(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(r=t.call(this,e)).state={config:e.config,mods:e.mods,curMod:{},types:e.types,loggedIn:e.loggedIn},r.addMod=r.addMod.bind(ke(r)),r.reloadMods=r.reloadMods.bind(ke(r)),r.editMod=r.editMod.bind(ke(r)),r.deleteMod=r.deleteMod.bind(ke(r)),r.switchModStatus=r.switchModStatus.bind(ke(r)),r}return function(e,t,a){t&&we(e.prototype,t)}(a,[{key:"componentWillReceiveProps",value:function(e){this.setState({mods:e.mods,types:e.types,loggedIn:e.loggedIn})}},{key:"addMod",value:function(e){d.a.sendMessage("App",{type:"add",role:"plugin"})}},{key:"reloadMods",value:function(e){d.a.sendMessage("App",{type:"reloadMods"})}},{key:"editMod",value:function(e,t,a){d.a.sendMessage("App",{type:"edit",role:"plugin",mod:t,index:a})}},{key:"deleteMod",value:function(e,t){d.a.sendMessage("App",{type:"delete",role:"plugin",mod:t})}},{key:"switchModStatus",value:function(e){var t=e.enabled?"disable":"enable";c.a.glewlwydRequest("/mod/plugin/"+encodeURIComponent(e.name)+"/"+t+"/","PUT").then((function(){d.a.sendMessage("Notification",{type:"success",message:i.a.t("admin.success-api-edit-mod")})})).fail((function(e){d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-edit-mod")}),400===e.status&&d.a.sendMessage("Notification",{type:"danger",message:JSON.stringify(e.responseJSON)})})).always((function(){d.a.sendMessage("App",{type:"refresh",role:"pluginMod",mod:e})}))}},{key:"render",value:function(){var e=this,t=[];return this.state.mods.forEach((function(a,r){var n,s="",l="";e.state.types.forEach((function(e){a.module===e.name&&(s=e.display_name)})),a.enabled?(l=o.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return e.switchModStatus(a)},title:i.a.t("admin.switch-off")},o.a.createElement("i",{className:"fas fa-toggle-on"})),n=o.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.switchModStatus(a)},alt:i.a.t("admin.switch-off")},o.a.createElement("i",{className:"fas fa-toggle-on btn-icon"}),i.a.t("admin.switch-off"))):(l=o.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return e.switchModStatus(a)},title:i.a.t("admin.switch-on")},o.a.createElement("i",{className:"fas fa-toggle-off"})),n=o.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.switchModStatus(a)},alt:i.a.t("admin.switch-on")},o.a.createElement("i",{className:"fas fa-toggle-off btn-icon"}),i.a.t("admin.switch-on"))),t.push(o.a.createElement("tr",{key:r,className:a.enabled?"":"table-danger"},o.a.createElement("td",null,s),o.a.createElement("td",null,a.name),o.a.createElement("td",{className:"d-none d-lg-table-cell"},a.display_name||""),o.a.createElement("td",{className:"d-none d-lg-table-cell"},a.enabled?i.a.t("yes"):i.a.t("no")),o.a.createElement("td",null,o.a.createElement("div",{className:"btn-group d-none d-lg-table-cell",role:"group"},l,o.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return e.editMod(t,a,r)},title:i.a.t("admin.edit")},o.a.createElement("i",{className:"fas fa-edit"})),o.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return e.deleteMod(t,a)},title:i.a.t("admin.delete")},o.a.createElement("i",{className:"fas fa-trash"}))),o.a.createElement("div",{className:"dropdown d-block d-lg-none"},o.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"dropdownMenuNav","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},o.a.createElement("i",{className:"fas fa-chevron-circle-down"})),o.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenuNav"},n,o.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.editMod(t,a,r)},alt:i.a.t("admin.edit")},o.a.createElement("i",{className:"fas fa-edit btn-icon"}),i.a.t("admin.edit")),o.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.deleteMod(t,a)},alt:i.a.t("admin.delete")},o.a.createElement("i",{className:"fas fa-trash btn-icon"}),i.a.t("admin.delete")))))))})),o.a.createElement("table",{className:"table table-responsive table-striped"},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",{colSpan:"3"},o.a.createElement("h4",null,i.a.t("admin.plugin-mod-list-title"))),o.a.createElement("th",{colSpan:"1"},o.a.createElement("div",{className:"btn-group",role:"group"},o.a.createElement("button",{disabled:!this.state.loggedIn,type:"button",className:"btn btn-secondary",onClick:function(t){return e.addMod(t)},title:i.a.t("admin.add")},o.a.createElement("i",{className:"fas fa-plus"})),o.a.createElement("button",{disabled:!this.state.loggedIn,type:"button",className:"btn btn-secondary",onClick:function(t){return e.reloadMods(t)},title:i.a.t("login.btn-reload")},o.a.createElement("i",{className:"fas fa-refresh"}))))),o.a.createElement("tr",null,o.a.createElement("th",null,i.a.t("admin.type")),o.a.createElement("th",null,i.a.t("admin.name")),o.a.createElement("th",{className:"d-none d-lg-table-cell"},i.a.t("admin.display-name")),o.a.createElement("th",{className:"d-none d-lg-table-cell"},i.a.t("admin.enabled")),o.a.createElement("th",null))),o.a.createElement("tbody",null,t))}}]),a}();function Se(e){return(Se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Me(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function xe(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _e(e,t){return(_e=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Le(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function je(e){return(je=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Re=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_e(e,t)}(a,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=je(e);if(t){var o=je(this).constructor;a=Reflect.construct(r,arguments,o)}else a=r.apply(this,arguments);return function(e,t){return!t||"object"!==Se(t)&&"function"!=typeof t?Le(e):t}(this,a)}}(a);function a(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(r=t.call(this,e)).state={title:e.title,scope:e.scope,add:e.add,errorList:{},hasError:!1,modSchemes:e.modSchemes,callback:e.callback},r.closeModal=r.closeModal.bind(Le(r)),r.changeName=r.changeName.bind(Le(r)),r.changeDisplayName=r.changeDisplayName.bind(Le(r)),r.changeDescription=r.changeDescription.bind(Le(r)),r.changePwdMaxAge=r.changePwdMaxAge.bind(Le(r)),r.togglePasswordRequired=r.togglePasswordRequired.bind(Le(r)),r.addScheme=r.addScheme.bind(Le(r)),r.handleRemoveScheme=r.handleRemoveScheme.bind(Le(r)),r.handleSelectSchemeRequired=r.handleSelectSchemeRequired.bind(Le(r)),r}return function(e,t,a){t&&xe(e.prototype,t)}(a,[{key:"componentWillReceiveProps",value:function(e){this.setState({title:e.title,scope:e.scope,add:e.add,errorList:{},hasError:!1,modSchemes:e.modSchemes,callback:e.callback})}},{key:"closeModal",value:function(e,t){var a=this.state.scope;t?this.state.callback&&(a.name?(a.display_name||delete a.display_name,a.description||delete a.description,this.state.callback(t,a)):this.setState({errorList:{name:i.a.t("admin.scope-error-name")},hasError:!0})):this.state.callback(t)}},{key:"changeName",value:function(e){var t=this.state.scope;t.name=e.target.value,this.setState({scope:t})}},{key:"changePwdMaxAge",value:function(e){var t=this.state.scope;t.password_max_age=parseInt(e.target.value),this.setState({scope:t})}},{key:"changeDisplayName",value:function(e){var t=this.state.scope;t.display_name=e.target.value,this.setState({scope:t})}},{key:"changeDescription",value:function(e){var t=this.state.scope;t.description=e.target.value,this.setState({scope:t})}},{key:"togglePasswordRequired",value:function(e){var t=this.state.scope;t.password_required=!t.password_required,this.setState({scope:t})}},{key:"addScheme",value:function(e,t){var a=this.state.scope;if(!t){var r=0;for(var o in a.scheme)r++;for(t=""+r;void 0!==a.scheme[t];)t=""+ ++r;a.scheme[t]=[],a.scheme_required||(a.scheme_required={}),a.scheme_required[t]=1}var n={scheme_name:e};this.state.modSchemes.forEach((function(t){t.name===e&&(n.scheme_type=t.module,n.scheme_display_name=t.display_name)})),a.scheme[t].push(n),this.setState({scope:a})}},{key:"handleRemoveScheme",value:function(e,t,a){var r=this.state.scope;r.scheme[t]&&r.scheme[t].forEach((function(e,o){e.scheme_name===a.scheme_name&&(r.scheme[t].splice(o,1),r.scheme_required[t]>r.scheme[t].length&&(r.scheme_required[t]=r.scheme[t].length),r.scheme[t].length||(delete r.scheme[t],delete r.scheme_required[t]))})),this.setState({scope:r})}},{key:"handleSelectSchemeRequired",value:function(e,t,a){e.preventDefault();var r=this.state.scope;r.scheme_required||(r.scheme_required={}),r.scheme_required[t]=a,this.setState({scope:r})}},{key:"render",value:function(){var e,t,a,r,n,s,l=this,m=[],c=0,d=[],p=[];for(var u in this.state.hasError&&(s=o.a.createElement("span",{className:"error-input text-right"},i.a.t("admin.error-input"))),this.state.modSchemes.forEach((function(e){e.enabled&&(d.push(e.name),p.push(e.display_name||e.name))})),this.state.scope.scheme)this.state.scope.scheme[u].forEach((function(e,t){d.indexOf(e.scheme_name)>=0&&(p.splice(d.indexOf(e.scheme_name),1),d.splice(d.indexOf(e.scheme_name),1))}));return $.each(this.state.scope.scheme,(function(e,t){var r=[];n=[];var s=0;t.forEach((function(t,a){r.length&&r.push(o.a.createElement("span",{className:"badge badge-secondary btn-icon-right",key:s++},i.a.t("admin.or"))),r.push(o.a.createElement("a",{href:"#",key:s++,onClick:function(a){return l.handleRemoveScheme(a,e,t)}},o.a.createElement("span",{className:"badge badge-primary btn-icon-right"},t.scheme_display_name||t.scheme_name,o.a.createElement("span",{className:"badge badge-light btn-icon-right"},o.a.createElement("i",{className:"fas fa-times"}))))),l.state.scope.scheme_required&&l.state.scope.scheme_required[e]===a+1||!a&&!l.state.scope.scheme_required?n.push(o.a.createElement("a",{className:"dropdown-item active",href:"#",key:a,disabled:!0},a+1)):n.push(o.a.createElement("a",{className:"dropdown-item",href:"#",key:a,onClick:function(t){return l.handleSelectSchemeRequired(t,e,a+1)}},a+1))})),m.length&&m.push(o.a.createElement("span",{className:"badge badge-secondary btn-icon-right",key:c++},i.a.t("admin.and"))),d.length&&(r.length&&r.push(o.a.createElement("span",{className:"badge badge-secondary btn-icon-right",key:s++},i.a.t("admin.or"))),a=[],d.forEach((function(t,r){a.push(o.a.createElement("a",{className:"dropdown-item",href:"#",key:r,onClick:function(){return l.addScheme(t,e)}},p[r]))})),r.push(o.a.createElement("div",{className:"dropdown",key:s++},o.a.createElement("button",{className:"btn btn-secondary btn-sm dropdown-toggle",type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.scope-add-scheme")),o.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton"},a)))),m.push(o.a.createElement("div",{className:"card glwd-group-card",key:c++},o.a.createElement("div",{className:"card-body"},r),o.a.createElement("div",{className:"dropdown"},o.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.scope-scheme-required-count",{number:l.state.scope.scheme_required&&l.state.scope.scheme_required[e]?l.state.scope.scheme_required[e]:1})),o.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton"},n))))})),d.length&&(a=[],d.forEach((function(e,t){a.push(o.a.createElement("a",{className:"dropdown-item",href:"#",key:t,onClick:function(){return l.addScheme(e,!1)}},p[t]))})),r=o.a.createElement("div",{className:"dropdown"},o.a.createElement("button",{className:"btn btn-secondary btn-sm dropdown-toggle",type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.scope-add-scheme-group")),o.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton"},a))),o.a.createElement("div",{className:"modal fade",id:"editScopeModal",tabIndex:"-1",role:"dialog","aria-labelledby":"confirmModalLabel","aria-hidden":"true"},o.a.createElement("div",{className:"modal-dialog modal-lg",role:"document"},o.a.createElement("div",{className:"modal-content"},o.a.createElement("div",{className:"modal-header"},o.a.createElement("h5",{className:"modal-title",id:"confirmModalLabel"},this.state.title),o.a.createElement("button",{type:"button",className:"close","aria-label":i.a.t("modal.close"),onClick:function(e){return l.closeModal(e,!1)}},o.a.createElement("span",{"aria-hidden":"true"},"Ã—"))),o.a.createElement("div",{className:"modal-body"},o.a.createElement("form",{className:"needs-validation",noValidate:!0},o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",(Me(e={className:"input-group-text"},"className","input-group-text"),Me(e,"htmlFor","scope-name"),e),i.a.t("admin.scope-name"))),o.a.createElement("input",{type:"text",className:this.state.errorList.name?"form-control is-invalid":"form-control",id:"scope-name",placeholder:i.a.t("admin.scope-name-ph"),maxLength:"128",value:this.state.scope.name||"",onChange:function(e){return l.changeName(e)},disabled:!this.state.add})),this.state.errorList.name?o.a.createElement("span",{className:"error-input"},this.state.errorList.name):""),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"scope-display-name"},i.a.t("admin.scope-display-name"))),o.a.createElement("input",{type:"text",className:"form-control",id:"scope-display-name",placeholder:i.a.t("admin.scope-display-name-ph"),maxLength:"256",value:this.state.scope.display_name||"",onChange:function(e){return l.changeDisplayName(e)}}))),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"scope-description"},i.a.t("admin.scope-description"))),o.a.createElement("input",{type:"text",className:"form-control",id:"scope-description",placeholder:i.a.t("admin.scope-description-ph"),maxLength:"512",value:this.state.scope.description||"",onChange:function(e){return l.changeDescription(e)}}))),o.a.createElement("hr",null),o.a.createElement("div",{className:"form-group"},o.a.createElement("h4",null,i.a.t("admin.scope-auth-title"))),o.a.createElement("div",{className:"form-group form-check"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"scope-scheme-password",onChange:function(e){return l.togglePasswordRequired(e)},checked:!!this.state.scope.password_required}),o.a.createElement("label",{className:"form-check-label",htmlFor:"scope-scheme-password"},i.a.t("admin.scope-scheme-password"))),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",(Me(t={className:"input-group-text"},"className","input-group-text"),Me(t,"htmlFor","scope-password-max-age"),t),i.a.t("admin.scope-password-max-age"))),o.a.createElement("input",{type:"number",step:"1",min:"0",disabled:!this.state.scope.password_required,className:"form-control",id:"password-max-age",placeholder:i.a.t("admin.scope-password-max-age-ph"),value:this.state.scope.password_max_age||0,onChange:function(e){return l.changePwdMaxAge(e)}}))),o.a.createElement("hr",null),o.a.createElement("div",{className:"form-group"},o.a.createElement("h4",null,i.a.t("admin.scope-auth-schemes-title"))),o.a.createElement("div",{className:"form-group"},m,r))),o.a.createElement("div",{className:"modal-footer"},s,o.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(e){return l.closeModal(e,!1)}},i.a.t("modal.close")),o.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(e){return l.closeModal(e,!0)}},i.a.t("modal.ok"))))))}}]),a}();function Oe(e){return(Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fe(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Te(e,t){return(Te=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ae(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ue(e){return(Ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ie=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Te(e,t)}(a,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=Ue(e);if(t){var o=Ue(this).constructor;a=Reflect.construct(r,arguments,o)}else a=r.apply(this,arguments);return function(e,t){return!t||"object"!==Oe(t)&&"function"!=typeof t?Ae(e):t}(this,a)}}(a);function a(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(r=t.call(this,e)).state={mod:e.mod,role:e.role,check:e.check,hasError:!1},r.state.check&&r.checkParameters(),r.changeMockUserValue=r.changeMockUserValue.bind(Ae(r)),r.changeMockUserMiddlewareValue=r.changeMockUserMiddlewareValue.bind(Ae(r)),r.changeMockClientValue=r.changeMockClientValue.bind(Ae(r)),r.changeMockSchemeValue=r.changeMockSchemeValue.bind(Ae(r)),r.checkParameters=r.checkParameters.bind(Ae(r)),r}return function(e,t,a){t&&Fe(e.prototype,t)}(a,[{key:"componentWillReceiveProps",value:function(e){var t=this;this.setState({mod:e.mod,role:e.role,check:e.check,hasError:!1},(function(){t.state.check&&t.checkParameters()}))}},{key:"changeMockUserValue",value:function(e){var t=this.state.mod;t.parameters["username-prefix"]=e.target.value,this.setState({mod:t})}},{key:"changeMockUserMiddlewareValue",value:function(e){var t=this.state.mod;t.parameters.middleware=e.target.value,this.setState({mod:t})}},{key:"changeMockClientValue",value:function(e){var t=this.state.mod;t.parameters["client-id-prefix"]=e.target.value,this.setState({mod:t})}},{key:"changeMockSchemeValue",value:function(e){var t=this.state.mod;t.parameters["mock-value"]=e.target.value,this.setState({mod:t})}},{key:"checkParameters",value:function(){var e=!1;"scheme"===this.state.role?this.state.mod.parameters["mock-value"]||(e=!0):"userMiddleware"===this.state.role&&(this.state.mod.parameters.middleware||(e=!0)),e?this.setState({errorList:{}},(function(){d.a.sendMessage("ModEdit",{type:"modInvalid"})})):this.setState({errorList:{}},(function(){d.a.sendMessage("ModEdit",{type:"modValid"})}))}},{key:"render",value:function(){var e=this,t="",a="";return"user"===this.state.role?(this.state.hasError&&(a=" is-invalid",t=o.a.createElement("span",{className:"error-input"},i.a.t("admin.mod-mock-username-prefix-required"))),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-mock-username-prefix"},i.a.t("admin.mod-username-prefix"))),o.a.createElement("input",{type:"text",className:"form-control"+a,id:"mod-mock-username-prefix",placeholder:i.a.t("admin.mod-username-prefix-ph"),maxLength:"256",value:this.state.mod.parameters["username-prefix"]||"",onChange:function(t){return e.changeMockUserValue(t)}}),t))):"userMiddleware"===this.state.role?(this.state.hasError&&(a=" is-invalid",t=o.a.createElement("span",{className:"error-input"},i.a.t("admin.mod-mock-middleware-required"))),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-mock-middleware"},i.a.t("admin.mod-middleware"))),o.a.createElement("input",{type:"text",className:"form-control"+a,id:"mod-mock-middleware",placeholder:i.a.t("admin.mod-middleware-ph"),maxLength:"256",value:this.state.mod.parameters.middleware||"",onChange:function(t){return e.changeMockUserMiddlewareValue(t)}}),t))):"client"===this.state.role?(this.state.hasError&&(a=" is-invalid",t=o.a.createElement("span",{className:"error-input"},i.a.t("admin.mod-mock-client-id-prefix-required"))),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-mock-client-id-prefix"},i.a.t("admin.mod-client-id-prefix"))),o.a.createElement("input",{type:"text",className:"form-control"+a,id:"mod-mock-client-id-prefix",placeholder:i.a.t("admin.mod-client-id-prefix-ph"),maxLength:"256",value:this.state.mod.parameters["client-id-prefix"]||"",onChange:function(t){return e.changeMockClientValue(t)}}),t))):"scheme"===this.state.role?(this.state.hasError&&(a=" is-invalid",t=o.a.createElement("span",{className:"error-input"},i.a.t("admin.mod-mock-scheme-value-required"))),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-mock-scheme-value"},i.a.t("admin.mod-scheme-value"))),o.a.createElement("input",{type:"text",className:"form-control"+a,id:"mod-mock-scheme-value",placeholder:i.a.t("admin.mod-scheme-value-ph"),maxLength:"256",value:this.state.mod.parameters["mock-value"]||"",onChange:function(t){return e.changeMockSchemeValue(t)}}),t))):""}}]),a}();function qe(e){return(qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function De(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ke(e,t){return(Ke=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ze(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ve(e){return(Ve=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Be=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ke(e,t)}(a,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=Ve(e);if(t){var o=Ve(this).constructor;a=Reflect.construct(r,arguments,o)}else a=r.apply(this,arguments);return function(e,t){return!t||"object"!==qe(t)&&"function"!=typeof t?ze(e):t}(this,a)}}(a);function a(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),r=t.call(this,e),e.mod.parameters||(e.mod.parameters={}),void 0===e.mod.parameters["use-glewlwyd-connection"]&&(e.mod.parameters["use-glewlwyd-connection"]=!0),void 0===e.mod.parameters["pbkdf2-iterations"]&&(e.mod.parameters["pbkdf2-iterations"]=15e4),r.state={mod:e.mod,role:e.role,check:e.check,errorList:{}},r.state.check&&r.checkParameters(),r.toggleInternalConnection=r.toggleInternalConnection.bind(ze(r)),r.changeDbType=r.changeDbType.bind(ze(r)),r.getDbType=r.getDbType.bind(ze(r)),r.changeValue=r.changeValue.bind(ze(r)),r.addDataFormat=r.addDataFormat.bind(ze(r)),r.deleteDataFormat=r.deleteDataFormat.bind(ze(r)),r.checkParameters=r.checkParameters.bind(ze(r)),r.changedataFormatConvert=r.changedataFormatConvert.bind(ze(r)),r}return function(e,t,a){t&&De(e.prototype,t)}(a,[{key:"componentWillReceiveProps",value:function(e){var t=this;e.mod.parameters||(e.mod.parameters={}),e.mod&&e.mod.parameters&&void 0===e.mod.parameters["use-glewlwyd-connection"]&&(e.mod.parameters["use-glewlwyd-connection"]=!0),e.mod&&e.mod.parameters&&void 0===e.mod.parameters["pbkdf2-iterations"]&&(e.mod.parameters["pbkdf2-iterations"]=15e4),this.setState({mod:e.mod,role:e.role,check:e.check},(function(){t.state.check&&t.checkParameters()}))}},{key:"toggleInternalConnection",value:function(e){var t=this.state.mod;t.parameters["use-glewlwyd-connection"]=!t.parameters["use-glewlwyd-connection"],this.setState({mod:t})}},{key:"changeDbType",value:function(e,t){e.preventDefault();var a=this.state.mod;a.parameters["connection-type"]=t,this.setState({mod:a})}},{key:"getDbType",value:function(e){return"sqlite"===e?i.a.t("admin.mod-database-type-sqlite"):"mariadb"===e?i.a.t("admin.mod-database-type-mariadb"):"postgre"===e?i.a.t("admin.mod-database-type-postgre"):i.a.t("admin.mod-database-select-type")}},{key:"changeValue",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this.state.mod;r.parameters[t]=a?parseInt(e.target.value):e.target.value,this.setState({mod:r})}},{key:"addDataFormat",value:function(){var e=this.state.mod;e.parameters["data-format"]||(e.parameters["data-format"]={}),"user"===this.state.role?e.parameters["data-format"][""]={multiple:!1,read:!0,write:!0,"profile-read":!1,"profile-write":!1}:"client"===this.state.role&&(e.parameters["data-format"][""]={multiple:!1,read:!0,write:!0}),this.setState({mod:e})}},{key:"changeDataFormatProperty",value:function(e,t){var a=this.state.mod;a.parameters["data-format"][e.target.value]=a.parameters["data-format"][t],delete a.parameters["data-format"][t],this.setState({mod:a})}},{key:"changedataFormatConvert",value:function(e,t,a){var r=this.state.mod;a?r.parameters["data-format"][t].convert=a:delete r.parameters["data-format"][t].convert,this.setState({mod:r})}},{key:"toggleDataFormatValue",value:function(e,t,a){var r=this.state.mod;r.parameters["data-format"][t][a]=!r.parameters["data-format"][t][a],this.setState({mod:r})}},{key:"deleteDataFormat",value:function(e,t){var a=this.state.mod;delete a.parameters["data-format"][t],this.setState({mod:a})}},{key:"checkParameters",value:function(){var e={},t=!1;this.state.mod.parameters["use-glewlwyd-connection"]?this.state.mod.parameters["data-format"]&&Object.keys(this.state.mod.parameters["data-format"]).map((function(a){a||(t=!0,e["data-format"]=i.a.t("admin.mod-data-format-property-error"))})):("sqlite"===this.state.mod.parameters["connection-type"]?this.state.mod.parameters["sqlite-dbpath"]||(t=!0,e["sqlite-dbpath"]=i.a.t("admin.mod-database-sqlite-dbpath-error")):"mariadb"===this.state.mod.parameters["connection-type"]?(this.state.mod.parameters["mariadb-host"]||(t=!0,e["mariadb-host"]=i.a.t("admin.mod-database-mariadb-host-error")),this.state.mod.parameters["mariadb-user"]||(t=!0,e["mariadb-user"]=i.a.t("admin.mod-database-mariadb-user-error")),this.state.mod.parameters["mariadb-password"]||(t=!0,e["mariadb-password"]=i.a.t("admin.mod-database-mariadb-password-error")),this.state.mod.parameters["mariadb-dbname"]||(t=!0,e["mariadb-dbname"]=i.a.t("admin.mod-database-mariadb-dbname-error"))):"postgre"===this.state.mod.parameters["connection-type"]?this.state.mod.parameters["postgre-conninfo"]||(t=!0,e["postgre-conninfo"]=i.a.t("admin.mod-database-postgre-conninfo-error")):(t=!0,e["connection-type"]=i.a.t("admin.mod-database-connection-type-error")),this.state.mod.parameters["data-format"]&&Object.keys(this.state.mod.parameters["data-format"]).map((function(a){a||(t=!0,e["data-format"]=i.a.t("admin.mod-ldap-data-format-property-error"))}))),(null===this.state.mod.parameters["pbkdf2-iterations"]||this.state.mod.parameters["pbkdf2-iterations"]<=0)&&(t=!0,e["pbkdf2-iterations"]=i.a.t("admin.mod-database-pbkdf2-iterations-error")),t?this.setState({errorList:e},(function(){d.a.sendMessage("ModEdit",{type:"modInvalid"})})):this.setState({errorList:{}},(function(){d.a.sendMessage("ModEdit",{type:"modValid"})}))}},{key:"render",value:function(){var e,t,a=this,r=o.a.createElement("div",{className:"form-group form-check"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-database-use-internal-connection",onChange:function(e){return a.toggleInternalConnection(e)},checked:this.state.mod.parameters["use-glewlwyd-connection"]}),o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-database-use-internal-connection"},i.a.t("admin.mod-database-use-internal-connection"))),n=o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-database-pbkdf2-iterations"},i.a.t("admin.mod-database-pbkdf2-iterations"))),o.a.createElement("input",{type:"number",min:"0",step:"1",className:this.state.errorList["pbkdf2-iterations"]?"form-control is-invalid":"form-control",id:"mod-database-pbkdf2-iterations",onChange:function(e){return a.changeValue(e,"pbkdf2-iterations",!0)},value:this.state.mod.parameters["pbkdf2-iterations"],placeholder:i.a.t("admin.mod-database-pbkdf2-iterations-ph")})),this.state.errorList["pbkdf2-iterations"]?o.a.createElement("span",{className:"error-input"},this.state.errorList["pbkdf2-iterations"]):"");this.state.mod.parameters["use-glewlwyd-connection"]||(e=o.a.createElement("div",null,o.a.createElement("div",{className:"dropdown"},o.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"dropdownDbType","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},this.getDbType(this.state.mod.parameters["connection-type"])),o.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropdownDbType"},o.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(e){return a.changeDbType(e,"sqlite")}},i.a.t("admin.mod-database-type-sqlite")),o.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(e){return a.changeDbType(e,"mariadb")}},i.a.t("admin.mod-database-type-mariadb")),o.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(e){return a.changeDbType(e,"postgre")}},i.a.t("admin.mod-database-type-postgre")))),this.state.errorList["connection-type"]?o.a.createElement("span",{className:"error-input"},this.state.errorList["connection-type"]):""),"sqlite"===this.state.mod.parameters["connection-type"]?t=o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-database-sqlite-dbpath"},i.a.t("admin.mod-database-sqlite-dbpath"))),o.a.createElement("input",{type:"text",className:this.state.errorList["sqlite-dbpath"]?"form-control is-invalid":"form-control",id:"mod-database-sqlite-dbpath",onChange:function(e){return a.changeValue(e,"sqlite-dbpath")},value:this.state.mod.parameters["sqlite-dbpath"],placeholder:i.a.t("admin.mod-database-sqlite-dbpath-ph")})),this.state.errorList["sqlite-dbpath"]?o.a.createElement("span",{className:"error-input"},this.state.errorList["sqlite-dbpath"]):""):"mariadb"===this.state.mod.parameters["connection-type"]?t=o.a.createElement("div",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-database-mariadb-host"},i.a.t("admin.mod-database-mariadb-host"))),o.a.createElement("input",{type:"text",className:this.state.errorList["mariadb-host"]?"form-control is-invalid":"form-control",id:"mod-database-mariadb-host",onChange:function(e){return a.changeValue(e,"mariadb-host")},value:this.state.mod.parameters["mariadb-host"],placeholder:i.a.t("admin.mod-database-mariadb-host-ph")})),this.state.errorList["mariadb-host"]?o.a.createElement("span",{className:"error-input"},this.state.errorList["mariadb-host"]):""),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-database-mariadb-user"},i.a.t("admin.mod-database-mariadb-user"))),o.a.createElement("input",{type:"text",className:this.state.errorList["mariadb-user"]?"form-control is-invalid":"form-control",id:"mod-database-mariadb-user",onChange:function(e){return a.changeValue(e,"mariadb-user")},value:this.state.mod.parameters["mariadb-user"],placeholder:i.a.t("admin.mod-database-mariadb-user-ph")})),this.state.errorList["mariadb-user"]?o.a.createElement("span",{className:"error-input"},this.state.errorList["mariadb-user"]):""),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-database-mariadb-password"},i.a.t("admin.mod-database-mariadb-password"))),o.a.createElement("input",{type:"password",className:this.state.errorList["mariadb-password"]?"form-control is-invalid":"form-control",id:"mod-database-mariadb-password",onChange:function(e){return a.changeValue(e,"mariadb-password")},value:this.state.mod.parameters["mariadb-password"],placeholder:i.a.t("admin.mod-database-mariadb-password-ph")})),this.state.errorList["mariadb-password"]?o.a.createElement("span",{className:"error-input"},this.state.errorList["mariadb-password"]):""),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-database-mariadb-dbname"},i.a.t("admin.mod-database-mariadb-dbname"))),o.a.createElement("input",{type:"text",className:this.state.errorList["mariadb-dbname"]?"form-control is-invalid":"form-control",id:"mod-database-mariadb-dbname",onChange:function(e){return a.changeValue(e,"mariadb-dbname")},value:this.state.mod.parameters["mariadb-dbname"],placeholder:i.a.t("admin.mod-database-mariadb-dbname-ph")})),this.state.errorList["mariadb-dbname"]?o.a.createElement("span",{className:"error-input"},this.state.errorList["mariadb-dbname"]):""),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-database-mariadb-port"},i.a.t("admin.mod-database-mariadb-port"))),o.a.createElement("input",{type:"number",min:"0",max:"65535",step:"1",className:"form-control",id:"mod-database-mariadb-port",onChange:function(e){return a.changeValue(e,"mariadb-port")},value:this.state.mod.parameters["mariadb-port"],placeholder:i.a.t("admin.mod-database-mariadb-port-ph")})))):"postgre"===this.state.mod.parameters["connection-type"]&&(t=o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-database-postgre-conninfo"},i.a.t("admin.mod-database-postgre-conninfo"))),o.a.createElement("input",{type:"text",className:this.state.errorList["postgre-conninfo"]?"form-control is-invalid":"form-control",id:"mod-database-postgre-conninfo",onChange:function(e){return a.changeValue(e,"postgre-conninfo")},value:this.state.mod.parameters["postgre-conninfo"],placeholder:i.a.t("admin.mod-database-postgre-conninfo-ph")})),this.state.errorList["postgre-conninfo"]?o.a.createElement("span",{className:"error-input"},this.state.errorList["postgre-conninfo"]):"")));var s=[],l=0;this.state.mod.parameters["data-format"]&&Object.keys(this.state.mod.parameters["data-format"]).map((function(e){var t,r;"client"===a.state.role&&(t=o.a.createElement("label",{className:"input-group-text",htmlFor:"dropdownFormatConvert-"+l},i.a.t("admin.mod-database-data-format-convert")),r=o.a.createElement("div",null,o.a.createElement("button",{className:"btn btn-outline-secondary dropdown-toggle",type:"button",id:"dropdownFormatConvert-"+l,"data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.mod-database-data-format-convert-"+(a.state.mod.parameters["data-format"][e].convert?a.state.mod.parameters["data-format"][e].convert:"none"))),o.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropdownFormatConvert-"+l},o.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return a.changedataFormatConvert(t,e,!1)}},i.a.t("admin.mod-database-data-format-convert-none")),o.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return a.changedataFormatConvert(t,e,"jwks")}},i.a.t("admin.mod-database-data-format-convert-jwks")))));var n=o.a.createElement("div",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-database-data-format-name-"+e},i.a.t("admin.mod-database-data-format-property"))),o.a.createElement("input",{type:"text",className:a.state.errorList["data-format"]?"form-control is-invalid":"form-control",id:"mod-database-data-format-name-"+e,onChange:function(t){return a.changeDataFormatProperty(t,e)},value:e,placeholder:i.a.t("admin.mod-database-data-format-property-ph")}),o.a.createElement("div",{className:"input-group-append"},t,r,o.a.createElement("button",{type:"button",className:"btn btn-outline-secondary",onClick:function(t){return a.deleteDataFormat(t,e)},title:i.a.t("admin.mod-data-format-delete")},o.a.createElement("i",{className:"fas fa-trash"})))),a.state.errorList["data-format"]?o.a.createElement("span",{className:"error-input"},a.state.errorList["data-format"]):""),o.a.createElement("div",{className:"form-group form-check"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-database-data-format-multiple-"+e,onChange:function(t){return a.toggleDataFormatValue(t,e,"multiple")},checked:a.state.mod.parameters["data-format"][e].multiple}),o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-database-data-format-multiple-"+e},i.a.t("admin.mod-database-data-format-multiple"))));"user"===a.state.role?s.push(o.a.createElement("div",{key:l++},n,o.a.createElement("div",{className:"form-group form-check"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-database-data-format-profile-read-"+e,onChange:function(t){return a.toggleDataFormatValue(t,e,"profile-read")},checked:a.state.mod.parameters["data-format"][e]["profile-read"]}),o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-database-data-format-profile-read-"+e},i.a.t("admin.mod-database-data-format-profile-read"))),o.a.createElement("div",{className:"form-group form-check"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-database-data-format-profile-write-"+e,onChange:function(t){return a.toggleDataFormatValue(t,e,"profile-write")},checked:a.state.mod.parameters["data-format"][e]["profile-write"]}),o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-database-data-format-profile-write-"+e},i.a.t("admin.mod-database-data-format-profile-write"))),o.a.createElement("hr",null))):"client"===a.state.role&&s.push(o.a.createElement("div",{key:l++},n,o.a.createElement("hr",null)))}));var m=o.a.createElement("div",{className:"accordion",id:"accordionParams"},o.a.createElement("div",{className:"card"},o.a.createElement("div",{className:"card-header",id:"dataFormatCard"},o.a.createElement("h2",{className:"mb-0"},o.a.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseDataFormat","aria-expanded":"true","aria-controls":"collapseDataFormat"},this.state.errorList["data-format"]?o.a.createElement("span",{className:"error-input btn-icon"},o.a.createElement("i",{className:"fas fa-exclamation-circle"})):"",i.a.t("admin.mod-data-format")))),o.a.createElement("div",{id:"collapseDataFormat",className:"collapse","aria-labelledby":"dataFormatCard","data-parent":"#accordionParams"},o.a.createElement("div",{className:"card-body"},o.a.createElement("p",null,i.a.t("admin.mod-data-format-message")),o.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.addDataFormat,title:i.a.t("admin.mod-data-format-add")},o.a.createElement("i",{className:"fas fa-plus"})),o.a.createElement("hr",null),s,o.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.addDataFormat,title:i.a.t("admin.mod-data-format-add")},o.a.createElement("i",{className:"fas fa-plus"}))))));return"user"===this.state.role||"client"===this.state.role?o.a.createElement("div",null,n,r,e,t,m):""}}]),a}();function Je(e){return(Je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function We(e,t){return(We=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ge(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xe(e){return(Xe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var He=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&We(e,t)}(a,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=Xe(e);if(t){var o=Xe(this).constructor;a=Reflect.construct(r,arguments,o)}else a=r.apply(this,arguments);return function(e,t){return!t||"object"!==Je(t)&&"function"!=typeof t?Ge(e):t}(this,a)}}(a);function a(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),r=t.call(this,e),e.mod.parameters["scope-match"]||(e.mod.parameters["scope-match"]=[]),e.mod.parameters["search-scope"]||(e.mod.parameters["search-scope"]="one"),r.state={mod:e.mod,role:e.role,check:e.check,errorList:{}},r.state.check&&r.checkParameters(),r.addDataFormat=r.addDataFormat.bind(Ge(r)),r.changeDataFormatProperty=r.changeDataFormatProperty.bind(Ge(r)),r.changeDataFormatLdapProperty=r.changeDataFormatLdapProperty.bind(Ge(r)),r.toggleDataFormatValue=r.toggleDataFormatValue.bind(Ge(r)),r.toggleDataFormatMultiple=r.toggleDataFormatMultiple.bind(Ge(r)),r.deleteDataFormat=r.deleteDataFormat.bind(Ge(r)),r.changeParam=r.changeParam.bind(Ge(r)),r.addScopeMatch=r.addScopeMatch.bind(Ge(r)),r.changeScopeMatchProperty=r.changeScopeMatchProperty.bind(Ge(r)),r.changeMatchType=r.changeMatchType.bind(Ge(r)),r.changedataFormatConvert=r.changedataFormatConvert.bind(Ge(r)),r.changePasswordAlgorithm=r.changePasswordAlgorithm.bind(Ge(r)),r.getMatchType=r.getMatchType.bind(Ge(r)),r.changePageSize=r.changePageSize.bind(Ge(r)),r.checkParameters=r.checkParameters.bind(Ge(r)),r.deleteScopeMatch=r.deleteScopeMatch.bind(Ge(r)),r.changeSearchScope=r.changeSearchScope.bind(Ge(r)),r}return function(e,t,a){t&&$e(e.prototype,t)}(a,[{key:"componentWillReceiveProps",value:function(e){var t=this;e.mod.parameters["scope-match"]||(e.mod.parameters["scope-match"]=[]),e.mod.parameters["search-scope"]||(e.mod.parameters["search-scope"]="one"),this.setState({mod:e.mod,role:e.role,check:e.check},(function(){t.state.check&&t.checkParameters()}))}},{key:"addDataFormat",value:function(){var e=this.state.mod;e.parameters["data-format"]||(e.parameters["data-format"]={}),e.parameters["data-format"][""]={property:"",multiple:!1,read:!0,write:!0,"profile-read":!1,"profile-write":!1},this.setState({mod:e})}},{key:"changeDataFormatProperty",value:function(e,t){var a=this.state.mod;a.parameters["data-format"][e.target.value]=a.parameters["data-format"][t],delete a.parameters["data-format"][t],this.setState({mod:a})}},{key:"changeDataFormatLdapProperty",value:function(e,t){var a=this.state.mod;a.parameters["data-format"][t].property=e.target.value,this.setState({mod:a})}},{key:"toggleDataFormatValue",value:function(e,t,a){var r=this.state.mod;r.parameters["data-format"][t][a]=!r.parameters["data-format"][t][a],this.setState({mod:r})}},{key:"toggleDataFormatMultiple",value:function(e,t){var a=this.state.mod;a.parameters["data-format"][t].multiple=!a.parameters["data-format"][t].multiple,this.setState({mod:a})}},{key:"changedataFormatConvert",value:function(e,t,a){var r=this.state.mod;a?r.parameters["data-format"][t].convert=a:delete r.parameters["data-format"][t].convert,this.setState({mod:r})}},{key:"deleteDataFormat",value:function(e,t){var a=this.state.mod;delete a.parameters["data-format"][t],this.setState({mod:a})}},{key:"changeParam",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this.state.mod;r.parameters[t]=a?e.target.value.replace(/ /g,"").split(","):e.target.value,this.setState({mod:r})}},{key:"addScopeMatch",value:function(){var e=this.state.mod;e.parameters["scope-match"]||(e.parameters["scope-match"]=[]),e.parameters["scope-match"].push({"ldap-value":"","scope-value":"",match:"equals"}),this.setState({mod:e})}},{key:"changeScopeMatchProperty",value:function(e,t,a){var r=this.state.mod;r.parameters["scope-match"][t][a]=e.target.value,this.setState({mod:r})}},{key:"changeMatchType",value:function(e,t,a){var r=this.state.mod;r.parameters["scope-match"][t].match=a,this.setState({mod:r})}},{key:"changePasswordAlgorithm",value:function(e,t){var a=this.state.mod;a.parameters["password-algorithm"]=t,this.setState({mod:a})}},{key:"getMatchType",value:function(e){return"contains"===e?i.a.t("admin.mod-ldap-scope-match-contains"):"startswith"===e?i.a.t("admin.mod-ldap-scope-match-startswith"):"endswith"===e?i.a.t("admin.mod-ldap-scope-match-endswith"):i.a.t("admin.mod-ldap-scope-match-equals")}},{key:"changePageSize",value:function(e){var t=this.state.mod;t.parameters["page-size"]=parseInt(e.target.value),this.setState({mod:t})}},{key:"deleteScopeMatch",value:function(e){var t=this.state.mod;t.parameters["scope-match"].splice(e,1),this.setState({mod:t})}},{key:"changeSearchScope",value:function(e,t){e.preventDefault();var a=this.state.mod;a.parameters["search-scope"]=t,this.setState({mod:a})}},{key:"checkParameters",value:function(){var e=this,t={},a=!1;this.state.mod.parameters.uri||(a=!0,t.uri=i.a.t("admin.mod-ldap-uri-error")),this.state.mod.parameters["bind-dn"]||(a=!0,t["bind-dn"]=i.a.t("admin.mod-ldap-bind-dn-error")),this.state.mod.parameters["bind-password"]||(a=!0,t["bind-password"]=i.a.t("admin.mod-ldap-bind-password-error")),this.state.mod.parameters["base-search"]||(a=!0,t["base-search"]=i.a.t("admin.mod-ldap-base-search-error")),this.state.mod.parameters.filter||(a=!0,t.filter=i.a.t("admin.mod-ldap-filter-error")),this.state.mod.parameters["scope-property"]||(a=!0,t["scope-property"]=i.a.t("admin.mod-ldap-scope-property-error")),"user"===this.state.role?this.state.mod.parameters["username-property"]||(a=!0,t["username-property"]=i.a.t("admin.mod-ldap-username-property-error")):this.state.mod.parameters["client_id-property"]||(a=!0,t["client_id-property"]=i.a.t("admin.mod-ldap-client_id-property-error")),this.state.mod.parameters["data-format"]&&Object.keys(this.state.mod.parameters["data-format"]).map((function(r){r?e.state.mod.parameters["data-format"][r].property||(a=!0,t["data-format"]={},t["data-format"][r]=i.a.t("admin.mod-ldap-data-format-property-ldap-error")):(a=!0,t["data-format"]={error:i.a.t("admin.mod-data-format-property-error")})})),this.state.mod.parameters["scope-match"].forEach((function(e,r){e["ldap-value"]||(t["scope-match"]||(t["scope-match"]=[]),t["scope-match"][r]||(t["scope-match"][r]={}),a=!0,t["scope-match"][r].ldap=i.a.t("admin.mod-ldap-scope-match-ldap-value-error")),e["scope-value"]||(t["scope-match"]||(t["scope-match"]=[]),t["scope-match"][r]||(t["scope-match"][r]={}),a=!0,t["scope-match"][r].scope=i.a.t("admin.mod-ldap-scope-match-scope-value-error"))})),this.state.mod.readonly||(this.state.mod.parameters["rdn-property"]||(a=!0,t["rdn-property"]=i.a.t("admin.mod-ldap-rdn-property-error")),this.state.mod.readonly||(this.state.mod.parameters["password-property"]||(a=!0,t["password-property"]=i.a.t("admin.mod-ldap-password-property-error")),"1"!==this.state.mod.parameters.confidential&&"user"!==this.state.role||this.state.mod.parameters["password-algorithm"]||(a=!0,t["password-algorithm"]=i.a.t("admin.mod-ldap-password-algorithm-error"))),this.state.mod.parameters["object-class"]||(a=!0,t["object-class"]=i.a.t("admin.mod-ldap-object-class-error"))),a?this.setState({errorList:t},(function(){d.a.sendMessage("ModEdit",{type:"modInvalid"})})):this.setState({errorList:{}},(function(){("user"===e.state.role||"client"===e.state.role)&&d.a.sendMessage("ModEdit",{type:"modValid"})}))}},{key:"render",value:function(){var e=this,t=[],a=[],r=0;this.state.mod.parameters["data-format"]&&Object.keys(this.state.mod.parameters["data-format"]).map((function(a){var n="";"user"===e.state.role&&(n=o.a.createElement("div",null,o.a.createElement("div",{className:"form-group form-check"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-database-data-format-read-"+a,onChange:function(t){return e.toggleDataFormatValue(t,a,"read")},checked:e.state.mod.parameters["data-format"][a].read}),o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-database-data-format-read-"+a},i.a.t("admin.mod-database-data-format-read"))),o.a.createElement("div",{className:"form-group form-check"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-database-data-format-write-"+a,onChange:function(t){return e.toggleDataFormatValue(t,a,"write")},checked:e.state.mod.parameters["data-format"][a].write}),o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-database-data-format-write-"+a},i.a.t("admin.mod-database-data-format-write"))),o.a.createElement("div",{className:"form-group form-check"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-database-data-format-profile-read-"+a,onChange:function(t){return e.toggleDataFormatValue(t,a,"profile-read")},checked:e.state.mod.parameters["data-format"][a]["profile-read"]}),o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-database-data-format-profile-read-"+a},i.a.t("admin.mod-database-data-format-profile-read"))),o.a.createElement("div",{className:"form-group form-check"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-database-data-format-profile-write-"+a,onChange:function(t){return e.toggleDataFormatValue(t,a,"profile-write")},checked:e.state.mod.parameters["data-format"][a]["profile-write"]}),o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-database-data-format-profile-write-"+a},i.a.t("admin.mod-database-data-format-profile-write"))))),t.push(o.a.createElement("div",{key:r++},o.a.createElement("hr",null),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-database-data-format-name-"+a},i.a.t("admin.mod-database-data-format-property"))),o.a.createElement("input",{type:"text",className:e.state.errorList["data-format"]&&e.state.errorList["data-format"].error?"form-control is-invalid":"form-control",id:"mod-database-data-format-name-"+a,onChange:function(t){return e.changeDataFormatProperty(t,a)},value:a||"",placeholder:i.a.t("admin.mod-database-data-format-property-ph")})),e.state.errorList["data-format"]&&e.state.errorList["data-format"].error?o.a.createElement("span",{className:"error-input"},e.state.errorList["data-format"].error):""),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-database-data-format-ldap-name-"+a},i.a.t("admin.mod-database-data-format-ldap-property"))),o.a.createElement("input",{type:"text",className:e.state.errorList["data-format"]&&e.state.errorList["data-format"][a]?"form-control is-invalid":"form-control",id:"mod-database-data-format-ldap-name-"+a,onChange:function(t){return e.changeDataFormatLdapProperty(t,a)},value:e.state.mod.parameters["data-format"][a].property||"",placeholder:i.a.t("admin.mod-database-data-format-ldap-property-ph")})),e.state.errorList["data-format"]&&e.state.errorList["data-format"][a]?o.a.createElement("span",{className:"error-input"},e.state.errorList["data-format"][a]):""),o.a.createElement("div",{className:"form-group form-check"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-database-data-format-multiple-"+a,onChange:function(t){return e.toggleDataFormatMultiple(t,a)},checked:e.state.mod.parameters["data-format"][a].multiple}),o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-database-data-format-multiple-"+a},i.a.t("admin.mod-database-data-format-multiple"))),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"btn-group",role:"group"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"dropdownFormatConvert-"+r},i.a.t("admin.mod-database-data-format-convert"))),o.a.createElement("div",{className:"dropdown"},o.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"dropdownFormatConvert-"+r,"data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.mod-database-data-format-convert-"+(e.state.mod.parameters["data-format"][a].convert?e.state.mod.parameters["data-format"][a].convert:"none"))),o.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropdownFormatConvert-"+r},o.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.changedataFormatConvert(t,a,!1)}},i.a.t("admin.mod-database-data-format-convert-none")),o.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.changedataFormatConvert(t,a,"base64")}},i.a.t("admin.mod-database-data-format-convert-base64")),o.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.changedataFormatConvert(t,a,"jwks")}},i.a.t("admin.mod-database-data-format-convert-jwks")))))),n,o.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return e.deleteDataFormat(t,a)},title:i.a.t("admin.mod-data-format-delete")},o.a.createElement("i",{className:"fas fa-trash"}))))})),this.state.mod.parameters["scope-match"].forEach((function(t,r){a.push(o.a.createElement("div",{key:r},o.a.createElement("hr",null),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-ldap-scope-match-ldap-"+r},i.a.t("admin.mod-ldap-scope-match-ldap"))),o.a.createElement("input",{type:"text",className:e.state.errorList["scope-match"]&&e.state.errorList["scope-match"][r]&&e.state.errorList["scope-match"][r].ldap?"form-control is-invalid":"form-control",id:"mod-ldap-scope-match-ldap-"+r,onChange:function(t){return e.changeScopeMatchProperty(t,r,"ldap-value")},value:t["ldap-value"]||"",placeholder:i.a.t("admin.mod-ldap-scope-match-ldap-ph")})),e.state.errorList["scope-match"]&&e.state.errorList["scope-match"][r]&&e.state.errorList["scope-match"][r].ldap?o.a.createElement("span",{className:"error-input"},e.state.errorList["scope-match"][r].ldap):""),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-ldap-scope-match-scope-"+r},i.a.t("admin.mod-ldap-scope-match-scope"))),o.a.createElement("input",{type:"text",className:e.state.errorList["scope-match"]&&e.state.errorList["scope-match"][r]&&e.state.errorList["scope-match"][r].scope?"form-control is-invalid":"form-control",id:"mod-ldap-scope-match-scope-"+r,onChange:function(t){return e.changeScopeMatchProperty(t,r,"scope-value")},value:t["scope-value"]||"",placeholder:i.a.t("admin.mod-ldap-scope-match-scope-ph")})),e.state.errorList["scope-match"]&&e.state.errorList["scope-match"][r]&&e.state.errorList["scope-match"][r].scope?o.a.createElement("span",{className:"error-input"},e.state.errorList["scope-match"][r].scope):""),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"btn-group",role:"group"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"dropdownMatchType-"+r},i.a.t("admin.mod-ldap-scope-match"))),o.a.createElement("div",{className:"dropdown"},o.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"dropdownMatchType-"+r,"data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},e.getMatchType(t.match)),o.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropdownMatchType-"+r},o.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.changeMatchType(t,r,"equals")}},i.a.t("admin.mod-ldap-scope-match-equals")),o.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.changeMatchType(t,r,"contains")}},i.a.t("admin.mod-ldap-scope-match-contains")),o.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.changeMatchType(t,r,"startswith")}},i.a.t("admin.mod-ldap-scope-match-startswith")),o.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.changeMatchType(t,r,"endswith")}},i.a.t("admin.mod-ldap-scope-match-endswith")))))),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(){return e.deleteScopeMatch(r)},title:i.a.t("admin.mod-ldap-scope-match-delete")},o.a.createElement("i",{className:"fas fa-trash"}))))))}));var n="",s="",l="",m="",c="";return"user"===this.state.role?(n=o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-ldap-username-property"},i.a.t("admin.mod-ldap-username-property"))),o.a.createElement("input",{type:"text",className:this.state.errorList["username-property"]?"form-control is-invalid":"form-control",id:"mod-ldap-username-property",onChange:function(t){return e.changeParam(t,"username-property",!e.state.mod.readonly)},value:this.state.mod.parameters["username-property"]||"",placeholder:i.a.t("admin.mod-ldap-username-property-ph")})),this.state.errorList["username-property"]?o.a.createElement("span",{className:"error-input"},this.state.errorList["username-property"]):""),s=o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-ldap-email-property"},i.a.t("admin.mod-ldap-email-property"))),o.a.createElement("input",{type:"text",className:"form-control",id:"mod-ldap-email-property",onChange:function(t){return e.changeParam(t,"email-property",!e.state.mod.readonly)},value:this.state.mod.parameters["email-property"]||"",placeholder:i.a.t("admin.mod-ldap-email-property-ph")})))):(m=o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-ldap-client_id-property"},i.a.t("admin.mod-ldap-client_id-property"))),o.a.createElement("input",{type:"text",className:this.state.errorList["client_id-property"]?"form-control is-invalid":"form-control",id:"mod-ldap-username-property",onChange:function(t){return e.changeParam(t,"client_id-property",!e.state.mod.readonly)},value:this.state.mod.parameters["client_id-property"]||"",placeholder:i.a.t("admin.mod-ldap-client_id-property-ph")})),this.state.errorList["client_id-property"]?o.a.createElement("span",{className:"error-input"},this.state.errorList["client_id-property"]):""),l=o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-ldap-description-property"},i.a.t("admin.mod-ldap-description-property"))),o.a.createElement("input",{type:"text",className:"form-control",id:"mod-ldap-description-property",onChange:function(t){return e.changeParam(t,"description-property",!e.state.mod.readonly)},value:this.state.mod.parameters["description-property"]||"",placeholder:i.a.t("admin.mod-ldap-description-property-ph")}))),c=o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-ldap-confidential-property"},i.a.t("admin.mod-ldap-confidential-property"))),o.a.createElement("input",{type:"text",className:"form-control",id:"mod-ldap-confidential-property",onChange:function(t){return e.changeParam(t,"confidential-property",!e.state.mod.readonly)},value:this.state.mod.parameters["confidential-property"]||"",placeholder:i.a.t("admin.mod-ldap-confidential-property-ph")})))),o.a.createElement("div",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-ldap-uri"},i.a.t("admin.mod-ldap-uri"))),o.a.createElement("input",{type:"text",className:this.state.errorList.uri?"form-control is-invalid":"form-control",id:"mod-ldap-uri",onChange:function(t){return e.changeParam(t,"uri")},value:this.state.mod.parameters.uri||"",placeholder:i.a.t("admin.mod-ldap-uri-ph")})),this.state.errorList.uri?o.a.createElement("span",{className:"error-input"},this.state.errorList.uri):""),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-ldap-bind-dn"},i.a.t("admin.mod-ldap-bind-dn"))),o.a.createElement("input",{type:"text",className:this.state.errorList["bind-dn"]?"form-control is-invalid":"form-control",id:"mod-ldap-bind-dn",onChange:function(t){return e.changeParam(t,"bind-dn")},value:this.state.mod.parameters["bind-dn"]||"",placeholder:i.a.t("admin.mod-ldap-bind-dn-ph")})),this.state.errorList["bind-dn"]?o.a.createElement("span",{className:"error-input"},this.state.errorList["bind-dn"]):""),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-ldap-bind-password"},i.a.t("admin.mod-ldap-bind-password"))),o.a.createElement("input",{type:"password",className:this.state.errorList["bind-password"]?"form-control is-invalid":"form-control",id:"mod-ldap-bind-password",onChange:function(t){return e.changeParam(t,"bind-password")},value:this.state.mod.parameters["bind-password"]||"",placeholder:i.a.t("admin.mod-ldap-bind-password-ph")})),this.state.errorList["bind-password"]?o.a.createElement("span",{className:"error-input"},this.state.errorList["bind-password"]):""),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-ldap-page-size"},i.a.t("admin.mod-ldap-page-size"))),o.a.createElement("input",{type:"number",min:"0",step:"1",className:"form-control",id:"mod-ldap-page-size",onChange:this.changePageSize,value:this.state.mod.parameters["page-size"]||"",placeholder:i.a.t("admin.mod-ldap-page-size-ph")}))),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-ldap-base-search"},i.a.t("admin.mod-ldap-base-search"))),o.a.createElement("input",{type:"text",className:this.state.errorList["base-search"]?"form-control is-invalid":"form-control",id:"mod-ldap-base-search",onChange:function(t){return e.changeParam(t,"base-search")},value:this.state.mod.parameters["base-search"]||"",placeholder:i.a.t("admin.mod-ldap-base-search-ph")})),this.state.errorList["base-search"]?o.a.createElement("span",{className:"error-input"},this.state.errorList["base-search"]):""),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-ldap-base-search"},i.a.t("admin.mod-ldap-search-scope"))),o.a.createElement("div",{className:"dropdown"},o.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-ldap-search-scope","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.mod-ldap-search-scope-"+this.state.mod.parameters["search-scope"])),o.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-ldap-search-scope"},o.a.createElement("a",{className:"dropdown-item"+("one"===this.state.mod.parameters["search-scope"]?" active":""),href:"#",onClick:function(t){return e.changeSearchScope(t,"one")}},i.a.t("admin.mod-ldap-search-scope-one")),o.a.createElement("a",{className:"dropdown-item"+("subtree"===this.state.mod.parameters["search-scope"]?" active":""),href:"#",onClick:function(t){return e.changeSearchScope(t,"subtree")}},i.a.t("admin.mod-ldap-search-scope-subtree")),o.a.createElement("a",{className:"dropdown-item"+("children"===this.state.mod.parameters["search-scope"]?" active":""),href:"#",onClick:function(t){return e.changeSearchScope(t,"children")}},i.a.t("admin.mod-ldap-search-scope-children")))))),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-ldap-filter"},i.a.t("admin.mod-ldap-filter"))),o.a.createElement("input",{type:"text",className:this.state.errorList.filter?"form-control is-invalid":"form-control",id:"mod-ldap-filter",onChange:function(t){return e.changeParam(t,"filter")},value:this.state.mod.parameters.filter||"",placeholder:i.a.t("admin.mod-ldap-filter-ph")})),this.state.errorList.filter?o.a.createElement("span",{className:"error-input"},this.state.errorList.filter):""),n,m,o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-ldap-name-property"},i.a.t("admin.mod-ldap-name-property"))),o.a.createElement("input",{type:"text",className:"form-control",id:"mod-ldap-name-property",onChange:function(t){return e.changeParam(t,"name-property",!e.state.mod.readonly)},value:this.state.mod.parameters["name-property"]||"",placeholder:i.a.t("admin.mod-ldap-name-property-ph")}))),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-ldap-scope-property"},i.a.t("admin.mod-ldap-scope-property"))),o.a.createElement("input",{type:"text",className:this.state.errorList["scope-property"]?"form-control is-invalid":"form-control",id:"mod-ldap-scope-property",onChange:function(t){return e.changeParam(t,"scope-property",!e.state.mod.readonly)},value:this.state.mod.parameters["scope-property"]||"",placeholder:i.a.t("admin.mod-ldap-scope-property-ph")})),this.state.errorList["scope-property"]?o.a.createElement("span",{className:"error-input"},this.state.errorList["scope-property"]):""),s,l,c,o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-ldap-password-property"},i.a.t("admin.mod-ldap-password-property"))),o.a.createElement("input",{disabled:this.state.mod.readonly,type:"text",className:this.state.errorList["password-property"]?"form-control is-invalid":"form-control",id:"mod-ldap-password-property",onChange:function(t){return e.changeParam(t,"password-property")},value:this.state.mod.parameters["password-property"]||"",placeholder:i.a.t("admin.mod-ldap-password-property-ph")})),this.state.errorList["password-property"]?o.a.createElement("span",{className:"error-input"},this.state.errorList["password-property"]):""),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"dropdownPasswordAlgorithm"},i.a.t("admin.mod-ldap-password-algorithm"))),o.a.createElement("div",{className:"dropdown"},o.a.createElement("button",{disabled:this.state.mod.readonly,className:this.state.errorList["password-algorithm"]?"btn btn-secondary dropdown-toggle is-invalid":"btn btn-secondary dropdown-toggle",type:"button",id:"dropdownPasswordAlgorithm","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},this.state.mod.parameters["password-algorithm"]||i.a.t("admin.mod-ldap-password-algorithm-select")),o.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropdownPasswordAlgorithm"},o.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.changePasswordAlgorithm(t,"SSHA")}},i.a.t("admin.mod-ldap-password-algorithm-ssha")),o.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.changePasswordAlgorithm(t,"SHA")}},i.a.t("admin.mod-ldap-password-algorithm-sha")),o.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.changePasswordAlgorithm(t,"SMD5")}},i.a.t("admin.mod-ldap-password-algorithm-smd5")),o.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.changePasswordAlgorithm(t,"MD5")}},i.a.t("admin.mod-ldap-password-algorithm-md5")),o.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.changePasswordAlgorithm(t,"CRYPT")}},i.a.t("admin.mod-ldap-password-algorithm-crypt")),o.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.changePasswordAlgorithm(t,"CRYPT_MD5")}},i.a.t("admin.mod-ldap-password-algorithm-crypt-md5")),o.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.changePasswordAlgorithm(t,"CRYPT_SHA256")}},i.a.t("admin.mod-ldap-password-algorithm-crypt-sha256")),o.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.changePasswordAlgorithm(t,"CRYPT_SHA512")}},i.a.t("admin.mod-ldap-password-algorithm-crypt-sha512")),o.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.changePasswordAlgorithm(t,"PLAIN")}},i.a.t("admin.mod-ldap-password-algorithm-plain")))),this.state.errorList["password-algorithm"]?o.a.createElement("span",{className:"error-input"},this.state.errorList["password-algorithm"]):"")),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-ldap-rdn-property"},i.a.t("admin.mod-ldap-rdn-property"))),o.a.createElement("input",{disabled:this.state.mod.readonly,type:"text",className:this.state.errorList["rdn-property"]?"form-control is-invalid":"form-control",id:"mod-ldap-rdn-property",onChange:function(t){return e.changeParam(t,"rdn-property")},value:this.state.mod.parameters["rdn-property"]||"",placeholder:i.a.t("admin.mod-ldap-rdn-property-ph")})),this.state.errorList["rdn-property"]?o.a.createElement("span",{className:"error-input"},this.state.errorList["rdn-property"]):""),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-ldap-object-class"},i.a.t("admin.mod-ldap-object-class"))),o.a.createElement("input",{disabled:this.state.mod.readonly,type:"text",className:this.state.errorList["object-class"]?"form-control is-invalid":"form-control",id:"mod-ldap-object-class",onChange:function(t){return e.changeParam(t,"object-class",!0)},value:this.state.mod.parameters["object-class"]||"",placeholder:i.a.t("admin.mod-ldap-object-class-ph")})),this.state.errorList["object-class"]?o.a.createElement("span",{className:"error-input"},this.state.errorList["object-class"]):""),o.a.createElement("div",{className:"accordion",id:"accordionParams"},o.a.createElement("div",{className:"card"},o.a.createElement("div",{className:"card-header",id:"dataFormatCard"},o.a.createElement("h2",{className:"mb-0"},o.a.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseDataFormat","aria-expanded":"true","aria-controls":"collapseDataFormat"},this.state.errorList["data-format"]?o.a.createElement("span",{className:"error-input btn-icon"},o.a.createElement("i",{className:"fas fa-exclamation-circle"})):"",i.a.t("admin.mod-data-format")))),o.a.createElement("div",{id:"collapseDataFormat",className:"collapse","aria-labelledby":"dataFormatCard","data-parent":"#accordionParams"},o.a.createElement("div",{className:"card-body"},o.a.createElement("p",null,i.a.t("admin.mod-data-format-message")),o.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.addDataFormat,title:i.a.t("admin.mod-data-format-add")},o.a.createElement("i",{className:"fas fa-plus"})),t))),o.a.createElement("div",{className:"card"},o.a.createElement("div",{className:"card-header",id:"scopeMatchCard"},o.a.createElement("h2",{className:"mb-0"},o.a.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseScopeMatch","aria-expanded":"true","aria-controls":"collapseScopeMatch"},this.state.errorList["scope-match"]?o.a.createElement("span",{className:"error-input btn-icon"},o.a.createElement("i",{className:"fas fa-exclamation-circle"})):"",i.a.t("admin.mod-scope-match")))),o.a.createElement("div",{id:"collapseScopeMatch",className:"collapse","aria-labelledby":"scopeMatchCard","data-parent":"#accordionParams"},o.a.createElement("div",{className:"card-body"},o.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.addScopeMatch,title:i.a.t("admin.mod-scope-match-add")},o.a.createElement("i",{className:"fas fa-plus"})),a)))))}}]),a}();function Ye(e){return(Ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qe(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ze(e,t){return(Ze=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function et(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tt(e){return(tt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var at=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ze(e,t)}(a,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=tt(e);if(t){var o=tt(this).constructor;a=Reflect.construct(r,arguments,o)}else a=r.apply(this,arguments);return function(e,t){return!t||"object"!==Ye(t)&&"function"!=typeof t?et(e):t}(this,a)}}(a);function a(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(r=t.call(this,e)).state={config:e.config,mod:e.mod,role:e.role,check:e.check,hasError:!1,errorList:{}},r.state.check&&r.checkParameters(),r.changeParam=r.changeParam.bind(et(r)),r.toggleCheckServerCertificate=r.toggleCheckServerCertificate.bind(et(r)),r.checkParameters=r.checkParameters.bind(et(r)),r}return function(e,t,a){t&&Qe(e.prototype,t)}(a,[{key:"componentWillReceiveProps",value:function(e){var t=this;this.setState({config:e.config,mod:e.mod,role:e.role,check:e.check,hasError:!1},(function(){t.state.check&&t.checkParameters()}))}},{key:"changeParam",value:function(e,t){var a=this.state.mod;a.parameters[t]=e.target.value,this.setState({mod:a})}},{key:"toggleCheckServerCertificate",value:function(){var e=this.state.mod;e.parameters["check-server-certificate"]=!e.parameters["check-server-certificate"],this.setState({mod:e})}},{key:"addScope",value:function(e,t){var a=this.state.mod;a.parameters["default-scope"]?a.parameters["default-scope"].push(t):a.parameters["default-scope"]=[t],this.setState({mod:a})}},{key:"deleteDefaultScope",value:function(e,t){var a=this.state.mod;a.parameters["default-scope"].splice(t,1),this.setState({mod:a})}},{key:"checkParameters",value:function(){var e={},t=!1;this.state.mod.parameters.url||(t=!0,e.url=i.a.t("admin.mod-http-url-error")),this.state.mod.parameters["default-scope"]||"user"!==this.state.role||(t=!0,e["default-scope"]=i.a.t("admin.mod-http-default-scope-error")),this.state.mod.parameters["username-format"]&&!this.state.mod.parameters["username-format"].includes("{username}")&&"user"===this.state.role&&(t=!0,e["username-format"]=i.a.t("admin.mod-http-username-format-error")),t?this.setState({errorList:e},(function(){d.a.sendMessage("ModEdit",{type:"modInvalid"})})):this.setState({errorList:{}},(function(){d.a.sendMessage("ModEdit",{type:"modValid"})}))}},{key:"render",value:function(){var e,t=this;if("user"===this.state.role){var a=[],r=[];this.state.config.pattern.user.forEach((function(e){"scope"===e.name&&e.listElements.forEach((function(e,r){a.push(o.a.createElement("a",{key:r,className:"dropdown-item",href:"#",onClick:function(a){return t.addScope(a,e)}},e))}))})),this.state.mod.parameters["default-scope"]&&this.state.mod.parameters["default-scope"].forEach((function(e,a){r.push(o.a.createElement("a",{className:"btn-icon-right",href:"#",onClick:function(e){return t.deleteDefaultScope(e,a)},key:a},o.a.createElement("span",{className:"badge badge-primary"},e,o.a.createElement("span",{className:"badge badge-light btn-icon-right"},o.a.createElement("i",{className:"fas fa-times"})))))}));var n=o.a.createElement("div",{className:"dropdown"},o.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-http-default-scope","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.mod-http-default-scope")),o.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-http-default-scope"},a),o.a.createElement("div",null,r));e=o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-default-scope"},i.a.t("admin.mod-http-default-scope"))),n),this.state.errorList["default-scope"]?o.a.createElement("span",{className:"error-input"},this.state.errorList["default-scope"]):"")}return o.a.createElement("div",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-http-url"},i.a.t("admin.mod-http-url"))),o.a.createElement("input",{type:"text",className:this.state.errorList.url?"form-control is-invalid":"form-control",id:"mod-http-url",onChange:function(e){return t.changeParam(e,"url")},value:this.state.mod.parameters.url||"",placeholder:i.a.t("admin.mod-http-url-ph")})),this.state.errorList.url?o.a.createElement("span",{className:"error-input"},this.state.errorList.url):""),o.a.createElement("div",{className:"form-group form-check"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-check-server-certificate",onChange:function(e){return t.toggleCheckServerCertificate()},checked:this.state.mod.parameters["check-server-certificate"]||!1}),o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-check-server-certificate"},i.a.t("admin.mod-check-server-certificate"))),e,o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-http-username-format"},i.a.t("admin.mod-http-username-format"))),o.a.createElement("input",{type:"text",className:this.state.errorList["username-format"]?"form-control is-invalid":"form-control",id:"mod-http-username-format",onChange:function(e){return t.changeParam(e,"username-format")},value:this.state.mod.parameters["username-format"]||"",placeholder:i.a.t("admin.mod-http-username-format-ph")})),this.state.errorList["username-format"]?o.a.createElement("span",{className:"error-input"},this.state.errorList["username-format"]):""))}}]),a}();function rt(e){return(rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ot(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nt(e,t){return(nt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function st(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function it(e){return(it=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var lt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nt(e,t)}(a,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=it(e);if(t){var o=it(this).constructor;a=Reflect.construct(r,arguments,o)}else a=r.apply(this,arguments);return function(e,t){return!t||"object"!==rt(t)&&"function"!=typeof t?st(e):t}(this,a)}}(a);function a(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),r=t.call(this,e),e.mod||(e.mod={parameters:{}}),void 0===e.mod.parameters.host&&(e.mod.parameters.host=""),void 0===e.mod.parameters.user&&(e.mod.parameters.user=""),void 0===e.mod.parameters.password&&(e.mod.parameters.password=""),void 0===e.mod.parameters["use-tls"]&&(e.mod.parameters["use-tls"]=!1),void 0===e.mod.parameters["check-certificate"]&&(e.mod.parameters["check-certificate"]=!0),e.mod.parameters["code-length"]||(e.mod.parameters["code-length"]=6),e.mod.parameters["code-duration"]||(e.mod.parameters["code-duration"]=600),e.mod.parameters.port||(e.mod.parameters.port=0),void 0===e.mod.parameters.from&&(e.mod.parameters.from=""),void 0===e.mod.parameters["user-lang-property"]&&(e.mod.parameters["user-lang-property"]="lang"),void 0===e.mod.parameters["content-type"]&&(e.mod.parameters["content-type"]="text/plain; charset=utf-8"),e.mod.parameters.templates||(e.mod.parameters.templates={},e.mod.parameters.templates[i.a.language]={subject:e.mod.parameters.subject||"","body-pattern":e.mod.parameters["body-pattern"]||"",defaultLang:!0}),r.state={config:e.config,mod:e.mod,role:e.role,check:e.check,hasError:!1,errorList:{},currentLang:i.a.language,newLang:""},r.state.check&&r.checkParameters(),r.changeParam=r.changeParam.bind(st(r)),r.toggleUseTls=r.toggleUseTls.bind(st(r)),r.toggleCheckServerCertificate=r.toggleCheckServerCertificate.bind(st(r)),r.checkParameters=r.checkParameters.bind(st(r)),r.changeLang=r.changeLang.bind(st(r)),r.toggleLangDefault=r.toggleLangDefault.bind(st(r)),r.changeNewLang=r.changeNewLang.bind(st(r)),r.addLang=r.addLang.bind(st(r)),r.removeLang=r.removeLang.bind(st(r)),r}return function(e,t,a){t&&ot(e.prototype,t)}(a,[{key:"componentWillReceiveProps",value:function(e){var t=this;e.mod||(e.mod={parameters:{}}),void 0===e.mod.parameters.host&&(e.mod.parameters.host=""),void 0===e.mod.parameters.user&&(e.mod.parameters.user=""),void 0===e.mod.parameters.password&&(e.mod.parameters.password=""),void 0===e.mod.parameters["use-tls"]&&(e.mod.parameters["use-tls"]=!1),void 0===e.mod.parameters["check-certificate"]&&(e.mod.parameters["check-certificate"]=!0),e.mod.parameters["code-length"]||(e.mod.parameters["code-length"]=6),e.mod.parameters["code-duration"]||(e.mod.parameters["code-duration"]=600),e.mod.parameters.port||(e.mod.parameters.port=0),void 0===e.mod.parameters.from&&(e.mod.parameters.from=""),void 0===e.mod.parameters["user-lang-property"]&&(e.mod.parameters["user-lang-property"]="lang"),void 0===e.mod.parameters["content-type"]&&(e.mod.parameters["content-type"]="text/plain; charset=utf-8"),e.mod.parameters.templates||(e.mod.parameters.templates={},e.mod.parameters.templates[i.a.language]={subject:e.mod.parameters.subject||"","body-pattern":e.mod.parameters["body-pattern"]||"",defaultLang:!0}),this.setState({config:e.config,mod:e.mod,role:e.role,check:e.check,hasError:!1},(function(){t.state.check&&t.checkParameters()}))}},{key:"changeParam",value:function(e,t,a){var r=this.state.mod;r.parameters[t]=a?parseInt(e.target.value):e.target.value,this.setState({mod:r})}},{key:"toggleUseTls",value:function(){var e=this.state.mod;e.parameters["use-tls"]=!e.parameters["use-tls"],this.setState({mod:e})}},{key:"toggleCheckServerCertificate",value:function(){var e=this.state.mod;e.parameters["check-certificate"]=!e.parameters["check-certificate"],this.setState({mod:e})}},{key:"changeNewLang",value:function(e){this.setState({newLang:e.target.value})}},{key:"addLang",value:function(){var e=this,t=this.state.mod,a=!1;Object.keys(t.parameters.templates).forEach((function(t){t===e.state.newLang&&(a=!0)})),!a&&this.state.newLang&&(t.parameters.templates[this.state.newLang]={subject:"","body-pattern":"",defaultLang:!1},this.setState({mod:t,newLang:"",currentLang:this.state.newLang}))}},{key:"removeLang",value:function(e){var t=this.state.mod,a=!1;delete t.parameters.templates[e],e==this.state.currentLang?(Object.keys(t.parameters.templates).forEach((function(e){a||(a=e)})),this.setState({mod:t,currentLang:a})):this.setState({mod:t})}},{key:"changeLang",value:function(e,t){this.setState({currentLang:t})}},{key:"changeTemplate",value:function(e,t){var a=this.state.mod;a.parameters.templates[this.state.currentLang][t]=e.target.value,this.setState({mod:a})}},{key:"toggleLangDefault",value:function(){var e=this,t=this.state.mod;Object.keys(t.parameters.templates).forEach((function(a){t.parameters.templates[a].defaultLang=a===e.state.currentLang})),this.setState({mod:t})}},{key:"checkParameters",value:function(){var e=this,t={},a=!1;this.state.mod.parameters["code-length"]||(a=!0,t["code-length"]=i.a.t("admin.mod-email-code-length-error")),this.state.mod.parameters["code-duration"]||(a=!0,t["code-duration"]=i.a.t("admin.mod-email-code-duration-error")),this.state.mod.parameters.host||(a=!0,t.host=i.a.t("admin.mod-email-host-error")),this.state.mod.parameters.from||(a=!0,t.from=i.a.t("admin.mod-email-from-error")),this.state.mod.parameters["content-type"]||(a=!0,t["content-type"]=i.a.t("admin.mod-email-content-type-error")),this.state.mod.parameters["user-lang-property"]||(a=!0,t["user-lang-property"]=i.a.t("admin.mod-email-user-lang-property-error")),t.subject="",t["body-pattern"]="",Object.keys(this.state.mod.parameters.templates).forEach((function(r){e.state.mod.parameters.templates[r].subject||(a=!0,t.subject+=i.a.t("admin.mod-email-subject-error",{lang:r})),-1===e.state.mod.parameters.templates[r]["body-pattern"].search("{CODE}")&&(a=!0,t["body-pattern"]+=i.a.t("admin.mod-email-body-pattern-error",{lang:r}))})),a?this.setState({errorList:t}):this.setState({errorList:{}},(function(){d.a.sendMessage("ModEdit",{type:"modValid"})}))}},{key:"render",value:function(){var e=this,t=[];t.push(o.a.createElement("div",{key:-2,className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("input",{type:"text",className:"form-control",id:"mod-email-new-lang",placeholder:i.a.t("admin.mod-email-new-lang-ph"),value:this.state.newLang,onChange:function(t){return e.changeNewLang(t)}}),o.a.createElement("div",{className:"input-group-append"},o.a.createElement("button",{type:"button",onClick:this.addLang,className:"btn btn-outline-primary"},i.a.t("admin.mod-email-new-lang-add")))))),t.push(o.a.createElement("div",{key:-1,className:"dropdown-divider"})),Object.keys(this.state.mod.parameters.templates).forEach((function(a,r){t.push(o.a.createElement("div",{key:2*r,className:"btn-group btn-group-justified"},o.a.createElement("button",{type:"button",className:"btn btn-primary",disabled:!0},a),o.a.createElement("button",{type:"button",onClick:function(t){return e.removeLang(a)},className:"btn btn-primary",disabled:e.state.mod.parameters.templates[a].defaultLang},i.a.t("admin.mod-email-new-lang-remove")),o.a.createElement("button",{type:"button",onClick:function(t){return e.changeLang(t,a)},className:"btn btn-primary"},i.a.t("admin.mod-email-new-lang-select")))),t.push(o.a.createElement("div",{key:2*r+1,className:"dropdown-divider"}))}));var a=this.state.mod.parameters.templates[this.state.currentLang]||{};return o.a.createElement("div",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-email-code-length"},i.a.t("admin.mod-email-code-length"))),o.a.createElement("input",{type:"number",min:"0",max:"65536",step:"1",className:this.state.errorList["code-length"]?"form-control is-invalid":"form-control",id:"mod-email-code-length",onChange:function(t){return e.changeParam(t,"code-length")},value:this.state.mod.parameters["code-length"],placeholder:i.a.t("admin.mod-email-code-length-ph")})),this.state.errorList["code-length"]?o.a.createElement("span",{className:"error-input"},this.state.errorList["code-length"]):""),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-email-code-duration"},i.a.t("admin.mod-email-code-duration"))),o.a.createElement("input",{type:"number",min:"0",max:"65536",step:"1",className:this.state.errorList["code-duration"]?"form-control is-invalid":"form-control",id:"mod-email-code-duration",onChange:function(t){return e.changeParam(t,"code-duration")},value:this.state.mod.parameters["code-duration"],placeholder:i.a.t("admin.mod-email-code-duration-ph")})),this.state.errorList["code-duration"]?o.a.createElement("span",{className:"error-input"},this.state.errorList["code-duration"]):""),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-email-host"},i.a.t("admin.mod-email-host"))),o.a.createElement("input",{type:"text",className:this.state.errorList.host?"form-control is-invalid":"form-control",id:"mod-email-host",onChange:function(t){return e.changeParam(t,"host")},value:this.state.mod.parameters.host,placeholder:i.a.t("admin.mod-email-host-ph")})),this.state.errorList.host?o.a.createElement("span",{className:"error-input"},this.state.errorList.host):""),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-email-port"},i.a.t("admin.mod-email-port"))),o.a.createElement("input",{type:"number",min:"0",max:"65536",step:"1",className:this.state.errorList.port?"form-control is-invalid":"form-control",id:"mod-email-port",onChange:function(t){return e.changeParam(t,"port",!0)},value:this.state.mod.parameters.port,placeholder:i.a.t("admin.mod-email-port-ph")})),this.state.errorList.port?o.a.createElement("span",{className:"error-input"},this.state.errorList.port):""),o.a.createElement("div",{className:"form-group form-check"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-email-use-tls",onChange:function(t){return e.toggleUseTls()},checked:this.state.mod.parameters["use-tls"]||!1}),o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-email-use-tls"},i.a.t("admin.mod-email-use-tls"))),o.a.createElement("div",{className:"form-group form-check"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",disabled:!this.state.mod.parameters["use-tls"],id:"mod-email-check-certificate",onChange:function(t){return e.toggleCheckServerCertificate()},checked:this.state.mod.parameters["check-certificate"]||!1}),o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-email-check-certificate"},i.a.t("admin.mod-email-check-certificate"))),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-email-user"},i.a.t("admin.mod-email-user"))),o.a.createElement("input",{type:"text",className:this.state.errorList.user?"form-control is-invalid":"form-control",id:"mod-email-user",onChange:function(t){return e.changeParam(t,"user")},value:this.state.mod.parameters.user,placeholder:i.a.t("admin.mod-email-user-ph")})),this.state.errorList.user?o.a.createElement("span",{className:"error-input"},this.state.errorList.user):""),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-email-password"},i.a.t("admin.mod-email-password"))),o.a.createElement("input",{type:"password",className:this.state.errorList.password?"form-control is-invalid":"form-control",id:"mod-email-password",onChange:function(t){return e.changeParam(t,"password")},value:this.state.mod.parameters.password,placeholder:i.a.t("admin.mod-email-password-ph")})),this.state.errorList.password?o.a.createElement("span",{className:"error-input"},this.state.errorList.password):""),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-email-from"},i.a.t("admin.mod-email-from"))),o.a.createElement("input",{type:"text",className:this.state.errorList.from?"form-control is-invalid":"form-control",id:"mod-email-from",onChange:function(t){return e.changeParam(t,"from")},value:this.state.mod.parameters.from,placeholder:i.a.t("admin.mod-email-from-ph")})),this.state.errorList.from?o.a.createElement("span",{className:"error-input"},this.state.errorList.from):""),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-email-content-type"},i.a.t("admin.mod-email-content-type"))),o.a.createElement("input",{type:"text",className:this.state.errorList["content-type"]?"form-control is-invalid":"form-control",id:"mod-content-type-from",onChange:function(t){return e.changeParam(t,"content-type")},value:this.state.mod.parameters["content-type"],placeholder:i.a.t("admin.mod-email-content-type-ph")})),this.state.errorList["content-type"]?o.a.createElement("span",{className:"error-input"},this.state.errorList["content-type"]):""),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-email-user-lang-property"},i.a.t("admin.mod-email-user-lang-property"))),o.a.createElement("input",{type:"text",className:this.state.errorList["user-lang-property"]?"form-control is-invalid":"form-control",id:"mod-email-user-lang-property",onChange:function(t){return e.changeParam(t,"user-lang-property")},value:this.state.mod.parameters["user-lang-property"],placeholder:i.a.t("admin.mod-email-user-lang-property-ph")})),this.state.errorList["user-lang-property"]?o.a.createElement("span",{className:"error-input"},this.state.errorList["user-lang-property"]):""),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-email-lang"},i.a.t("admin.mod-email-lang"))),o.a.createElement("div",{className:"dropdown"},o.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-email-lang","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},this.state.currentLang),o.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-email-lang"},t)))),o.a.createElement("div",{className:"form-group form-check"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-email-lang-default",onChange:function(t){return e.toggleLangDefault()},checked:a.defaultLang}),o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-email-lang-default"},i.a.t("admin.mod-email-lang-default"))),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-email-subject"},i.a.t("admin.mod-email-subject"))),o.a.createElement("input",{type:"text",className:this.state.errorList.subject?"form-control is-invalid":"form-control",id:"mod-email-subject",onChange:function(t){return e.changeTemplate(t,"subject")},value:a.subject,placeholder:i.a.t("admin.mod-email-subject-ph")})),this.state.errorList.subject?o.a.createElement("span",{className:"error-input"},this.state.errorList.subject):""),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("span",{className:"input-group-text"},i.a.t("admin.mod-email-body-pattern"))),o.a.createElement("textarea",{className:this.state.errorList["body-pattern"]?"form-control is-invalid":"form-control",id:"mod-email-body-pattern",onChange:function(t){return e.changeTemplate(t,"body-pattern")},placeholder:i.a.t("admin.mod-email-body-pattern-ph"),value:a["body-pattern"]})),this.state.errorList["body-pattern"]?o.a.createElement("span",{className:"error-input"},this.state.errorList["body-pattern"]):""))}}]),a}();function mt(e){return(mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ct(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dt(e,t){return(dt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function pt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ut(e){return(ut=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ht=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dt(e,t)}(a,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=ut(e);if(t){var o=ut(this).constructor;a=Reflect.construct(r,arguments,o)}else a=r.apply(this,arguments);return function(e,t){return!t||"object"!==mt(t)&&"function"!=typeof t?pt(e):t}(this,a)}}(a);function a(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),r=t.call(this,e),e.mod||(e.mod={parameters:{}}),e.mod.parameters["challenge-length"]||(e.mod.parameters["challenge-length"]=64),e.mod.parameters["rp-origin"]||(e.mod.parameters["rp-origin"]=location.protocol+"//"+location.host),e.mod.parameters["pubKey-cred-params"]||(e.mod.parameters["pubKey-cred-params"]=[-7,-35,-36]),e.mod.parameters["credential-expiration"]||(e.mod.parameters["credential-expiration"]=120),e.mod.parameters["credential-assertion"]||(e.mod.parameters["credential-assertion"]=120),void 0===e.mod.parameters.ctsProfileMatch&&(e.mod.parameters.ctsProfileMatch=1),void 0===e.mod.parameters.basicIntegrity&&(e.mod.parameters.basicIntegrity=1),void 0===e.mod.parameters["session-mandatory"]&&(e.mod.parameters["session-mandatory"]=!1),void 0===e.mod.parameters.fmt&&(e.mod.parameters.fmt={packed:!0,tpm:!1,"android-key":!1,"android-safetynet":!0,"fido-u2f":!0,apple:!0,none:!1}),void 0===e.mod.parameters.seed&&(e.mod.parameters.seed=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)),void 0===e.mod.parameters["root-ca-list"]&&(e.mod.parameters["root-ca-list"]=[]),void 0===e.mod.parameters["google-root-ca-r2"]&&(e.mod.parameters["google-root-ca-r2"]=""),void 0===e.mod.parameters["apple-root-ca"]&&(e.mod.parameters["apple-root-ca"]=""),r.state={config:e.config,mod:e.mod,role:e.role,check:e.check,hasError:!1,errorList:{},rootCaPath:""},r.state.check&&r.checkParameters(),r.changeParam=r.changeParam.bind(pt(r)),r.checkParameters=r.checkParameters.bind(pt(r)),r.togglePubkey=r.togglePubkey.bind(pt(r)),r.changeSIParam=r.changeSIParam.bind(pt(r)),r.toggleSessionMandatory=r.toggleSessionMandatory.bind(pt(r)),r.generateSeed=r.generateSeed.bind(pt(r)),r.toggleForceFmtNone=r.toggleForceFmtNone.bind(pt(r)),r.handleChangeRootCaPath=r.handleChangeRootCaPath.bind(pt(r)),r.addRootCaPath=r.addRootCaPath.bind(pt(r)),r.deleteCaPath=r.deleteCaPath.bind(pt(r)),r.toggleFmt=r.toggleFmt.bind(pt(r)),r}return function(e,t,a){t&&ct(e.prototype,t)}(a,[{key:"componentWillReceiveProps",value:function(e){var t=this;this.setState({config:e.config,mod:e.mod,role:e.role,check:e.check,hasError:!1},(function(){t.state.check&&t.checkParameters()}))}},{key:"changeParam",value:function(e,t,a){var r=this.state.mod;r.parameters[t]=a?parseInt(e.target.value):e.target.value,this.setState({mod:r})}},{key:"togglePubkey",value:function(e,t){var a=this.state.mod;a.parameters["pubKey-cred-params"].indexOf(t)>-1?a.parameters["pubKey-cred-params"].splice(a.parameters["pubKey-cred-params"].indexOf(t),1):a.parameters["pubKey-cred-params"].push(t),this.setState({mod:a})}},{key:"toggleSessionMandatory",value:function(e){var t=this.state.mod;t.parameters["session-mandatory"]=!t.parameters["session-mandatory"],this.setState({mod:t})}},{key:"toggleForceFmtNone",value:function(e){var t=this.state.mod;t.parameters["force-fmt-none"]=!t.parameters["force-fmt-none"],this.setState({mod:t})}},{key:"toggleFmt",value:function(e,t){var a=this.state.mod;a.parameters.fmt[t]=!a.parameters.fmt[t],this.setState({mod:a})}},{key:"changeSIParam",value:function(e,t,a){var r=this.state.mod;r.parameters[t]=a,this.setState({mod:r})}},{key:"generateSeed",value:function(){var e=this.state.mod;e.parameters.seed=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),this.setState({mod:e})}},{key:"handleChangeRootCaPath",value:function(e){this.setState({rootCaPath:e.target.value})}},{key:"addRootCaPath",value:function(){if(this.state.rootCaPath){var e=this.state.mod;e.parameters["root-ca-list"].push(this.state.rootCaPath),this.setState({rootCaPath:"",mod:e})}}},{key:"deleteCaPath",value:function(e,t){e.preventDefault();var a=this.state.mod;a.parameters["root-ca-list"].splice(t,1),this.setState({mod:a})}},{key:"checkParameters",value:function(){var e={},t=!1;this.state.mod.parameters["challenge-length"]||(t=!0,e["challenge-length"]=i.a.t("admin.mod-webauthn-challenge-length-error")),this.state.mod.parameters["credential-expiration"]||(t=!0,e["credential-expiration"]=i.a.t("admin.mod-webauthn-credential-expiration-error")),this.state.mod.parameters["credential-expiration"]||(t=!0,e["credential-expiration"]=i.a.t("admin.mod-webauthn-credential-expiration-error")),this.state.mod.parameters["rp-origin"]||(t=!0,e["rp-origin"]=i.a.t("admin.mod-webauthn-rp-origin-error")),this.state.mod.parameters["pubKey-cred-params"].length||(t=!0,e["pubKey-cred-params"]=i.a.t("admin.mod-webauthn-pubKey-cred-params-error")),this.state.mod.parameters.fmt.packed||this.state.mod.parameters.fmt.tpm||this.state.mod.parameters.fmt["android-key"]||this.state.mod.parameters.fmt["android-safetynet"]||this.state.mod.parameters.fmt["fido-u2f"]||this.state.mod.parameters.fmt.none||(t=!0,e.fmt=i.a.t("admin.mod-webauthn-fmt-error")),t?this.setState({errorList:e}):this.setState({errorList:{}},(function(){d.a.sendMessage("ModEdit",{type:"modValid"})}))}},{key:"render",value:function(){var e=this,t=[];return this.state.mod.parameters["root-ca-list"].forEach((function(a,r){t.push(o.a.createElement("div",null,o.a.createElement("a",{href:"#",onClick:function(t){return e.deleteCaPath(t,r)},key:r},o.a.createElement("span",{className:"badge badge-primary btn-icon-right"},a,o.a.createElement("span",{className:"badge badge-light btn-icon-right"},o.a.createElement("i",{className:"fas fa-times"}))))))})),o.a.createElement("div",null,o.a.createElement("div",{className:"form-group form-check"},o.a.createElement("input",{className:"form-check-input",type:"checkbox",value:"",id:"mod-webauthn-session-mandatory-check",checked:this.state.mod.parameters["session-mandatory"],onChange:function(t){return e.toggleSessionMandatory(t)}}),o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-webauthn-session-mandatory-check"},i.a.t("admin.mod-webauthn-session-mandatory"))),o.a.createElement("div",{className:"form-group form-check"},o.a.createElement("input",{className:"form-check-input",type:"checkbox",value:"",id:"mod-webauthn-force-fmt-none",checked:this.state.mod.parameters["force-fmt-none"],onChange:function(t){return e.toggleForceFmtNone(t)}}),o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-webauthn-force-fmt-none"},i.a.t("admin.mod-webauthn-force-fmt-none"))),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"mod-webauthn-seed"},i.a.t("admin.mod-webauthn-seed")),o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("input",{type:"text",className:this.state.errorList.seed?"form-control is-invalid":"form-control",id:"mod-webauthn-seed",onChange:function(t){return e.changeParam(t,"seed")},value:this.state.mod.parameters.seed,placeholder:i.a.t("admin.mod-webauthn-seed-ph"),disabled:this.state.mod.parameters["session-mandatory"]}),o.a.createElement("div",{className:"input-group-append"},o.a.createElement("button",{className:"btn btn-outline-secondary",type:"button",title:i.a.t("admin.mod-webauthn-seed-generate"),onClick:this.generateSeed},i.a.t("admin.mod-webauthn-seed-generate"))))),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"mod-webauthn-challenge-length"},i.a.t("admin.mod-webauthn-challenge-length")),o.a.createElement("input",{type:"number",min:"0",step:"1",className:this.state.errorList["challenge-length"]?"form-control is-invalid":"form-control",id:"mod-webauthn-challenge-length",onChange:function(t){return e.changeParam(t,"challenge-length")},value:this.state.mod.parameters["challenge-length"],placeholder:i.a.t("admin.mod-webauthn-challenge-length-ph")}),this.state.errorList["challenge-length"]?o.a.createElement("span",{className:"error-input"},this.state.errorList["challenge-length"]):""),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"mod-webauthn-credential-expiration"},i.a.t("admin.mod-webauthn-credential-expiration")),o.a.createElement("input",{type:"number",min:"0",step:"1",className:this.state.errorList["credential-expiration"]?"form-control is-invalid":"form-control",id:"mod-webauthn-credential-expiration",onChange:function(t){return e.changeParam(t,"credential-expiration",!0)},value:this.state.mod.parameters["credential-expiration"],placeholder:i.a.t("admin.mod-webauthn-credential-expiration-ph")}),this.state.errorList["credential-expiration"]?o.a.createElement("span",{className:"error-input"},this.state.errorList["credential-expiration"]):""),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"mod-webauthn-credential-assertion"},i.a.t("admin.mod-webauthn-credential-assertion")),o.a.createElement("input",{type:"number",min:"0",step:"1",className:this.state.errorList["credential-assertion"]?"form-control is-invalid":"form-control",id:"mod-webauthn-credential-assertion",onChange:function(t){return e.changeParam(t,"credential-assertion",!0)},value:this.state.mod.parameters["credential-assertion"],placeholder:i.a.t("admin.mod-webauthn-credential-assertion-ph")}),this.state.errorList["credential-assertion"]?o.a.createElement("span",{className:"error-input"},this.state.errorList["credential-assertion"]):""),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"mod-webauthn-rp-origin"},i.a.t("admin.mod-webauthn-rp-origin")),o.a.createElement("input",{type:"text",className:this.state.errorList["rp-origin"]?"form-control is-invalid":"form-control",id:"mod-webauthn-rp-origin",onChange:function(t){return e.changeParam(t,"rp-origin")},value:this.state.mod.parameters["rp-origin"],placeholder:i.a.t("admin.mod-webauthn-rp-origin-ph")}),this.state.errorList["rp-origin"]?o.a.createElement("span",{className:"error-input"},this.state.errorList["rp-origin"]):""),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"mod-webauthn-fmt-params"},i.a.t("admin.mod-webauthn-fmt-params")),o.a.createElement("ul",null,o.a.createElement("li",null,o.a.createElement("input",{className:"form-check-input",type:"checkbox",value:"",id:"mod-webauthn-fmt-packed",checked:this.state.mod.parameters.fmt.packed,onChange:function(t){return e.toggleFmt(t,"packed")}}),o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-webauthn-fmt-packed"},i.a.t("admin.mod-webauthn-fmt-packed-label"))),o.a.createElement("li",null,o.a.createElement("input",{className:"form-check-input",type:"checkbox",value:"",id:"mod-webauthn-fmt-tpm",checked:this.state.mod.parameters.fmt.tpm,onChange:function(t){return e.toggleFmt(t,"tpm")},disabled:!0}),o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-webauthn-fmt-tpm",title:i.a.t("admin.mod-webauthn-unsupported")},i.a.t("admin.mod-webauthn-fmt-tpm-label"))),o.a.createElement("li",null,o.a.createElement("input",{className:"form-check-input",type:"checkbox",value:"",id:"mod-webauthn-fmt-android-key",checked:this.state.mod.parameters.fmt["android-key"],onChange:function(t){return e.toggleFmt(t,"android-key")},disabled:!0}),o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-webauthn-fmt-android-key",title:i.a.t("admin.mod-webauthn-unsupported")},i.a.t("admin.mod-webauthn-fmt-android-key-label"))),o.a.createElement("li",null,o.a.createElement("input",{className:"form-check-input",type:"checkbox",value:"",id:"mod-webauthn-fmt-android-safetynet",checked:this.state.mod.parameters.fmt["android-safetynet"],onChange:function(t){return e.toggleFmt(t,"android-safetynet")}}),o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-webauthn-fmt-android-safetynet"},i.a.t("admin.mod-webauthn-fmt-android-safetynet-label"))),o.a.createElement("li",null,o.a.createElement("input",{className:"form-check-input",type:"checkbox",value:"",id:"mod-webauthn-fmt-fido-u2f",checked:this.state.mod.parameters.fmt["fido-u2f"],onChange:function(t){return e.toggleFmt(t,"fido-u2f")}}),o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-webauthn-fmt-fido-u2f"},i.a.t("admin.mod-webauthn-fmt-fido-u2f-label"))),o.a.createElement("li",null,o.a.createElement("input",{className:"form-check-input",type:"checkbox",value:"",id:"mod-webauthn-fmt-apple",checked:this.state.mod.parameters.fmt.apple,onChange:function(t){return e.toggleFmt(t,"apple")}}),o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-webauthn-fmt-apple"},i.a.t("admin.mod-webauthn-fmt-apple-label"))),o.a.createElement("li",null,o.a.createElement("input",{className:"form-check-input",type:"checkbox",value:"",id:"mod-webauthn-fmt-none",checked:this.state.mod.parameters.fmt.none,onChange:function(t){return e.toggleFmt(t,"none")}}),o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-webauthn-fmt-none"},i.a.t("admin.mod-webauthn-fmt-none-label")))),this.state.errorList.fmt?o.a.createElement("span",{className:"error-input"},this.state.errorList.fmt):""),o.a.createElement("hr",null),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"mod-webauthn-pubKey-cred-params"},i.a.t("admin.mod-webauthn-pubKey-cred-params")),o.a.createElement("ul",null,o.a.createElement("li",null,o.a.createElement("input",{className:"form-check-input",type:"checkbox",value:"",id:"mod-webauthn-pubKey-cred-params-ecdsa-sha256-check",checked:this.state.mod.parameters["pubKey-cred-params"].indexOf(-7)>-1,onChange:function(t){return e.togglePubkey(t,-7)}}),o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-webauthn-pubKey-cred-params-ecdsa-sha256-check"},i.a.t("admin.mod-webauthn-pubKey-cred-params-label-ecdsa-sha256"))),o.a.createElement("li",null,o.a.createElement("input",{className:"form-check-input",type:"checkbox",value:"",id:"mod-webauthn-pubKey-cred-params-ecdsa-sha384-check",checked:this.state.mod.parameters["pubKey-cred-params"].indexOf(-35)>-1,onChange:function(t){return e.togglePubkey(t,-35)}}),o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-webauthn-pubKey-cred-params-ecdsa-sha384-check"},i.a.t("admin.mod-webauthn-pubKey-cred-params-label-ecdsa-sha384"))),o.a.createElement("li",null,o.a.createElement("input",{className:"form-check-input",type:"checkbox",value:"",id:"mod-webauthn-pubKey-cred-params-ecdsa-sha512-check",checked:this.state.mod.parameters["pubKey-cred-params"].indexOf(-36)>-1,onChange:function(t){return e.togglePubkey(t,-36)}}),o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-webauthn-pubKey-cred-params-ecdsa-sha512-check"},i.a.t("admin.mod-webauthn-pubKey-cred-params-label-ecdsa-sha512"))),o.a.createElement("li",null,o.a.createElement("input",{className:"form-check-input",type:"checkbox",value:"",id:"mod-webauthn-pubKey-cred-params-rsa-sha256-check",checked:this.state.mod.parameters["pubKey-cred-params"].indexOf(-257)>-1,onChange:function(t){return e.togglePubkey(t,-257)},disabled:!0}),o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-webauthn-pubKey-cred-params-rsa-sha256-check",title:i.a.t("admin.mod-webauthn-unsupported")},i.a.t("admin.mod-webauthn-pubKey-cred-params-label-rsa-sha256"))),o.a.createElement("li",null,o.a.createElement("input",{className:"form-check-input",type:"checkbox",value:"",id:"mod-webauthn-pubKey-cred-params-rsa-sha384-check",checked:this.state.mod.parameters["pubKey-cred-params"].indexOf(-258)>-1,onChange:function(t){return e.togglePubkey(t,-258)},disabled:!0}),o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-webauthn-pubKey-cred-params-rsa-sha384-check",title:i.a.t("admin.mod-webauthn-unsupported")},i.a.t("admin.mod-webauthn-pubKey-cred-params-label-rsa-sha384"))),o.a.createElement("li",null,o.a.createElement("input",{className:"form-check-input",type:"checkbox",value:"",id:"mod-webauthn-pubKey-cred-params-rsa-sha512-check",checked:this.state.mod.parameters["pubKey-cred-params"].indexOf(-259)>-1,onChange:function(t){return e.togglePubkey(t,-259)},disabled:!0}),o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-webauthn-pubKey-cred-params-rsa-sha512-check",title:i.a.t("admin.mod-webauthn-unsupported")},i.a.t("admin.mod-webauthn-pubKey-cred-params-label-rsa-sha512")))),this.state.errorList["pubKey-cred-params"]?o.a.createElement("span",{className:"error-input"},this.state.errorList["pubKey-cred-params"]):""),o.a.createElement("hr",null),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,i.a.t("admin.mod-webauthn-root-ca-list"))),o.a.createElement("div",{className:"form-group"},o.a.createElement("a",{href:"https://developers.yubico.com/U2F/yubico-u2f-ca-certs.txt",className:"badge badge-primary",target:"_blank"},i.a.t("admin.mod-webauthn-root-ca-yubico-link"))),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"webauthn-root-ca-path-input"},i.a.t("admin.mod-webauthn-root-ca-path")),o.a.createElement("div",{className:"input-group"},o.a.createElement("input",{type:"text",className:"form-control",id:"webauthn-root-ca-path-input",placeholder:i.a.t("admin.mod-webauthn-root-ca-path-ph"),onChange:this.handleChangeRootCaPath,value:this.state.rootCaPath}),o.a.createElement("div",{className:"input-group-append"},o.a.createElement("button",{className:"btn btn-outline-secondary",type:"button",onClick:this.addRootCaPath,title:i.a.t("modal.list-add-title")},o.a.createElement("i",{className:"fas fa-plus"})))),o.a.createElement("div",{className:"btn-icon-right"},t)),o.a.createElement("hr",null),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,i.a.t("admin.mod-webauthn-safetynet-integrity-params"))),o.a.createElement("div",{className:"form-group"},o.a.createElement("a",{href:"https://developer.android.com/training/safetynet/attestation#potential-integrity-verdicts",className:"badge badge-primary",target:"_blank"},i.a.t("admin.mod-webauthn-safetynet-integrity-link"))),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"mod-webauthn-safetynet-integrity-ctsProfileMatch"},i.a.t("admin.mod-webauthn-safetynet-integrity-ctsProfileMatch")),o.a.createElement("div",{className:"dropdown"},o.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-webauthn-safetynet-integrity-ctsProfileMatch","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.mod-webauthn-safetynet-integrity-"+this.state.mod.parameters.ctsProfileMatch)),o.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-webauthn-safetynet-integrity-ctsProfileMatch"},o.a.createElement("a",{className:"dropdown-item"+(-1===this.state.mod.parameters.ctsProfileMatch?" active":""),href:"#",onClick:function(t){return e.changeSIParam(t,"ctsProfileMatch",-1)}},i.a.t("admin.mod-webauthn-safetynet-integrity--1")),o.a.createElement("a",{className:"dropdown-item"+(0===this.state.mod.parameters.ctsProfileMatch?" active":""),href:"#",onClick:function(t){return e.changeSIParam(t,"ctsProfileMatch",0)}},i.a.t("admin.mod-webauthn-safetynet-integrity-0")),o.a.createElement("a",{className:"dropdown-item"+(1===this.state.mod.parameters.ctsProfileMatch?" active":""),href:"#",onClick:function(t){return e.changeSIParam(t,"ctsProfileMatch",1)}},i.a.t("admin.mod-webauthn-safetynet-integrity-1"))))),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"mod-webauthn-safetynet-integrity-basicIntegrity"},i.a.t("admin.mod-webauthn-safetynet-integrity-basicIntegrity")),o.a.createElement("div",{className:"dropdown"},o.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-webauthn-safetynet-integrity-basicIntegrity","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.mod-webauthn-safetynet-integrity-"+this.state.mod.parameters.basicIntegrity)),o.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-webauthn-safetynet-integrity-basicIntegrity"},o.a.createElement("a",{className:"dropdown-item"+(-1===this.state.mod.parameters.basicIntegrity?" active":""),href:"#",onClick:function(t){return e.changeSIParam(t,"basicIntegrity",-1)}},i.a.t("admin.mod-webauthn-safetynet-integrity--1")),o.a.createElement("a",{className:"dropdown-item"+(0===this.state.mod.parameters.basicIntegrity?" active":""),href:"#",onClick:function(t){return e.changeSIParam(t,"basicIntegrity",0)}},i.a.t("admin.mod-webauthn-safetynet-integrity-0")),o.a.createElement("a",{className:"dropdown-item"+(1===this.state.mod.parameters.basicIntegrity?" active":""),href:"#",onClick:function(t){return e.changeSIParam(t,"basicIntegrity",1)}},i.a.t("admin.mod-webauthn-safetynet-integrity-1"))))),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"mod-google-root-ca-r2"},i.a.t("admin.mod-webauthn-google-root-ca-r2")),o.a.createElement("a",{href:"https://pki.goog/",className:"badge badge-primary",target:"_blank"},i.a.t("admin.mod-webauthn-google-root-ca-r2-download-link"),o.a.createElement("i",{className:"fas fa-external-link-alt btn-icon-right"})),o.a.createElement("input",{type:"text",className:"form-control",id:"mod-google-root-ca-r2",onChange:function(t){return e.changeParam(t,"google-root-ca-r2")},value:this.state.mod.parameters["google-root-ca-r2"],placeholder:i.a.t("admin.mod-webauthn-google-root-ca-r2-ph")})),o.a.createElement("hr",null),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"mod-webauthn-apple-root-ca"},i.a.t("admin.mod-webauthn-apple-root-ca")),o.a.createElement("a",{href:"https://www.apple.com/certificateauthority/private/",className:"badge badge-primary",target:"_blank"},i.a.t("admin.mod-webauthn-apple-root-ca-download-link"),o.a.createElement("i",{className:"fas fa-external-link-alt btn-icon-right"})),o.a.createElement("input",{type:"text",className:"form-control",id:"mod-webauthn-apple-root-ca",onChange:function(t){return e.changeParam(t,"apple-root-ca")},value:this.state.mod.parameters["apple-root-ca"],placeholder:i.a.t("admin.mod-webauthn-apple-root-ca-ph")})))}}]),a}();function ft(e){return(ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gt(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bt(e,t){return(bt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function yt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vt(e){return(vt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Et=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bt(e,t)}(a,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=vt(e);if(t){var o=vt(this).constructor;a=Reflect.construct(r,arguments,o)}else a=r.apply(this,arguments);return function(e,t){return!t||"object"!==ft(t)&&"function"!=typeof t?yt(e):t}(this,a)}}(a);function a(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),r=t.call(this,e),e.mod||(e.mod={parameters:{}}),e.mod.parameters["secret-minimum-size"]||(e.mod.parameters["secret-minimum-size"]=16),e.mod.parameters.issuer||(e.mod.parameters.issuer=location.host),void 0===e.mod.parameters["otp-length"]&&(e.mod.parameters["otp-length"]=6),void 0===e.mod.parameters["hotp-allow"]&&(e.mod.parameters["hotp-allow"]=!0),void 0===e.mod.parameters["hotp-window"]&&(e.mod.parameters["hotp-window"]=0),void 0===e.mod.parameters["totp-allow"]&&(e.mod.parameters["totp-allow"]=!0),void 0===e.mod.parameters["totp-window"]&&(e.mod.parameters["totp-window"]=30),void 0===e.mod.parameters["totp-start-offset"]&&(e.mod.parameters["totp-start-offset"]=0),r.state={config:e.config,mod:e.mod,role:e.role,check:e.check,hasError:!1,errorList:{}},r.state.check&&r.checkParameters(),r.changeParam=r.changeParam.bind(yt(r)),r.toggleParam=r.toggleParam.bind(yt(r)),r.checkParameters=r.checkParameters.bind(yt(r)),r}return function(e,t,a){t&&gt(e.prototype,t)}(a,[{key:"componentWillReceiveProps",value:function(e){var t=this;e.mod||(e.mod={parameters:{}}),e.mod.parameters.issuer||(e.mod.parameters.issuer=location.host),void 0===e.mod.parameters["secret-minimum-size"]&&(e.mod.parameters["secret-minimum-size"]=16),void 0===e.mod.parameters["otp-length"]&&(e.mod.parameters["otp-length"]=6),void 0===e.mod.parameters["hotp-allow"]&&(e.mod.parameters["hotp-allow"]=!0),void 0===e.mod.parameters["hotp-window"]&&(e.mod.parameters["hotp-window"]=0),void 0===e.mod.parameters["totp-allow"]&&(e.mod.parameters["totp-allow"]=!0),void 0===e.mod.parameters["totp-window"]&&(e.mod.parameters["totp-window"]=30),void 0===e.mod.parameters["totp-start-offset"]&&(e.mod.parameters["totp-start-offset"]=0),this.setState({config:e.config,mod:e.mod,role:e.role,check:e.check,hasError:!1},(function(){t.state.check&&t.checkParameters()}))}},{key:"changeParam",value:function(e,t,a){var r=this.state.mod;r.parameters[t]=a?parseInt(e.target.value):e.target.value,this.setState({mod:r})}},{key:"toggleParam",value:function(e){var t=this.state.mod;t.parameters[e]=!t.parameters[e],this.setState({mod:t})}},{key:"checkParameters",value:function(){var e={},t=!1;this.state.mod.parameters.issuer||(t=!0,e.issuer=i.a.t("admin.mod-otp-issuer-error")),this.state.mod.parameters["secret-minimum-size"]||(t=!0,e["secret-minimum-size"]=i.a.t("admin.mod-otp-secret-minimum-size-error")),this.state.mod.parameters["otp-length"]||(t=!0,e["otp-length"]=i.a.t("admin.mod-otp-otp-length-error")),this.state.mod.parameters["hotp-allow"]&&""===this.state.mod.parameters["hotp-window"]&&(t=!0,e["hotp-window"]=i.a.t("admin.mod-otp-hotp-window-error")),this.state.mod.parameters["totp-allow"]&&""===this.state.mod.parameters["totp-window"]&&(t=!0,e["totp-window"]=i.a.t("admin.mod-otp-totp-window-error")),this.state.mod.parameters["totp-allow"]&&""===this.state.mod.parameters["totp-start-offset"]&&(t=!0,e["totp-start-offset"]=i.a.t("admin.mod-otp-totp-start-offset-error")),t?this.setState({errorList:e}):this.setState({errorList:{}},(function(){d.a.sendMessage("ModEdit",{type:"modValid"})}))}},{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-otp-issuer"},i.a.t("admin.mod-otp-issuer"))),o.a.createElement("input",{type:"text",className:this.state.errorList.issuer?"form-control is-invalid":"form-control",id:"mod-otp-issuer",onChange:function(t){return e.changeParam(t,"issuer")},value:this.state.mod.parameters.issuer,placeholder:i.a.t("admin.mod-otp-issuer-ph")})),this.state.errorList.issuer?o.a.createElement("span",{className:"error-input"},this.state.errorList.issuer):""),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-otp-secret-minimum-size"},i.a.t("admin.mod-otp-secret-minimum-size"))),o.a.createElement("input",{type:"number",min:"0",max:"128",step:"1",className:this.state.errorList["secret-minimum-size"]?"form-control is-invalid":"form-control",id:"mod-otp-secret-minimum-size",onChange:function(t){return e.changeParam(t,"secret-minimum-size",1)},value:this.state.mod.parameters["secret-minimum-size"],placeholder:i.a.t("admin.mod-otp-secret-minimum-size-ph")})),this.state.errorList["secret-minimum-size"]?o.a.createElement("span",{className:"error-input"},this.state.errorList["secret-minimum-size"]):""),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-otp-otp-length"},i.a.t("admin.mod-otp-otp-length"))),o.a.createElement("input",{type:"number",min:"6",max:"8",step:"1",className:this.state.errorList["otp-length"]?"form-control is-invalid":"form-control",id:"mod-otp-otp-length",onChange:function(t){return e.changeParam(t,"otp-length",1)},value:this.state.mod.parameters["otp-length"],placeholder:i.a.t("admin.mod-otp-otp-length-ph")})),this.state.errorList["otp-length"]?o.a.createElement("span",{className:"error-input"},this.state.errorList["otp-length"]):""),o.a.createElement("div",{className:"form-group form-check"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-otp-hotp-allow",onChange:function(t){return e.toggleParam("hotp-allow")},checked:this.state.mod.parameters["hotp-allow"]}),o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-otp-hotp-allow"},i.a.t("admin.mod-otp-hotp-allow"))),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-otp-hotp-window"},i.a.t("admin.mod-otp-hotp-window"))),o.a.createElement("input",{type:"number",min:"0",step:"1",className:this.state.errorList["hotp-window"]?"form-control is-invalid":"form-control",id:"mod-otp-hotp-window",onChange:function(t){return e.changeParam(t,"hotp-window",1)},value:this.state.mod.parameters["hotp-window"],placeholder:i.a.t("admin.mod-otp-hotp-window-ph"),disabled:!this.state.mod.parameters["hotp-allow"]})),this.state.errorList["hotp-window"]?o.a.createElement("span",{className:"error-input"},this.state.errorList["hotp-window"]):""),o.a.createElement("div",{className:"form-group form-check"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-otp-totp-allow",onChange:function(t){return e.toggleParam("totp-allow")},checked:this.state.mod.parameters["totp-allow"]}),o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-otp-totp-allow"},i.a.t("admin.mod-otp-totp-allow"))),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-otp-totp-window"},i.a.t("admin.mod-otp-totp-window"))),o.a.createElement("input",{type:"number",min:"0",step:"1",className:this.state.errorList["totp-window"]?"form-control is-invalid":"form-control",id:"mod-otp-totp-window",onChange:function(t){return e.changeParam(t,"totp-window",1)},value:this.state.mod.parameters["totp-window"],placeholder:i.a.t("admin.mod-otp-totp-window-ph"),disabled:!this.state.mod.parameters["totp-allow"]})),this.state.errorList["totp-window"]?o.a.createElement("span",{className:"error-input"},this.state.errorList["totp-window"]):""),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-otp-totp-start-offset"},i.a.t("admin.mod-otp-totp-start-offset"))),o.a.createElement("input",{type:"number",min:"0",step:"1",className:this.state.errorList["totp-start-offset"]?"form-control is-invalid":"form-control",id:"mod-otp-totp-start-offset",onChange:function(t){return e.changeParam(t,"totp-offset",1)},value:this.state.mod.parameters["totp-offset"],placeholder:i.a.t("admin.mod-otp-totp-start-offset-ph"),disabled:!this.state.mod.parameters["totp-allow"]})),this.state.errorList["totp-start-offset"]?o.a.createElement("span",{className:"error-input"},this.state.errorList["totp-start-offset"]):""))}}]),a}();function wt(e){return(wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Nt(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kt(e,t){return(kt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ct(e){return(Ct=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Pt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&kt(e,t)}(a,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=Ct(e);if(t){var o=Ct(this).constructor;a=Reflect.construct(r,arguments,o)}else a=r.apply(this,arguments);return function(e,t){return!t||"object"!==wt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,a)}}(a);function a(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),r=t.call(this,e),e.mod||(e.mod={parameters:{}}),r.state={config:e.config,mod:e.mod,role:e.role,check:e.check,hasError:!1,errorList:{}},r.state.check&&r.checkParameters(),r}return function(e,t,a){t&&Nt(e.prototype,t)}(a,[{key:"componentWillReceiveProps",value:function(e){var t=this;e.mod||(e.mod={parameters:{}}),this.setState({config:e.config,mod:e.mod,role:e.role,check:e.check,hasError:!1},(function(){t.state.check&&t.checkParameters()}))}},{key:"checkParameters",value:function(){this.setState({errorList:{}},(function(){d.a.sendMessage("ModEdit",{type:"modValid"})}))}},{key:"render",value:function(){return o.a.createElement("div",null)}}]),a}();function St(e){return(St="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mt(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xt(e,t){return(xt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _t(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lt(e){return(Lt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var jt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xt(e,t)}(a,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=Lt(e);if(t){var o=Lt(this).constructor;a=Reflect.construct(r,arguments,o)}else a=r.apply(this,arguments);return function(e,t){return!t||"object"!==St(t)&&"function"!=typeof t?_t(e):t}(this,a)}}(a);function a(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),r=t.call(this,e),void 0===e.mod&&(e.mod={}),void 0===e.mod.parameters&&(e.mod.parameters={}),void 0===e.mod.parameters["cert-source"]&&(e.mod.parameters["cert-source"]="TLS"),void 0===e.mod.parameters["header-name"]&&(e.mod.parameters["header-name"]="SSL_CLIENT_CERT"),void 0===e.mod.parameters["use-scheme-storage"]&&(e.mod.parameters["use-scheme-storage"]=!0),void 0===e.mod.parameters["user-certificate-property"]&&(e.mod.parameters["user-certificate-property"]=""),void 0===e.mod.parameters["user-dn-property"]&&(e.mod.parameters["user-dn-property"]=""),void 0===e.mod.parameters["user-certificate-format"]&&(e.mod.parameters["user-certificate-format"]="PEM"),void 0===e.mod.parameters["ca-chain"]&&(e.mod.parameters["ca-chain"]=[]),r.state={mod:e.mod,role:e.role,check:e.check,certFile:!1,fileName:!1,requestCertFile:{},requestCertFileName:{},useCAChain:e.mod.parameters["ca-chain"].length,hasError:!1,errorList:{}},r.state.check&&r.checkParameters(),r.setCertSource=r.setCertSource.bind(_t(r)),r.setBooleanValue=r.setBooleanValue.bind(_t(r)),r.setTextValue=r.setTextValue.bind(_t(r)),r.checkParameters=r.checkParameters.bind(_t(r)),r.setUseCaChain=r.setUseCaChain.bind(_t(r)),r.setValue=r.setValue.bind(_t(r)),r.selectCertFile=r.selectCertFile.bind(_t(r)),r.addCertificateFile=r.addCertificateFile.bind(_t(r)),r.deleteCertificateFile=r.deleteCertificateFile.bind(_t(r)),r.setRequestCertificate=r.setRequestCertificate.bind(_t(r)),r.addRequestCertificateFile=r.addRequestCertificateFile.bind(_t(r)),r.selectRequestCertificateFile=r.selectRequestCertificateFile.bind(_t(r)),r.setRequestCertificateExpiration=r.setRequestCertificateExpiration.bind(_t(r)),r.setDnFormatValue=r.setDnFormatValue.bind(_t(r)),r.setRequestCertificateAllowMultiple=r.setRequestCertificateAllowMultiple.bind(_t(r)),r}return function(e,t,a){t&&Mt(e.prototype,t)}(a,[{key:"componentWillReceiveProps",value:function(e){var t=this;void 0===e.mod&&(e.mod={}),void 0===e.mod.parameters&&(e.mod.parameters={}),void 0===e.mod.parameters["cert-source"]&&(e.mod.parameters["cert-source"]="TLS"),void 0===e.mod.parameters["header-name"]&&(e.mod.parameters["header-name"]="SSL_CLIENT_CERT"),void 0===e.mod.parameters["use-scheme-storage"]&&(e.mod.parameters["use-scheme-storage"]=!0),void 0===e.mod.parameters["user-certificate-property"]&&(e.mod.parameters["user-certificate-property"]=""),void 0===e.mod.parameters["user-dn-property"]&&(e.mod.parameters["user-dn-property"]=""),void 0===e.mod.parameters["user-certificate-format"]&&(e.mod.parameters["user-certificate-format"]="PEM"),void 0===e.mod.parameters["ca-chain"]&&(e.mod.parameters["ca-chain"]=[]),this.setState({mod:e.mod,role:e.role,check:e.check,certFile:!1,fileName:!1,useCAChain:e.mod.parameters["ca-chain"].length},(function(){t.state.check&&t.checkParameters()}))}},{key:"setCertSource",value:function(e,t){e.preventDefault();var a=this.state.mod;a.parameters["cert-source"]=t,this.setState({mod:a})}},{key:"setUseCaChain",value:function(e){var t=this.state.mod;e||(t.parameters["ca-chain"]=[]),this.setState({useCAChain:e,mod:t})}},{key:"selectCertFile",value:function(e){var t=this,a=(this.state.profile,e.target.files[0]),r=new FileReader;r.onload=function(e){t.setState({certFile:e.target.result,fileName:a.name})},r.readAsText(a)}},{key:"addCertificateFile",value:function(){if(this.state.certFile){var e=this.state.mod;e.parameters["ca-chain"].push({"file-name":this.state.fileName,"cert-file":this.state.certFile}),this.setState({mod:e,certFile:!1,fileName:!1})}}},{key:"selectRequestCertificateFile",value:function(e,t){var a=this,r=(this.state.profile,e.target.files[0]),o=new FileReader;o.onload=function(e){var o=a.state.requestCertFileName,n=a.state.requestCertFile;n[t]=e.target.result,o[t]=r.name,a.setState({requestCertFile:n,requestCertFileName:o})},o.readAsText(r)}},{key:"addRequestCertificateFile",value:function(e){if(this.state.requestCertFile[e]){var t=this.state.mod,a=this.state.requestCertFileName,r=this.state.requestCertFile;t.parameters["request-certificate"][e]={"file-name":a[e],"cert-file":r[e]},delete a[e],delete r[e],this.setState({mod:t,requestCertFileName:a,requestCertFile:r})}}},{key:"deleteCertificateFile",value:function(e,t){var a=this.state.mod;a.parameters["ca-chain"].splice(t,1),this.setState({mod:a})}},{key:"setBooleanValue",value:function(e,t,a){var r=this.state.mod;r.parameters[t]=a,this.setState({mod:r})}},{key:"setTextValue",value:function(e,t){var a=this.state.mod;a.parameters[t]=e.target.value,this.setState({mod:a})}},{key:"setValue",value:function(e,t,a){e.preventDefault();var r=this.state.mod;r.parameters[t]=a,this.setState({mod:r})}},{key:"setRequestCertificate",value:function(e,t){e.preventDefault();var a=this.state.mod;t?a.parameters["request-certificate"]={"issuer-cert":{"file-name":"","cert-file":""},"issuer-key":{"file-name":"","cert-file":""},expiration:31536e3,"dn-format":"cn={username},ou=users,o=glewlwyd","allow-multiple":!1}:delete a.parameters["request-certificate"],this.setState({mod:a})}},{key:"setRequestCertificateExpiration",value:function(e){e.preventDefault();var t=this.state.mod;t.parameters["request-certificate"].expiration=parseInt(e.target.value),this.setState({mod:t})}},{key:"setDnFormatValue",value:function(e){e.preventDefault();var t=this.state.mod;t.parameters["request-certificate"]["dn-format"]=e.target.value,this.setState({mod:t})}},{key:"setRequestCertificateAllowMultiple",value:function(e,t){e.preventDefault();var a=this.state.mod;a.parameters["request-certificate"]["allow-multiple"]=t,this.setState({mod:a})}},{key:"checkParameters",value:function(){var e={},t=!1;this.state.mod.parameters["use-scheme-storage"]||""===this.state.mod.parameters["user-certificate-property"]&&""===this.state.mod.parameters["user-dn-property"]&&(t=!0,e["user-certificate-property"]=i.a.t("admin.mod-certificate-user-property-error"),e["user-dn-property"]=i.a.t("admin.mod-certificate-user-property-error")),this.state.mod.parameters["header-name"]||""===this.state.mod.parameters["header-name"]&&(t=!0,e["header-name"]=i.a.t("admin.mod-certificate-header-name-error")),this.state.mod.parameters["request-certificate"]&&(""===this.state.mod.parameters["request-certificate"]["dn-format"]&&(t=!0,e["request-certificate-dn"]=i.a.t("admin.mod-certificate-request-certificate-dn-error")),this.state.mod.parameters["request-certificate"].expiration||(t=!0,e["request-certificate-expiration"]=i.a.t("admin.mod-certificate-request-certificate-expiration-error")),""!==this.state.mod.parameters["request-certificate"]["issuer-key"]["cert-file"]&&""!==this.state.mod.parameters["request-certificate"]["issuer-key"]["file-name"]||(t=!0,e["request-certificate-issuer-key"]=i.a.t("admin.mod-certificate-request-certificate-issuer-key-error")),""!==this.state.mod.parameters["request-certificate"]["issuer-cert"]["cert-file"]&&""!==this.state.mod.parameters["request-certificate"]["issuer-cert"]["file-name"]||(t=!0,e["request-certificate-issuer-cert"]=i.a.t("admin.mod-certificate-request-certificate-issuer-cert-error"))),t?this.setState({errorList:e},(function(){d.a.sendMessage("ModEdit",{type:"modInvalid"})})):this.setState({errorList:{}},(function(){d.a.sendMessage("ModEdit",{type:"modValid"})}))}},{key:"render",value:function(){var e,t=this,a=[];return this.state.useCAChain&&(this.state.mod.parameters["ca-chain"].forEach((function(e,r){a.push(o.a.createElement("div",{className:"alert alert-primary",key:r},e["file-name"].substring(0,40),o.a.createElement("button",{type:"button",className:"close","aria-label":i.a.t("admin.mod-certificate-user-certificate-ca-chain-delete"),onClick:function(e){return t.deleteCertificateFile(e,r)}},o.a.createElement("span",{"aria-hidden":"true"},"Ã—"))))})),e=o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("button",{className:"btn btn-outline-secondary",type:"button",id:"addCertificateFromFile",title:i.a.t("admin.mod-certificate-user-certificate-ca-chain-add-from-file"),onClick:this.addCertificateFile},i.a.t("upload"))),o.a.createElement("div",{className:"custom-file"},o.a.createElement("input",{disabled:!this.state.useCAChain,type:"file",className:"custom-file-input",id:"addCertificateFromFileInput","aria-describedby":"addCertificateFromFile",onChange:function(e){return t.selectCertFile(e)}}),o.a.createElement("label",{className:"custom-file-label",htmlFor:"addCertificateFromFile"},this.state.fileName||i.a.t("browse"))))),o.a.createElement("div",null,o.a.createElement("hr",null),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-certificate-cert-source"},i.a.t("admin.mod-certificate-cert-source"))),o.a.createElement("div",{className:"dropdown"},o.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-certificate-cert-source","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.mod-certificate-cert-source-"+this.state.mod.parameters["cert-source"])),o.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-certificate-cert-source"},o.a.createElement("a",{className:"dropdown-item"+("TLS"===this.state.mod.parameters["cert-source"]?" active":""),href:"#",onClick:function(e){return t.setCertSource(e,"TLS")}},i.a.t("admin.mod-certificate-cert-source-TLS")),o.a.createElement("a",{className:"dropdown-item"+("header"===this.state.mod.parameters["cert-source"]?" active":""),href:"#",onClick:function(e){return t.setCertSource(e,"header")}},i.a.t("admin.mod-certificate-cert-source-header")),o.a.createElement("a",{className:"dropdown-item"+("both"===this.state.mod.parameters["cert-source"]?" active":""),href:"#",onClick:function(e){return t.setCertSource(e,"both")}},i.a.t("admin.mod-certificate-cert-source-both")))))),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-certificate-header-name"},i.a.t("admin.mod-certificate-header-name"))),o.a.createElement("input",{type:"text",disabled:"TLS"===this.state.mod.parameters["cert-source"],className:this.state.errorList["header-name"]?"form-control is-invalid":"form-control",id:"mod-certificate-header-name",placeholder:i.a.t("admin.mod-certificate-header-name-ph"),value:this.state.mod.parameters["header-name"],onChange:function(e){return t.setTextValue(e,"header-name")}})),this.state.errorList["header-name"]?o.a.createElement("span",{className:"error-input"},this.state.errorList["header-name"]):""),o.a.createElement("hr",null),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-certificate-use-scheme-storage"},i.a.t("admin.mod-certificate-use-scheme-storage"))),o.a.createElement("div",{className:"dropdown"},o.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-certificate-use-scheme-storage","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.mod-certificate-value-"+(this.state.mod.parameters["use-scheme-storage"]?"yes":"no"))),o.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-certificate-use-scheme-storage"},o.a.createElement("a",{className:"dropdown-item"+(this.state.mod.parameters["use-scheme-storage"]?" active":""),href:"#",onClick:function(e){return t.setBooleanValue(e,"use-scheme-storage",!0)}},i.a.t("admin.mod-certificate-value-yes")),o.a.createElement("a",{className:"dropdown-item"+(this.state.mod.parameters["use-scheme-storage"]?"":" active"),href:"#",onClick:function(e){return t.setBooleanValue(e,"use-scheme-storage",!1)}},i.a.t("admin.mod-certificate-value-no")))))),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-certificate-user-certificate-property"},i.a.t("admin.mod-certificate-user-certificate-property"))),o.a.createElement("input",{type:"text",disabled:this.state.mod.parameters["use-scheme-storage"],className:this.state.errorList["user-certificate-property"]?"form-control is-invalid":"form-control",id:"mod-certificate-user-certificate-property",placeholder:i.a.t("admin.mod-certificate-user-certificate-property-ph"),maxLength:"256",value:this.state.mod.parameters["user-certificate-property"],onChange:function(e){return t.setTextValue(e,"user-certificate-property")}})),this.state.errorList["user-certificate-property"]?o.a.createElement("span",{className:"error-input"},this.state.errorList["user-certificate-property"]):""),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-certificate-user-certificate-format"},i.a.t("admin.mod-certificate-user-certificate-format"))),o.a.createElement("div",{className:"dropdown"},o.a.createElement("button",{disabled:this.state.mod.parameters["use-scheme-storage"],className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-certificate-user-certificate-format","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.mod-certificate-user-certificate-format-"+this.state.mod.parameters["user-certificate-format"])),o.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-certificate-user-certificate-format"},o.a.createElement("a",{className:"dropdown-item"+(this.state.mod.parameters["user-certificate-format"]?" active":""),href:"#",onClick:function(e){return t.setValue(e,"user-certificate-format","PEM")}},i.a.t("admin.mod-certificate-user-certificate-format-PEM")),o.a.createElement("a",{className:"dropdown-item"+(this.state.mod.parameters["user-certificate-format"]?"":" active"),href:"#",onClick:function(e){return t.setValue(e,"user-certificate-format","DER")}},i.a.t("admin.mod-certificate-user-certificate-format-DER")))))),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-certificate-user-dn-property"},i.a.t("admin.mod-certificate-user-dn-property"))),o.a.createElement("input",{type:"text",disabled:this.state.mod.parameters["use-scheme-storage"],className:this.state.errorList["user-dn-property"]?"form-control is-invalid":"form-control",id:"mod-certificate-user-dn-property",placeholder:i.a.t("admin.mod-certificate-user-dn-property-ph"),maxLength:"256",value:this.state.mod.parameters["user-dn-property"],onChange:function(e){return t.setTextValue(e,"user-dn-property")}})),this.state.errorList["user-dn-property"]?o.a.createElement("span",{className:"error-input"},this.state.errorList["user-dn-property"]):""),o.a.createElement("hr",null),o.a.createElement("div",{className:"accordion",id:"accordionParams"},o.a.createElement("div",{className:"card"},o.a.createElement("div",{className:"card-header",id:"CAChainCard"},o.a.createElement("h2",{className:"mb-0"},o.a.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseCAChain","aria-expanded":"true","aria-controls":"collapseCAChain"},i.a.t("admin.mod-certificate-user-certificate-ca-chain")))),o.a.createElement("div",{id:"collapseCAChain",className:"collapse","aria-labelledby":"CAChainCard","data-parent":"#accordionParams"},o.a.createElement("div",{className:"card-body"},o.a.createElement("p",null,i.a.t("admin.mod-certificate-user-certificate-ca-chain-message")),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-certificate-use-ca-chain"},i.a.t("admin.mod-certificate-use-ca-chain"))),o.a.createElement("div",{className:"dropdown"},o.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-certificate-use-ca-chain","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.mod-certificate-value-"+(this.state.useCAChain?"yes":"no"))),o.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-certificate-use-ca-chain"},o.a.createElement("a",{className:"dropdown-item"+(this.state.useCAChain?" active":""),href:"#",onClick:function(e){return t.setUseCaChain(!0)}},i.a.t("admin.mod-certificate-value-yes")),o.a.createElement("a",{className:"dropdown-item"+(this.state.useCAChain?"":" active"),href:"#",onClick:function(e){return t.setUseCaChain(!1)}},i.a.t("admin.mod-certificate-value-no")))))),a,e)))))}}]),a}();function Rt(e){return(Rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ot(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ft(e,t){return(Ft=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Tt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function At(e){return(At=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ut=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ft(e,t)}(a,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=At(e);if(t){var o=At(this).constructor;a=Reflect.construct(r,arguments,o)}else a=r.apply(this,arguments);return function(e,t){return!t||"object"!==Rt(t)&&"function"!=typeof t?Tt(e):t}(this,a)}}(a);function a(e){var r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),r=t.call(this,e),e.mod||((o=window.location.href.split("?")[0].split("/"))[o.length-1]=e.config.CallbackPage||"callback.html",e.mod={parameters:{redirect_uri:o.join("/"),session_expiration:600,provider_list:[]}}),void 0===e.mod.parameters.redirect_uri&&((o=window.location.href.split("?")[0].split("/"))[o.length-1]=e.config.CallbackPage||"callback.html",e.mod.parameters.redirect_uri=o.join("/")),void 0===e.mod.parameters.session_expiration&&(e.mod.parameters.session_expiration=600),void 0===e.mod.parameters.provider_list&&(e.mod.parameters.provider_list=[]),r.state={config:e.config,mod:e.mod,role:e.role,check:e.check,hasError:!1,errorList:{},curMainstream:-1},r.state.check&&r.checkParameters(),r.checkParameters=r.checkParameters.bind(Tt(r)),r.addProvider=r.addProvider.bind(Tt(r)),r.changeMainstreamProvider=r.changeMainstreamProvider.bind(Tt(r)),r.deleteProvider=r.deleteProvider.bind(Tt(r)),r.changeProviderParam=r.changeProviderParam.bind(Tt(r)),r}return function(e,t,a){t&&Ot(e.prototype,t)}(a,[{key:"componentWillReceiveProps",value:function(e){var t,a=this;e.mod||((t=window.location.href.split("?")[0].split("/"))[t.length-1]=e.config.CallbackPage||"callback.html",e.mod={parameters:{redirect_uri:t.join("/"),session_expiration:600,provider_list:[]}}),void 0===e.mod.parameters.redirect_uri&&((t=window.location.href.split("?")[0].split("/"))[t.length-1]=e.config.CallbackPage||"callback.html",e.mod.parameters.redirect_uri=t.join("/")),void 0===e.mod.parameters.session_expiration&&(e.mod.parameters.session_expiration=600),void 0===e.mod.parameters.provider_list&&(e.mod.parameters.provider_list=[]),this.setState({config:e.config,mod:e.mod,role:e.role,check:e.check,hasError:!1,errorList:{}},(function(){a.state.check&&a.checkParameters()}))}},{key:"changeMainstreamProvider",value:function(e,t){e.preventDefault(),this.setState({curMainstream:t})}},{key:"changeParam",value:function(e,t,a){var r=this.state.mod;r.parameters[t]=a?parseInt(e.target.value)||0:e.target.value,this.setState({mod:r})}},{key:"toggleParam",value:function(e){var t=this.state.mod;t.parameters[e]=!t.parameters[e],this.setState({mod:t})}},{key:"addProvider",value:function(){var e=this.state.mod,t={name:"",logo_uri:"",logo_fa:"",client_id:"",client_secret:"",provider_type:"oauth2",response_type:"code",userinfo_endpoint:"",config_endpoint:"",auth_endpoint:"",token_endpoint:"",userid_property:"",scope:"",additional_parameters:[],enabled:!0};if(-1===this.state.curMainstream)e.parameters.provider_list.push(t);else{var a=this.state.config.providerMainstreamList[this.state.curMainstream];delete a.help_url,e.parameters.provider_list.push(Object.assign(t,a))}this.setState({mod:e})}},{key:"deleteProvider",value:function(e,t){e.preventDefault();var a=this.state.mod;a.parameters.provider_list.splice(t,1),this.setState({mod:a})}},{key:"changeProviderParam",value:function(e,t,a){var r=this.state.mod;r.parameters.provider_list[t][a]=e.target.value,this.setState({mod:r})}},{key:"changeProviderType",value:function(e,t,a){e.preventDefault();var r=this.state.mod;r.parameters.provider_list[t].provider_type=a,r.parameters.provider_list[t].scope="openid",this.setState({mod:r})}},{key:"changeResponseType",value:function(e,t,a){e.preventDefault();var r=this.state.mod;r.parameters.provider_list[t].response_type=a,this.setState({mod:r})}},{key:"addAddParam",value:function(e,t){e.preventDefault();var a=this.state.mod;a.parameters.provider_list[t].additional_parameters.push({key:"",value:""}),this.setState({mod:a})}},{key:"changeAddParamKey",value:function(e,t,a){e.preventDefault();var r=this.state.mod;r.parameters.provider_list[t].additional_parameters[a].key=e.target.value,this.setState({mod:r})}},{key:"changeAddParamValue",value:function(e,t,a){e.preventDefault();var r=this.state.mod;r.parameters.provider_list[t].additional_parameters[a].value=e.target.value,this.setState({mod:r})}},{key:"removeAdditionalParameter",value:function(e,t,a){e.preventDefault();var r=this.state.mod;r.parameters.provider_list[t].additional_parameters.splice(a,1),this.setState({mod:r})}},{key:"checkParameters",value:function(){var e={},t=!1;this.state.mod.parameters.redirect_uri||(t=!0,e.redirect_uri=i.a.t("admin.mod-oauth2-redirect_uri-error")),this.state.mod.parameters.session_expiration||(t=!0,e.session_expiration=i.a.t("admin.mod-oauth2-session_expiration-error")),this.state.mod.parameters.provider_list.forEach((function(a,r){a.additional_parameters.forEach((function(a,o){a.key||(t=!0,e["provider-"+r+"-"+o+"-key"]=i.a.t("admin.mod-oauth2-additional_parameters-key-error"),e["provider_list-"+r]=!0),a.value||(t=!0,e["provider-"+r+"-"+o+"-value"]=i.a.t("admin.mod-oauth2-additional_parameters-value-error"),e["provider_list-"+r]=!0)})),a.name||(t=!0,e["provider-"+r+"-name"]=i.a.t("admin.mod-oauth2-name-error"),e["provider_list-"+r]=!0),a.client_id||(t=!0,e["provider-"+r+"-client_id"]=i.a.t("admin.mod-oauth2-client_id-error"),e["provider_list-"+r]=!0),a.config_endpoint||a.userid_property||(t=!0,e["provider-"+r+"-userid_property"]=i.a.t("admin.mod-oauth2-userid_property-error"),e["provider_list-"+r]=!0),a.auth_endpoint||a.config_endpoint||(t=!0,e["provider-"+r+"-auth_endpoint"]=i.a.t("admin.mod-oauth2-auth_endpoint-error"),e["provider_list-"+r]=!0),a.token_endpoint||a.config_endpoint||"code"!==a.response_type||(t=!0,e["provider-"+r+"-token_endpoint"]=i.a.t("admin.mod-oauth2-token_endpoint-error"),e["provider_list-"+r]=!0),a.userinfo_endpoint||a.config_endpoint||(t=!0,e["provider-"+r+"-userinfo_endpoint"]=i.a.t("admin.mod-oauth2-userinfo_endpoint-error"),e["provider_list-"+r]=!0)})),t?this.setState({errorList:e}):this.setState({errorList:{}},(function(){d.a.sendMessage("ModEdit",{type:"modValid"})}))}},{key:"render",value:function(){var e,t=this,a=[],r=[o.a.createElement("a",{key:-1,className:"dropdown-item"+(-1===this.state.curMainstream?" active":""),href:"#",onClick:function(e){return t.changeMainstreamProvider(e,-1)}},i.a.t("admin.mod-oauth2-mainstream_provider-none"))];return this.state.mod.parameters.provider_list.forEach((function(e,r){var n=[];e.additional_parameters.forEach((function(e,a){n.push(o.a.createElement("div",{key:a,className:"input-group mb-3"},o.a.createElement("input",{type:"text",className:t.state.errorList["provider-"+r+"-additional_parameters-"+a+"-key"]?"form-control is-invalid":"form-control",id:"mod-oauth2-add-param-key-"+r+"-"+a,onChange:function(e){return t.changeAddParamKey(e,r,a)},value:e.key||"",placeholder:i.a.t("admin.mod-oauth2-add-param-key-ph")}),o.a.createElement("input",{type:"text",className:t.state.errorList["provider-"+r+"-additional_parameters-"+a+"-value"]?"form-control is-invalid":"form-control",id:"mod-oauth2-add-param-value-"+r+"-"+a,onChange:function(e){return t.changeAddParamValue(e,r,a)},value:e.value||"",placeholder:i.a.t("admin.mod-oauth2-add-param-value-ph")}),o.a.createElement("div",{className:"input-group-append"},o.a.createElement("button",{className:"btn btn-outline-secondary",type:"button",id:"button-addon2",onClick:function(e){return t.removeAdditionalParameter(e,r,a)}},o.a.createElement("i",{className:"fas fa-trash"}))),t.state.errorList["provider-"+r+"-"+a+"-key"]?o.a.createElement("span",{className:"error-input"},t.state.errorList["provider-"+r+"-"+a+"-key"]):"",t.state.errorList["provider-"+r+"-"+a+"-value"]?o.a.createElement("span",{className:"error-input"},t.state.errorList["provider-"+r+"-"+a+"-value"]):""))})),a.push(o.a.createElement("div",{key:r,className:"accordion",id:"accordionParams"+r},o.a.createElement("div",{className:"card"},o.a.createElement("div",{className:"card-header",id:"providerListCard"+r},o.a.createElement("h2",{className:"mb-0"},o.a.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseProviderList"+r,"aria-expanded":"true","aria-controls":"collapseProviderList"+r},t.state.errorList["provider_list-"+r]?o.a.createElement("span",{className:"error-input btn-icon"},o.a.createElement("i",{className:"fas fa-exclamation-circle"})):"",o.a.createElement("i",{className:"fas fa-chevron-circle-down"}),o.a.createElement("span",{className:"btn-icon-right"},e.name||i.a.t("admin.mod-oauth2-new"))),o.a.createElement("button",{className:"btn btn-secondary btn-sm float-right",onClick:function(e){return t.deleteProvider(e,r)}},o.a.createElement("i",{className:"fas fa-trash"})))),o.a.createElement("div",{id:"collapseProviderList"+r,className:"collapse show","aria-labelledby":"providerListCard"+r,"data-parent":"#accordionParams"+r},o.a.createElement("div",{className:"card-body"},o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-oauth2-provider_type"},i.a.t("admin.mod-oauth2-provider_type"))),o.a.createElement("div",{className:"dropdown"},o.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-oauth2-provider_type","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.mod-oauth2-provider_type-"+e.provider_type)),o.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-glwd-jwt-key-size"},o.a.createElement("a",{className:"dropdown-item"+("oauth2"===e.provider_type?" active":""),href:"#",onClick:function(e){return t.changeProviderType(e,r,"oauth2")}},i.a.t("admin.mod-oauth2-provider_type-oauth2")),o.a.createElement("a",{className:"dropdown-item"+("oidc"===e.provider_type?" active":""),href:"#",onClick:function(e){return t.changeProviderType(e,r,"oidc")}},i.a.t("admin.mod-oauth2-provider_type-oidc")))))),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-oauth2-name"},i.a.t("admin.mod-oauth2-name"))),o.a.createElement("input",{type:"text",className:t.state.errorList["provider-"+r+"-name"]?"form-control is-invalid":"form-control",id:"mod-oauth2-name",onChange:function(e){return t.changeProviderParam(e,r,"name",0)},value:e.name,placeholder:i.a.t("admin.mod-oauth2-name-ph")})),t.state.errorList["provider-"+r+"-name"]?o.a.createElement("span",{className:"error-input"},t.state.errorList["provider-"+r+"-name"]):""),o.a.createElement("div",{className:"form-group form-check"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-oauth2-enabled",onChange:function(e){return t.toggleParam(e,r,"enabled")},checked:e.enabled}),o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-oauth2-enabled"},i.a.t("admin.mod-oauth2-enabled"))),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-oauth2-logo_uri"},i.a.t("admin.mod-oauth2-logo_uri"))),o.a.createElement("input",{type:"text",className:"form-control",id:"mod-oauth2-logo_uri",onChange:function(e){return t.changeProviderParam(e,r,"logo_uri",0)},value:e.logo_uri,placeholder:i.a.t("admin.mod-oauth2-logo_uri-ph")}))),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-oauth2-logo_fa"},i.a.t("admin.mod-oauth2-logo_fa"))),o.a.createElement("input",{type:"text",className:"form-control",id:"mod-oauth2-logo_fa",onChange:function(e){return t.changeProviderParam(e,r,"logo_fa",0)},value:e.logo_fa,placeholder:i.a.t("admin.mod-oauth2-logo_fa-ph")})),t.state.errorList["provider-"+r+"-logo_fa"]?o.a.createElement("span",{className:"error-input"},t.state.errorList["provider-"+r+"-logo_fa"]):""),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-oauth2-client_id"},i.a.t("admin.mod-oauth2-client_id"))),o.a.createElement("input",{type:"text",className:t.state.errorList["provider-"+r+"-client_id"]?"form-control is-invalid":"form-control",id:"mod-oauth2-client_id",onChange:function(e){return t.changeProviderParam(e,r,"client_id",0)},value:e.client_id,placeholder:i.a.t("admin.mod-oauth2-client_id-ph")})),t.state.errorList["provider-"+r+"-client_id"]?o.a.createElement("span",{className:"error-input"},t.state.errorList["provider-"+r+"-client_id"]):""),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-oauth2-client_secret"},i.a.t("admin.mod-oauth2-client_secret"))),o.a.createElement("input",{type:"text",className:"form-control",id:"mod-oauth2-client_secret",onChange:function(e){return t.changeProviderParam(e,r,"client_secret",0)},value:e.client_secret,placeholder:i.a.t("admin.mod-oauth2-client_secret-ph")}))),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-oauth2-scope"},i.a.t("admin.mod-oauth2-scope"))),o.a.createElement("input",{type:"text",className:"form-control",id:"mod-oauth2-scope",onChange:function(e){return t.changeProviderParam(e,r,"scope",0)},value:e.scope,placeholder:i.a.t("admin.mod-oauth2-scope-ph"),disabled:"oidc"===e.provider_type}))),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-oauth2-response_type"},i.a.t("admin.mod-oauth2-response_type"))),o.a.createElement("div",{className:"dropdown"},o.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-oauth2-response_type","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.mod-oauth2-response_type-"+e.response_type)),o.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-glwd-jwt-key-size"},o.a.createElement("a",{className:"dropdown-item"+("code"===e.response_type?" active":""),href:"#",onClick:function(e){return t.changeResponseType(e,r,"code")}},i.a.t("admin.mod-oauth2-response_type-code")),"oauth2"===e.provider_type?o.a.createElement("a",{className:"dropdown-item"+("token"===e.response_type?" active":""),href:"#",onClick:function(e){return t.changeResponseType(e,r,"token")}},i.a.t("admin.mod-oauth2-response_type-token")):"","oidc"===e.provider_type?o.a.createElement("a",{className:"dropdown-item"+("id_token"===e.response_type?" active":""),href:"#",onClick:function(e){return t.changeResponseType(e,r,"id_token")}},i.a.t("admin.mod-oauth2-response_type-id_token")):"")))),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-oauth2-userid_property"},i.a.t("admin.mod-oauth2-userid_property"))),o.a.createElement("input",{type:"text",className:t.state.errorList["provider-"+r+"-userid_property"]?"form-control is-invalid":"form-control",id:"mod-oauth2-userid_property",onChange:function(e){return t.changeProviderParam(e,r,"userid_property",0)},value:e.userid_property,placeholder:i.a.t("admin.mod-oauth2-userid_property-ph"),disabled:"oidc"===e.provider_type})),t.state.errorList["provider-"+r+"-userid_property"]?o.a.createElement("span",{className:"error-input"},t.state.errorList["provider-"+r+"-userid_property"]):""),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-oauth2-config_endpoint"},i.a.t("admin.mod-oauth2-config_endpoint"))),o.a.createElement("input",{type:"text",className:"form-control",id:"mod-oauth2-config_endpoint",onChange:function(e){return t.changeProviderParam(e,r,"config_endpoint",0)},value:e.config_endpoint,placeholder:i.a.t("admin.mod-oauth2-config_endpoint-ph"),disabled:"oauth2"===e.provider_type}))),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-oauth2-auth_endpoint"},i.a.t("admin.mod-oauth2-auth_endpoint"))),o.a.createElement("input",{type:"text",className:t.state.errorList["provider-"+r+"-auth_endpoint"]?"form-control is-invalid":"form-control",id:"mod-oauth2-auth_endpoint",onChange:function(e){return t.changeProviderParam(e,r,"auth_endpoint",0)},value:e.auth_endpoint,placeholder:i.a.t("admin.mod-oauth2-auth_endpoint-ph")})),t.state.errorList["provider-"+r+"-auth_endpoint"]?o.a.createElement("span",{className:"error-input"},t.state.errorList["provider-"+r+"-auth_endpoint"]):""),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-oauth2-token_endpoint"},i.a.t("admin.mod-oauth2-token_endpoint"))),o.a.createElement("input",{type:"text",className:t.state.errorList["provider-"+r+"-token_endpoint"]?"form-control is-invalid":"form-control",id:"mod-oauth2-token_endpoint",onChange:function(e){return t.changeProviderParam(e,r,"token_endpoint",0)},value:e.token_endpoint,placeholder:i.a.t("admin.mod-oauth2-token_endpoint-ph")})),t.state.errorList["provider-"+r+"-token_endpoint"]?o.a.createElement("span",{className:"error-input"},t.state.errorList["provider-"+r+"-token_endpoint"]):""),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-oauth2-userinfo_endpoint"},i.a.t("admin.mod-oauth2-userinfo_endpoint"))),o.a.createElement("input",{type:"text",className:t.state.errorList["provider-"+r+"-userinfo_endpoint"]?"form-control is-invalid":"form-control",id:"mod-oauth2-userinfo_endpoint",onChange:function(e){return t.changeProviderParam(e,r,"userinfo_endpoint",0)},value:e.userinfo_endpoint,placeholder:i.a.t("admin.mod-oauth2-userinfo_endpoint-ph")})),t.state.errorList["provider-"+r+"-userinfo_endpoint"]?o.a.createElement("span",{className:"error-input"},t.state.errorList["provider-"+r+"-userinfo_endpoint"]):""),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text"},i.a.t("admin.mod-oauth2-additional_parameters"))),o.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(e){return t.addAddParam(e,r)},title:i.a.t("admin.mod-oauth2-additional_parameters-add")},o.a.createElement("i",{className:"fas fa-plus"})),n)))))))})),this.state.config.providerMainstreamList&&this.state.config.providerMainstreamList.forEach((function(a,n){n===t.state.curMainstream&&a.help_url&&(e=o.a.createElement("a",{href:a.help_url,alt:a.name,className:"badge badge-primary",target:"_blank",rel:"noopener noreferrer"},i.a.t("admin.mod-oauth2-help_url"))),r.push(o.a.createElement("a",{key:n,className:"dropdown-item"+(t.state.curMainstream===n?" active":""),href:"#",onClick:function(e){return t.changeMainstreamProvider(e,n)}},a.name))})),o.a.createElement("div",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-oauth2-redirect_uri"},i.a.t("admin.mod-oauth2-redirect_uri"))),o.a.createElement("input",{type:"text",className:this.state.errorList.redirect_uri?"form-control is-invalid":"form-control",id:"mod-oauth2-redirect_uri",onChange:function(e){return t.changeParam(e,"redirect_uri",0)},value:this.state.mod.parameters.redirect_uri,placeholder:i.a.t("admin.mod-oauth2-redirect_uri-ph")})),this.state.errorList.redirect_uri?o.a.createElement("span",{className:"error-input"},this.state.errorList.redirect_uri):""),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-oauth2-session_expiration"},i.a.t("admin.mod-oauth2-session_expiration"))),o.a.createElement("input",{type:"number",min:"1",step:"1",className:this.state.errorList.session_expiration?"form-control is-invalid":"form-control",id:"mod-oauth2-session_expiration",onChange:function(e){return t.changeParam(e,"session_expiration",1)},value:this.state.mod.parameters.session_expiration,placeholder:i.a.t("admin.mod-oauth2-session_expiration-ph")})),this.state.errorList.session_expiration?o.a.createElement("span",{className:"error-input"},this.state.errorList.session_expiration):""),o.a.createElement("hr",null),o.a.createElement("div",{className:"form-group"},o.a.createElement("p",null,i.a.t("admin.mod-oauth2-provider_list-message")),o.a.createElement("div",{className:"btn-group",role:"group"},o.a.createElement("div",{className:"btn-group",role:"group"},o.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-oauth2-mainstream_provider","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},-1===this.state.curMainstream?i.a.t("admin.mod-oauth2-mainstream_provider-none"):this.state.config.providerMainstreamList[this.state.curMainstream].name),o.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-glwd-jwt-key-size"},r)),o.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.addProvider,title:i.a.t("admin.mod-oauth2-provider_list-add")},o.a.createElement("i",{className:"fas fa-plus"}))),o.a.createElement("div",null,e)),a)}}]),a}();function It(e){return(It="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qt(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Dt(e,t){return(Dt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Kt(e){return(Kt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var zt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Dt(e,t)}(a,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=Kt(e);if(t){var o=Kt(this).constructor;a=Reflect.construct(r,arguments,o)}else a=r.apply(this,arguments);return function(e,t){return!t||"object"!==It(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,a)}}(a);function a(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(r=t.call(this,e)).state={config:e.config,mod:e.mod,role:e.role,check:e.check},r}return function(e,t,a){t&&qt(e.prototype,t)}(a,[{key:"componentWillReceiveProps",value:function(e){this.setState({config:e.config,mod:e.mod,role:e.role,check:e.check})}},{key:"render",value:function(){return"mock"===this.state.mod.module?o.a.createElement(Ie,{mod:this.state.mod,role:this.state.role,check:this.state.check,config:this.state.config}):"database"===this.state.mod.module?o.a.createElement(Be,{mod:this.state.mod,role:this.state.role,check:this.state.check,config:this.state.config}):"ldap"===this.state.mod.module?o.a.createElement(He,{mod:this.state.mod,role:this.state.role,check:this.state.check,config:this.state.config}):"http"===this.state.mod.module?o.a.createElement(at,{mod:this.state.mod,role:this.state.role,check:this.state.check,config:this.state.config}):"email"===this.state.mod.module?o.a.createElement(lt,{mod:this.state.mod,role:this.state.role,check:this.state.check,config:this.state.config}):"webauthn"===this.state.mod.module?o.a.createElement(ht,{mod:this.state.mod,role:this.state.role,check:this.state.check,config:this.state.config}):"otp"===this.state.mod.module?o.a.createElement(Et,{mod:this.state.mod,role:this.state.role,check:this.state.check,config:this.state.config}):"retype-password"===this.state.mod.module?o.a.createElement(Pt,{mod:this.state.mod,role:this.state.role,check:this.state.check,config:this.state.config}):"certificate"===this.state.mod.module?o.a.createElement(jt,{mod:this.state.mod,role:this.state.role,check:this.state.check,config:this.state.config}):"oauth2"===this.state.mod.module?o.a.createElement(Ut,{mod:this.state.mod,role:this.state.role,check:this.state.check,config:this.state.config}):""}}]),a}();function Vt(e){return(Vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bt(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jt(e,t){return(Jt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $t(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wt(e){return(Wt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Gt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Jt(e,t)}(a,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=Wt(e);if(t){var o=Wt(this).constructor;a=Reflect.construct(r,arguments,o)}else a=r.apply(this,arguments);return function(e,t){return!t||"object"!==Vt(t)&&"function"!=typeof t?$t(e):t}(this,a)}}(a);function a(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),r=t.call(this,e),e.mod||(e.mod={}),e.mod.expiration||(e.mod.expiration=600),e.mod.max_use||(e.mod.max_use=0),void 0===e.mod.allow_user_register&&(e.mod.allow_user_register=!0),"client"===e.role&&(void 0===e.mod.parameters["data-format"]&&(e.mod.parameters["data-format"]={}),void 0===e.mod.parameters["data-format"].redirect_uri&&(e.mod.parameters["data-format"].redirect_uri={multiple:!0,read:!0,write:!0}),void 0===e.mod.parameters["data-format"].authorization_type&&(e.mod.parameters["data-format"].authorization_type={multiple:!0,read:!0,write:!0}),void 0===e.mod.parameters["data-format"].sector_identifier_uri&&(e.mod.parameters["data-format"].sector_identifier_uri={multiple:!1,read:!0,write:!0}),void 0===e.mod.parameters["data-format"].client_secret&&(e.mod.parameters["data-format"].client_secret={multiple:!1,read:!0,write:!0})),r.state={config:e.config,title:e.title,mod:e.mod,role:e.role,modTypes:e.types,add:e.add,callback:e.callback,parametersValid:!0,nameInvalid:!1,nameInvalidMessage:!1,typeInvalidMessage:!1,check:!1,hasError:!1},d.a.subscribe("ModEdit",(function(e){"modValid"===e.type?r.setState({check:!1},(function(){r.state.add?r.state.mod.name?r.state.mod.module?c.a.glewlwydRequest("/mod/"+r.state.role+"/"+encodeURIComponent(r.state.mod.name),"GET").then((function(){r.setState({nameInvalid:!0,nameInvalidMessage:i.a.t("admin.error-mod-name-exist"),typeInvalidMessage:!1,hasError:!0})})).fail((function(e){404===e.status&&r.state.callback(!0,r.state.mod)})):r.setState({nameInvalid:!1,nameInvalidMessage:!1,typeInvalidMessage:i.a.t("admin.error-mod-type-mandatory"),hasError:!0}):r.setState({nameInvalid:!0,nameInvalidMessage:i.a.t("admin.error-mod-name-mandatory"),typeInvalidMessage:!1,hasError:!0}):r.state.callback(!0,r.state.mod)})):"modInvalid"===e.type&&r.setState({check:!1,hasError:!0})})),r.closeModal=r.closeModal.bind($t(r)),r.changeName=r.changeName.bind($t(r)),r.changeDisplayName=r.changeDisplayName.bind($t(r)),r.changeType=r.changeType.bind($t(r)),r.toggleReadonly=r.toggleReadonly.bind($t(r)),r.toggleAllowUserRegister=r.toggleAllowUserRegister.bind($t(r)),r}return function(e,t,a){t&&Bt(e.prototype,t)}(a,[{key:"componentWillReceiveProps",value:function(e){e.mod||(e.mod={}),e.mod.expiration||(e.mod.expiration=600),e.mod.max_use||(e.mod.max_use=0),void 0===e.mod.allow_user_register&&(e.mod.allow_user_register=!0),"client"===e.role&&(void 0===e.mod.parameters["data-format"]&&(e.mod.parameters["data-format"]={}),void 0===e.mod.parameters["data-format"].redirect_uri&&(e.mod.parameters["data-format"].redirect_uri={multiple:!0,read:!0,write:!0}),void 0===e.mod.parameters["data-format"].authorization_type&&(e.mod.parameters["data-format"].authorization_type={multiple:!0,read:!0,write:!0}),void 0===e.mod.parameters["data-format"].sector_identifier_uri&&(e.mod.parameters["data-format"].sector_identifier_uri={multiple:!1,read:!0,write:!0}),void 0===e.mod.parameters["data-format"].client_secret&&(e.mod.parameters["data-format"].client_secret={multiple:!1,read:!0,write:!0})),this.setState({config:e.config,title:e.title,mod:e.mod,role:e.role,modTypes:e.types,add:e.add,callback:e.callback,parametersValid:!0,nameInvalid:!1,nameInvalidMessage:!1,typeInvalidMessage:!1,hasError:!1})}},{key:"closeModal",value:function(e,t){this.state.callback&&(t?this.setState({check:!0}):this.state.callback(t))}},{key:"changeName",value:function(e){var t=this.state.mod;t.name=e.target.value,this.setState({mod:t})}},{key:"changeDisplayName",value:function(e){var t=this.state.mod;t.display_name=e.target.value,this.setState({mod:t})}},{key:"changeType",value:function(e,t){var a=this.state.mod;a.module=t,this.setState({mod:a})}},{key:"changeExpiration",value:function(e){var t=this.state.mod;t.expiration=parseInt(e.target.value),this.setState({mod:t})}},{key:"changeMaxUse",value:function(e){var t=this.state.mod;t.max_use=parseInt(e.target.value),this.setState({mod:t})}},{key:"toggleReadonly",value:function(e){var t=this.state.mod;t.readonly=!t.readonly,this.setState({mod:t})}},{key:"toggleMultiplePasswords",value:function(e){var t=this.state.mod;t.multiple_passwords=!t.multiple_passwords,this.setState({mod:t})}},{key:"toggleAllowUserRegister",value:function(){var e=this.state.mod;e.allow_user_register=!e.allow_user_register,this.setState({mod:e})}},{key:"toggleForbidUserProfile",value:function(){var e=this.state.mod;e.forbid_user_profile=!e.forbid_user_profile,this.setState({mod:e})}},{key:"toggleForbidUserResetCredential",value:function(){var e=this.state.mod;e.forbid_user_reset_credential=!e.forbid_user_reset_credential,this.setState({mod:e})}},{key:"render",value:function(){var e,t,a=this,r=[];if(this.state.add){var n=i.a.t("admin.mod-type-select");this.state.modTypes.forEach((function(e,t){a.state.mod.module===e.name?(n=e.display_name,r.push(o.a.createElement("a",{className:"dropdown-item active",key:t,href:"#",onClick:function(t){return a.changeType(t,e.name)}},e.display_name))):r.push(o.a.createElement("a",{className:"dropdown-item",key:t,href:"#",onClick:function(t){return a.changeType(t,e.name)}},e.display_name))})),e=o.a.createElement("div",{className:"dropdown"},o.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"dropdownModType","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},n),o.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropdownModType"},r))}else this.state.modTypes.forEach((function(t,r){a.state.mod.module===t.name&&(e=o.a.createElement("span",{className:"badge badge-primary btn-icon-right"},t.display_name))}));this.state.hasError&&(t=o.a.createElement("span",{className:"error-input text-right"},i.a.t("admin.error-input")));var s="",l="",m="";if("user"===this.state.role){var c=!!this.state.mod.multiple_passwords,d=!1;"http"===this.state.mod.module&&(c=!1,d=!0),l=o.a.createElement("div",{className:"form-group form-check"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-multiple-password",onChange:function(e){return a.toggleMultiplePasswords(e)},checked:c,disabled:d}),o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-multiple-password"},i.a.t("admin.mod-multiple-password")))}return"scheme"!==this.state.role?(c=!!this.state.mod.readonly,d=!1,"http"===this.state.mod.module&&(c=!0,d=!0),s=o.a.createElement("div",{className:"form-group form-check"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-readonly",onChange:function(e){return a.toggleReadonly(e)},checked:c,disabled:d}),o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-readonly"},i.a.t("admin.mod-readonly")))):m=o.a.createElement("div",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-expiration"},i.a.t("admin.mod-expiration"))),o.a.createElement("input",{type:"number",min:"0",step:"1",className:"form-control",id:"mod-expiration",placeholder:i.a.t("admin.mod-expiration-ph"),value:this.state.mod.expiration,onChange:function(e){return a.changeExpiration(e)}}))),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-max-use"},i.a.t("admin.mod-max-use"))),o.a.createElement("input",{type:"number",min:"0",step:"1",className:"form-control",id:"mod-max-use",placeholder:i.a.t("admin.mod-max-use-ph"),value:this.state.mod.max_use,onChange:function(e){return a.changeMaxUse(e)}}))),o.a.createElement("div",{className:"form-group form-check"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-forbid-user-profile",onChange:function(e){return a.toggleForbidUserProfile(e)},checked:this.state.mod.forbid_user_profile||!1}),o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-forbid-user-profile"},i.a.t("admin.mod-forbid-user-profile"))),o.a.createElement("div",{className:"form-group form-check"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-forbid-user-reset-credential",onChange:function(e){return a.toggleForbidUserResetCredential(e)},checked:this.state.mod.forbid_user_reset_credential||!1}),o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-forbid-user-reset-credential"},i.a.t("admin.mod-forbid-user-reset-credential"))),o.a.createElement("div",{className:"form-group form-check"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-allow-user-register",onChange:function(e){return a.toggleAllowUserRegister(e)},checked:this.state.mod.allow_user_register}),o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-allow-user-register"},i.a.t("admin.mod-allow-user-register")))),o.a.createElement("div",{className:"modal fade",id:"editModModal",tabIndex:"-1",role:"dialog","aria-labelledby":"confirmModalLabel","aria-hidden":"true"},o.a.createElement("div",{className:"modal-dialog modal-lg",role:"document"},o.a.createElement("div",{className:"modal-content"},o.a.createElement("div",{className:"modal-header"},o.a.createElement("h5",{className:"modal-title",id:"confirmModalLabel"},this.state.title),o.a.createElement("button",{type:"button",className:"close","aria-label":i.a.t("modal.close"),onClick:function(e){return a.closeModal(e,!1)}},o.a.createElement("span",{"aria-hidden":"true"},"Ã—"))),o.a.createElement("div",{className:"modal-body"},o.a.createElement("form",{className:"needs-validation",noValidate:!0},o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-type"},i.a.t("admin.mod-type"))),e,o.a.createElement("span",{className:"error-input"+(this.state.typeInvalidMessage?"":" hidden")},this.state.typeInvalidMessage))),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-name"},i.a.t("admin.mod-name"))),o.a.createElement("input",{type:"text",className:"form-control"+(this.state.nameInvalid?" is-invalid":""),id:"mod-name",placeholder:i.a.t("admin.mod-name-ph"),maxLength:"128",value:this.state.mod.name||"",onChange:function(e){return a.changeName(e)},disabled:!this.state.add}),o.a.createElement("span",{className:"error-input"+(this.state.nameInvalid?"":" hidden")},this.state.nameInvalidMessage))),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-display-name"},i.a.t("admin.mod-display-name"))),o.a.createElement("input",{type:"text",className:"form-control",id:"mod-display-name",placeholder:i.a.t("admin.mod-display-name-ph"),maxLength:"256",value:this.state.mod.display_name||"",onChange:function(e){return a.changeDisplayName(e)}}))),s,l,m,o.a.createElement(zt,{mod:this.state.mod,role:this.state.role,check:this.state.check,config:this.state.config}))),o.a.createElement("div",{className:"modal-footer"},t,o.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(e){return a.closeModal(e,!1)}},i.a.t("modal.close")),o.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(e){return a.closeModal(e,!0)}},i.a.t("modal.ok"))))))}}]),a}();function Xt(e){return(Xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ht(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yt(e,t){return(Yt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Qt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zt(e){return(Zt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ea=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Yt(e,t)}(a,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=Zt(e);if(t){var o=Zt(this).constructor;a=Reflect.construct(r,arguments,o)}else a=r.apply(this,arguments);return function(e,t){return!t||"object"!==Xt(t)&&"function"!=typeof t?Qt(e):t}(this,a)}}(a);function a(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(r=t.call(this,e)).state={mod:e.mod,role:e.role,check:e.check,hasError:!1},r.state.check&&r.checkParameters(),r.checkParameters=r.checkParameters.bind(Qt(r)),r}return function(e,t,a){t&&Ht(e.prototype,t)}(a,[{key:"componentWillReceiveProps",value:function(e){var t=this;this.setState({mod:e.mod,role:e.role,check:e.check,hasError:!1},(function(){t.state.check&&t.checkParameters()}))}},{key:"checkParameters",value:function(){d.a.sendMessage("ModPlugin",{type:"modValid"})}},{key:"render",value:function(){return""}}]),a}();function ta(e){return(ta="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function aa(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ra(e,t){return(ra=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function oa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function na(e){return(na=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var sa=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ra(e,t)}(a,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=na(e);if(t){var o=na(this).constructor;a=Reflect.construct(r,arguments,o)}else a=r.apply(this,arguments);return function(e,t){return!t||"object"!==ta(t)&&"function"!=typeof t?oa(e):t}(this,a)}}(a);function a(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),r=t.call(this,e),!e.mod.parameters&&(e.mod.parameters={}),!e.mod.parameters["jwt-type"]&&(e.mod.parameters["jwt-type"]="rsa"),!e.mod.parameters["jwt-key-size"]&&(e.mod.parameters["jwt-key-size"]="512"),!e.mod.parameters.key&&(e.mod.parameters.key=""),!e.mod.parameters.cert&&(e.mod.parameters.cert=""),!e.mod.parameters.cert&&(e.mod.parameters.cert=""),!e.mod.parameters["access-token-duration"]&&(e.mod.parameters["access-token-duration"]=3600),!e.mod.parameters["refresh-token-duration"]&&(e.mod.parameters["refresh-token-duration"]=1209600),!e.mod.parameters["code-duration"]&&(e.mod.parameters["code-duration"]=600),void 0===e.mod.parameters["refresh-token-rolling"]&&(e.mod.parameters["refresh-token-rolling"]=!0),void 0===e.mod.parameters["auth-type-code-enabled"]&&(e.mod.parameters["auth-type-code-enabled"]=!0),void 0===e.mod.parameters["auth-type-code-revoke-replayed"]&&(e.mod.parameters["auth-type-code-revoke-replayed"]=!1),void 0===e.mod.parameters["auth-type-implicit-enabled"]&&(e.mod.parameters["auth-type-implicit-enabled"]=!0),void 0===e.mod.parameters["auth-type-password-enabled"]&&(e.mod.parameters["auth-type-password-enabled"]=!0),void 0===e.mod.parameters["auth-type-client-enabled"]&&(e.mod.parameters["auth-type-client-enabled"]=!0),void 0===e.mod.parameters["auth-type-device-enabled"]&&(e.mod.parameters["auth-type-device-enabled"]=!1),void 0===e.mod.parameters["auth-type-refresh-enabled"]&&(e.mod.parameters["auth-type-refresh-enabled"]=!0),!e.mod.parameters.scope&&(e.mod.parameters.scope=[]),!e.mod.parameters["additional-parameters"]&&(e.mod.parameters["additional-parameters"]=[]),void 0===e.mod.parameters["pkce-allowed"]&&(e.mod.parameters["pkce-allowed"]=!1),void 0===e.mod.parameters["pkce-method-plain-allowed"]&&(e.mod.parameters["pkce-method-plain-allowed"]=!1),void 0===e.mod.parameters["introspection-revocation-allowed"]&&(e.mod.parameters["introspection-revocation-allowed"]=!1),void 0===e.mod.parameters["introspection-revocation-auth-scope"]&&(e.mod.parameters["introspection-revocation-auth-scope"]=[]),void 0===e.mod.parameters["introspection-revocation-allow-target-client"]&&(e.mod.parameters["introspection-revocation-allow-target-client"]=!0),void 0===e.mod.parameters["device-authorization-expiration"]&&(e.mod.parameters["device-authorization-expiration"]=600),void 0===e.mod.parameters["device-authorization-interval"]&&(e.mod.parameters["device-authorization-interval"]=5),r.state={config:e.config,mod:e.mod,role:e.role,check:e.check,errorList:{},newScopeOverride:!1},r.state.check&&r.checkParameters(),r.checkParameters=r.checkParameters.bind(oa(r)),r.changeParam=r.changeParam.bind(oa(r)),r.changeNumberParam=r.changeNumberParam.bind(oa(r)),r.toggleParam=r.toggleParam.bind(oa(r)),r.changeJwtType=r.changeJwtType.bind(oa(r)),r.setNewScopeOverride=r.setNewScopeOverride.bind(oa(r)),r.addScopeOverride=r.addScopeOverride.bind(oa(r)),r.changeScopeOverrideRefreshDuration=r.changeScopeOverrideRefreshDuration.bind(oa(r)),r.toggleScopeOverrideRolling=r.toggleScopeOverrideRolling.bind(oa(r)),r.addAdditionalParameter=r.addAdditionalParameter.bind(oa(r)),r.setAdditionalPropertyUserParameter=r.setAdditionalPropertyUserParameter.bind(oa(r)),r.setAdditionalPropertyTokenParameter=r.setAdditionalPropertyTokenParameter.bind(oa(r)),r.deleteAdditionalProperty=r.deleteAdditionalProperty.bind(oa(r)),r.addScope=r.addScope.bind(oa(r)),r.deleteScope=r.deleteScope.bind(oa(r)),r}return function(e,t,a){t&&aa(e.prototype,t)}(a,[{key:"componentWillReceiveProps",value:function(e){var t=this;!e.mod.parameters&&(e.mod.parameters={}),!e.mod.parameters["jwt-type"]&&(e.mod.parameters["jwt-type"]="rsa"),!e.mod.parameters["jwt-key-size"]&&(e.mod.parameters["jwt-key-size"]="512"),!e.mod.parameters.key&&(e.mod.parameters.key=""),!e.mod.parameters.cert&&(e.mod.parameters.cert=""),!e.mod.parameters.cert&&(e.mod.parameters.cert=""),!e.mod.parameters["access-token-duration"]&&(e.mod.parameters["access-token-duration"]=3600),!e.mod.parameters["refresh-token-duration"]&&(e.mod.parameters["refresh-token-duration"]=1209600),!e.mod.parameters["code-duration"]&&(e.mod.parameters["code-duration"]=600),void 0===e.mod.parameters["refresh-token-rolling"]&&(e.mod.parameters["refresh-token-rolling"]=!0),void 0===e.mod.parameters["auth-type-code-enabled"]&&(e.mod.parameters["auth-type-code-enabled"]=!0),void 0===e.mod.parameters["auth-type-code-revoke-replayed"]&&(e.mod.parameters["auth-type-code-revoke-replayed"]=!1),void 0===e.mod.parameters["auth-type-implicit-enabled"]&&(e.mod.parameters["auth-type-implicit-enabled"]=!0),void 0===e.mod.parameters["auth-type-password-enabled"]&&(e.mod.parameters["auth-type-password-enabled"]=!0),void 0===e.mod.parameters["auth-type-client-enabled"]&&(e.mod.parameters["auth-type-client-enabled"]=!0),void 0===e.mod.parameters["auth-type-device-enabled"]&&(e.mod.parameters["auth-type-device-enabled"]=!1),void 0===e.mod.parameters["auth-type-refresh-enabled"]&&(e.mod.parameters["auth-type-refresh-enabled"]=!0),!e.mod.parameters.scope&&(e.mod.parameters.scope=[]),!e.mod.parameters["additional-parameters"]&&(e.mod.parameters["additional-parameters"]=[]),void 0===e.mod.parameters["pkce-allowed"]&&(e.mod.parameters["pkce-allowed"]=!1),void 0===e.mod.parameters["pkce-method-plain-allowed"]&&(e.mod.parameters["pkce-method-plain-allowed"]=!1),void 0===e.mod.parameters["introspection-revocation-allowed"]&&(e.mod.parameters["introspection-revocation-allowed"]=!1),void 0===e.mod.parameters["introspection-revocation-auth-scope"]&&(e.mod.parameters["introspection-revocation-auth-scope"]=[]),void 0===e.mod.parameters["introspection-revocation-allow-target-client"]&&(e.mod.parameters["introspection-revocation-allow-target-client"]=!0),void 0===e.mod.parameters["device-authorization-expiration"]&&(e.mod.parameters["device-authorization-expiration"]=600),void 0===e.mod.parameters["device-authorization-interval"]&&(e.mod.parameters["device-authorization-interval"]=5),this.setState({config:e.config,mod:e.mod,role:e.role,check:e.check},(function(){t.state.check&&t.checkParameters()}))}},{key:"changeParam",value:function(e,t){var a=this.state.mod;a.parameters[t]=e.target.value,this.setState({mod:a})}},{key:"changeNumberParam",value:function(e,t){var a=this.state.mod;a.parameters[t]=parseInt(e.target.value),isNaN(a.parameters[t])||this.setState({mod:a})}},{key:"toggleParam",value:function(e,t){var a=this.state.mod;a.parameters[t]=!a.parameters[t],this.setState({mod:a})}},{key:"changeJwtType",value:function(e,t){var a=this.state.mod;a.parameters["jwt-type"]=t,this.setState({mod:a})}},{key:"changeJwtKeySize",value:function(e,t){var a=this.state.mod;a.parameters["jwt-key-size"]=t,this.setState({mod:a})}},{key:"uploadFile",value:function(e,t){var a=this,r=this.state.mod,o=e.target.files[0],n=new FileReader;n.onload=function(e){r.parameters[t]=e.target.result,a.setState({mod:r})},n.readAsText(o)}},{key:"setNewScopeOverride",value:function(e,t){this.setState({newScopeOverride:t})}},{key:"addScopeOverride",value:function(){if(this.state.newScopeOverride){var e=this.state.mod;e.parameters.scope.push({name:this.state.newScopeOverride,"refresh-token-rolling":this.state.mod.parameters["refresh-token-rolling"],"refresh-token-duration":0}),this.setState({mod:e,newScopeOverride:!1})}}},{key:"changeScopeOverrideRefreshDuration",value:function(e,t){var a=this.state.mod;a.parameters.scope.forEach((function(a){a.name===t.name&&(a["refresh-token-duration"]=parseInt(e.target.value))})),this.setState({mod:a})}},{key:"toggleScopeOverrideRolling",value:function(e,t,a){var r=this.state.mod;r.parameters.scope.forEach((function(e){e.name===t&&(void 0===a?delete e["refresh-token-rolling"]:e["refresh-token-rolling"]=a)})),this.setState({mod:r})}},{key:"deleteScopeOverride",value:function(e,t){var a=this.state.mod;a.parameters.scope.forEach((function(e,r){e.name===t&&a.parameters.scope.splice(r,1)})),this.setState({mod:a})}},{key:"addAdditionalParameter",value:function(){var e=this.state.mod;e.parameters["additional-parameters"].push({"user-parameter":"","token-parameter":"","token-changed":!1}),this.setState({mod:e,newScopeOverride:!1})}},{key:"setAdditionalPropertyUserParameter",value:function(e,t){var a=this.state.mod;a.parameters["additional-parameters"][t]&&(a.parameters["additional-parameters"][t]["user-parameter"]=e.target.value,a.parameters["additional-parameters"][t]["token-changed"]||(a.parameters["additional-parameters"][t]["token-parameter"]=e.target.value)),this.setState({mod:a,newScopeOverride:!1})}},{key:"setAdditionalPropertyTokenParameter",value:function(e,t){var a=this.state.mod;a.parameters["additional-parameters"][t]&&(a.parameters["additional-parameters"][t]["token-parameter"]=e.target.value,a.parameters["additional-parameters"][t]["token-changed"]=!0),this.setState({mod:a,newScopeOverride:!1})}},{key:"deleteAdditionalProperty",value:function(e,t){var a=this.state.mod;a.parameters["additional-parameters"][t]&&a.parameters["additional-parameters"].splice(t,1),this.setState({mod:a,newScopeOverride:!1})}},{key:"addScope",value:function(e,t){e.preventDefault();var a=this.state.mod;a.parameters["introspection-revocation-auth-scope"].push(t),this.setState({mod:a})}},{key:"deleteScope",value:function(e,t){e.preventDefault();var a=this.state.mod;a.parameters["introspection-revocation-auth-scope"].splice(t,1),this.setState({mod:a})}},{key:"checkParameters",value:function(){var e={},t=!1;this.state.mod.parameters.key||(t=!0,e.key="admin.mod-glwd-key-error",e.signature=!0),"sha"===this.state.mod.parameters["jwt-type"]||this.state.mod.parameters.cert||(t=!0,e.cert="admin.mod-glwd-cert-error",e.signature=!0),this.state.mod.parameters["access-token-duration"]||(t=!0,e["access-token-duration"]="admin.mod-glwd-access-token-duration-error",e.token=!0),this.state.mod.parameters["refresh-token-duration"]||(t=!0,e["refresh-token-duration"]="admin.mod-glwd-refresh-token-duration-error",e.token=!0),this.state.mod.parameters["code-duration"]||(t=!0,e["code-duration"]="admin.mod-glwd-code-duration-error",e.token=!0),this.state.mod.parameters["additional-parameters"].forEach((function(a,r){a["user-parameter"]||(t=!0,e["additional-parameters"]||(e["additional-parameters"]=[]),e["additional-parameters"][r]||(e["additional-parameters"][r]={}),e["additional-parameters"][r].user="admin.mod-glwd-additional-parameter-user-parameter-error"),a["token-parameter"]?"username"!==a["token-parameter"]&&"salt"!==a["token-parameter"]&&"type"!==a["token-parameter"]&&"iat"!==a["token-parameter"]&&"expires_in"!==a["token-parameter"]&&"scope"!==a["token-parameter"]||(t=!0,e["additional-parameters"]||(e["additional-parameters"]=[]),e["additional-parameters"][r]||(e["additional-parameters"][r]={}),e["additional-parameters"][r].token="admin.mod-glwd-additional-parameter-token-parameter-invalid-error"):(t=!0,e["additional-parameters"]||(e["additional-parameters"]=[]),e["additional-parameters"][r]||(e["additional-parameters"][r]={}),e["additional-parameters"][r].token="admin.mod-glwd-additional-parameter-token-parameter-error")})),!this.state.mod.parameters["introspection-revocation-allowed"]||this.state.mod.parameters["introspection-revocation-allow-target-client"]||this.state.mod.parameters["introspection-revocation-auth-scope"].length||(t=!0,e["introspection-revocation"]="admin.mod-glwd-introspection-revocation-error",e.token=!0),t?this.setState({errorList:e},(function(){d.a.sendMessage("ModPlugin",{type:"modInvalid"})})):this.setState({errorList:{}},(function(){d.a.sendMessage("ModPlugin",{type:"modValid"})}))}},{key:"render",value:function(){var e,t,a=this,r=[],n=[],s=[],l=document.location.href.split("?")[0].split("#")[0]+this.state.config.api_prefix+"/"+(this.state.mod.name||""),m=l+"/auth",c=l+"/token",d=l+"/profile";"sha"===this.state.mod.parameters["jwt-type"]?e=o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-key"},i.a.t("admin.mod-glwd-key"))),o.a.createElement("input",{type:"password",className:this.state.errorList.key?"form-control is-invalid":"form-control",id:"mod-glwd-key",onChange:function(e){return a.changeParam(e,"key")},value:this.state.mod.parameters.key,placeholder:i.a.t("admin.mod-glwd-key-ph")})),this.state.errorList.key?o.a.createElement("span",{className:"error-input"},this.state.errorList.key):""):(e=o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-key"},i.a.t("admin.mod-glwd-key"))),o.a.createElement("div",{className:"custom-file"},o.a.createElement("input",{type:"file",className:this.state.errorList.key?"custom-file-input is-invalid":"custom-file-input",onChange:function(e){return a.uploadFile(e,"key")}}),o.a.createElement("label",{className:"custom-file-label",htmlFor:"inputGroupFile01"},i.a.t("admin.choose-file")))),this.state.mod.parameters.key?o.a.createElement("div",{className:"alert alert-primary"},this.state.mod.parameters.key.substring(0,40)):"",this.state.errorList.key?o.a.createElement("span",{className:"error-input"},this.state.errorList.key):""),t=o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-cert"},i.a.t("admin.mod-glwd-cert"))),o.a.createElement("div",{className:"custom-file"},o.a.createElement("input",{type:"file",className:this.state.errorList.key?"custom-file-input is-invalid":"custom-file-input",onChange:function(e){return a.uploadFile(e,"cert")}}),o.a.createElement("label",{className:"custom-file-label",htmlFor:"inputGroupFile01"},i.a.t("admin.choose-file")))),this.state.mod.parameters.cert?o.a.createElement("div",{className:"alert alert-primary"},this.state.mod.parameters.cert.substring(0,40)):"",this.state.errorList.cert?o.a.createElement("span",{className:"error-input"},this.state.errorList.cert):"")),this.state.config.pattern.user.forEach((function(e){"scope"===e.name&&e.listElements.forEach((function(e,t){var r=0;a.state.mod.parameters.scope.forEach((function(t){t.name===e&&(r=1)})),r||n.push(o.a.createElement("a",{key:t,className:"dropdown-item",href:"#",onClick:function(t){return a.setNewScopeOverride(t,e)}},e))}))}));var p=o.a.createElement("div",{className:"dropdown"},o.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-glwd-scope-override-scope","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},this.state.newScopeOverride||i.a.t("admin.mod-glwd-scope-override-scope")),o.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-glwd-scope-override-scope"},n));this.state.mod.parameters.scope.forEach((function(e,t){r.push(o.a.createElement("div",{key:t},o.a.createElement("hr",null),o.a.createElement("h4",null,e.name),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-scope-override-refresh-duration-"+e.name},i.a.t("admin.mod-glwd-scope-override-refresh-duration"))),o.a.createElement("input",{type:"number",min:"0",step:"1",className:"form-control",id:"mod-glwd-scope-override-refresh-duration-"+e.name,onChange:function(t){return a.changeScopeOverrideRefreshDuration(t,e)},value:e["refresh-token-duration"],placeholder:i.a.t("admin.mod-glwd-scope-override-refresh-duration-ph")}))),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-scope-override-refresh-rolling-"+e.name},i.a.t("admin.mod-scope-override-refresh-rolling"))),o.a.createElement("div",{className:"dropdown"},o.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-glwd-scope-override-refresh-rolling-"+e.name,"data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.glwd-scope-override-refresh-rolling-value-"+e["refresh-token-rolling"])),o.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-glwd-jwt-type"},o.a.createElement("a",{className:"dropdown-item"+(void 0===e["refresh-token-rolling"]?" active":""),href:"#",onClick:function(t){return a.toggleScopeOverrideRolling(t,e.name,void 0)}},i.a.t("admin.glwd-scope-override-refresh-rolling-value-undefined")),o.a.createElement("a",{className:"dropdown-item"+(!0===e["refresh-token-rolling"]?" active":""),href:"#",onClick:function(t){return a.toggleScopeOverrideRolling(t,e.name,!0)}},i.a.t("admin.glwd-scope-override-refresh-rolling-value-true")),o.a.createElement("a",{className:"dropdown-item"+(!1===e["refresh-token-rolling"]?" active":""),href:"#",onClick:function(t){return a.toggleScopeOverrideRolling(t,e.name,!1)}},i.a.t("admin.glwd-scope-override-refresh-rolling-value-false")))))),o.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return a.deleteScopeOverride(t,e.name)},title:i.a.t("admin.mod-scope-override-delete")},o.a.createElement("i",{className:"fas fa-trash"}))))})),this.state.mod.parameters["additional-parameters"].forEach((function(e,t){var r=a.state.errorList["additional-parameters"]&&a.state.errorList["additional-parameters"][t]&&a.state.errorList["additional-parameters"][t].user,n=a.state.errorList["additional-parameters"]&&a.state.errorList["additional-parameters"][t]&&a.state.errorList["additional-parameters"][t].token;s.push(o.a.createElement("div",{key:t},o.a.createElement("hr",null),o.a.createElement("h4",null,e["user-parameter"]||i.a.t("admin.mod-additional-parameter-new")),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-additional-parameter-user-parameter-"+e["user-parameter"]},i.a.t("admin.mod-glwd-additional-parameter-user-parameter"))),o.a.createElement("input",{type:"text",className:r?"form-control is-invalid":"form-control",id:"mod-glwd-additional-parameter-user-parameter-"+e["user-parameter"],onChange:function(e){return a.setAdditionalPropertyUserParameter(e,t)},value:e["user-parameter"],placeholder:i.a.t("admin.mod-glwd-additional-parameter-user-parameter-ph")}),r?o.a.createElement("span",{className:"error-input"},a.state.errorList["additional-parameters"][t].user):"")),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-additional-parameter-token-parameter-"+e["token-parameter"]},i.a.t("admin.mod-glwd-additional-parameter-token-parameter"))),o.a.createElement("input",{type:"text",className:n?"form-control is-invalid":"form-control",id:"mod-glwd-additional-parameter-token-parameter-"+e["token-parameter"],onChange:function(e){return a.setAdditionalPropertyTokenParameter(e,t)},value:e["token-parameter"],placeholder:i.a.t("admin.mod-glwd-additional-parameter-token-parameter-ph")})),n?o.a.createElement("span",{className:"error-input"},a.state.errorList["additional-parameters"][t].token):""),o.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(e){return a.deleteAdditionalProperty(e,t)},title:i.a.t("admin.mod-additional-parameter-token-delete")},o.a.createElement("i",{className:"fas fa-trash"}))))})),n=[];var u=[];this.state.config.pattern.user.forEach((function(e){"scope"===e.name&&e.listElements.forEach((function(e,t){n.push(o.a.createElement("a",{key:t,className:"dropdown-item",href:"#",onClick:function(t){return a.addScope(t,e)},disabled:!a.state.mod.parameters["introspection-revocation-allowed"]},e))}))})),this.state.mod.parameters["introspection-revocation-auth-scope"].forEach((function(e,t){a.state.mod.parameters["introspection-revocation-allowed"]?u.push(o.a.createElement("a",{className:"btn-icon-right",href:"#",onClick:function(e){return a.deleteScope(e,t)},key:t},o.a.createElement("span",{className:"badge badge-primary"},e,o.a.createElement("span",{className:"badge badge-light btn-icon-right"},o.a.createElement("i",{className:"fas fa-times"}))))):u.push(o.a.createElement("span",{key:t,className:"badge badge-primary btn-icon-right"},e))}));var h=o.a.createElement("div",{className:"dropdown"},o.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-register-scope","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:!this.state.mod.parameters["introspection-revocation-allowed"]},i.a.t("admin.mod-glwd-introspection-revocation-scope")),o.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-register-scope"},n),o.a.createElement("div",null,u));return o.a.createElement("div",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement("span",{className:"input-group-text"},i.a.t("admin.mod-glwd-url-auth"))),o.a.createElement("code",null,m))),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement("span",{className:"input-group-text"},i.a.t("admin.mod-glwd-url-token"))),o.a.createElement("code",null,c))),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement("span",{className:"input-group-text"},i.a.t("admin.mod-glwd-url-profile"))),o.a.createElement("code",null,d))),o.a.createElement("hr",null),o.a.createElement("div",{className:"accordion",id:"accordionSignature"},o.a.createElement("div",{className:"card"},o.a.createElement("div",{className:"card-header",id:"addParamCard"},o.a.createElement("h2",{className:"mb-0"},o.a.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseSignature","aria-expanded":"true","aria-controls":"collapseSignature"},this.state.errorList.signature?o.a.createElement("span",{className:"error-input btn-icon"},o.a.createElement("i",{className:"fas fa-exclamation-circle"})):"",i.a.t("admin.mod-glwd-sign-title")))),o.a.createElement("div",{id:"collapseSignature",className:"collapse","aria-labelledby":"addParamCard","data-parent":"#accordionSignature"},o.a.createElement("div",{className:"card-body"},o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-jwt-type"},i.a.t("admin.mod-glwd-jwt-type"))),o.a.createElement("div",{className:"dropdown"},o.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-glwd-jwt-type","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.mod-glwd-jwt-type-"+this.state.mod.parameters["jwt-type"])),o.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-glwd-jwt-type"},o.a.createElement("a",{className:"dropdown-item"+("rsa"===this.state.mod.parameters["jwt-type"]?" active":""),href:"#",onClick:function(e){return a.changeJwtType(e,"rsa")}},i.a.t("admin.mod-glwd-jwt-type-rsa")),o.a.createElement("a",{className:"dropdown-item"+("ecdsa"===this.state.mod.parameters["jwt-type"]?" active":""),href:"#",onClick:function(e){return a.changeJwtType(e,"ecdsa")}},i.a.t("admin.mod-glwd-jwt-type-ecdsa")),o.a.createElement("a",{className:"dropdown-item"+("sha"===this.state.mod.parameters["jwt-type"]?" active":""),href:"#",onClick:function(e){return a.changeJwtType(e,"sha")}},i.a.t("admin.mod-glwd-jwt-type-sha")),o.a.createElement("a",{className:"dropdown-item"+("rsa-pss"===this.state.mod.parameters["jwt-type"]?" active":""),href:"#",onClick:function(e){return a.changeJwtType(e,"rsa-pss")}},i.a.t("admin.mod-glwd-jwt-type-rsa-pss")),o.a.createElement("a",{className:"dropdown-item"+("eddsa"===this.state.mod.parameters["jwt-type"]?" active":""),href:"#",onClick:function(e){return a.changeJwtType(e,"eddsa")}},i.a.t("admin.mod-glwd-jwt-type-eddsa"))))),this.state.errorList["jwt-type"]?o.a.createElement("span",{className:"error-input"},this.state.errorList["jwt-type"]):""),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-jwt-key-size"},i.a.t("admin.mod-glwd-jwt-key-size"))),o.a.createElement("div",{className:"dropdown"},o.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-glwd-jwt-key-size","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.mod-glwd-jwt-key-size-"+this.state.mod.parameters["jwt-key-size"])),o.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-glwd-jwt-key-size"},o.a.createElement("a",{className:"dropdown-item"+("256"===this.state.mod.parameters["jwt-key-size"]?" active":""),href:"#",onClick:function(e){return a.changeJwtKeySize(e,"256")}},i.a.t("admin.mod-glwd-jwt-key-size-256")),o.a.createElement("a",{className:"dropdown-item"+("384"===this.state.mod.parameters["jwt-key-size"]?" active":""),href:"#",onClick:function(e){return a.changeJwtKeySize(e,"384")}},i.a.t("admin.mod-glwd-jwt-key-size-384")),o.a.createElement("a",{className:"dropdown-item"+("512"===this.state.mod.parameters["jwt-key-size"]?" active":""),href:"#",onClick:function(e){return a.changeJwtKeySize(e,"512")}},i.a.t("admin.mod-glwd-jwt-key-size-512"))))),this.state.errorList["jwt-key-size"]?o.a.createElement("span",{className:"error-input"},this.state.errorList["jwt-key-size"]):""),e,t)))),o.a.createElement("div",{className:"accordion",id:"accordionToken"},o.a.createElement("div",{className:"card"},o.a.createElement("div",{className:"card-header",id:"addParamCard"},o.a.createElement("h2",{className:"mb-0"},o.a.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseToken","aria-expanded":"true","aria-controls":"collapseToken"},this.state.errorList.token?o.a.createElement("span",{className:"error-input btn-icon"},o.a.createElement("i",{className:"fas fa-exclamation-circle"})):"",i.a.t("admin.mod-glwd-token-title")))),o.a.createElement("div",{id:"collapseToken",className:"collapse","aria-labelledby":"addParamCard","data-parent":"#accordionToken"},o.a.createElement("div",{className:"card-body"},o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-access-token-duration"},i.a.t("admin.mod-glwd-access-token-duration"))),o.a.createElement("input",{type:"number",min:"0",step:"1",className:this.state.errorList["access-token-duration"]?"form-control is-invalid":"form-control",id:"mod-glwd-access-token-duration",onChange:function(e){return a.changeNumberParam(e,"access-token-duration")},value:this.state.mod.parameters["access-token-duration"],placeholder:i.a.t("admin.mod-glwd-access-token-duration-ph")})),this.state.errorList["access-token-duration"]?o.a.createElement("span",{className:"error-input"},this.state.errorList["access-token-duration"]):""),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-refresh-token-duration"},i.a.t("admin.mod-glwd-refresh-token-duration"))),o.a.createElement("input",{type:"number",min:"0",step:"1",className:this.state.errorList["refresh-token-duration"]?"form-control is-invalid":"form-control",id:"mod-glwd-refresh-token-duration",onChange:function(e){return a.changeNumberParam(e,"refresh-token-duration")},value:this.state.mod.parameters["refresh-token-duration"],placeholder:i.a.t("admin.mod-glwd-refresh-token-duration-ph")})),this.state.errorList["refresh-token-duration"]?o.a.createElement("span",{className:"error-input"},this.state.errorList["refresh-token-duration"]):""),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-code-duration"},i.a.t("admin.mod-glwd-code-duration"))),o.a.createElement("input",{type:"number",min:"0",step:"1",className:this.state.errorList["code-duration"]?"form-control is-invalid":"form-control",id:"mod-glwd-code-duration",onChange:function(e){return a.changeNumberParam(e,"code-duration")},value:this.state.mod.parameters["code-duration"],placeholder:i.a.t("admin.mod-glwd-code-duration-ph")})),this.state.errorList["code-duration"]?o.a.createElement("span",{className:"error-input"},this.state.errorList["code-duration"]):""),o.a.createElement("div",{className:"form-group form-check"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-refresh-token-rolling",onChange:function(e){return a.toggleParam(e,"refresh-token-rolling")},checked:this.state.mod.parameters["refresh-token-rolling"]}),o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-refresh-token-rolling"},i.a.t("admin.mod-glwd-refresh-token-rolling"))))))),o.a.createElement("div",{className:"accordion",id:"accordionAuthType"},o.a.createElement("div",{className:"card"},o.a.createElement("div",{className:"card-header",id:"addParamCard"},o.a.createElement("h2",{className:"mb-0"},o.a.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseAuthType","aria-expanded":"true","aria-controls":"collapseAuthType"},this.state.errorList["auth-type"]?o.a.createElement("span",{className:"error-input btn-icon"},o.a.createElement("i",{className:"fas fa-exclamation-circle"})):"",i.a.t("admin.mod-glwd-auth-type-title")))),o.a.createElement("div",{id:"collapseAuthType",className:"collapse","aria-labelledby":"addParamCard","data-parent":"#accordionAuthType"},o.a.createElement("div",{className:"card-body"},o.a.createElement("div",{className:"form-group form-check"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-auth-type-code-enabled",onChange:function(e){return a.toggleParam(e,"auth-type-code-enabled")},checked:this.state.mod.parameters["auth-type-code-enabled"]}),o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-auth-type-code-enabled"},i.a.t("admin.mod-glwd-auth-type-code-enabled"))),o.a.createElement("div",{className:"form-group row"},o.a.createElement("div",{className:"col-sm-1"}),o.a.createElement("div",{className:"col-sm-11"},o.a.createElement("div",{className:"form-check"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-auth-type-code-revoke-replayed",onChange:function(e){return a.toggleParam(e,"auth-type-code-revoke-replayed")},disabled:!this.state.mod.parameters["auth-type-code-enabled"],checked:this.state.mod.parameters["auth-type-code-revoke-replayed"]}),o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-auth-type-code-revoke-replayed"},i.a.t("admin.mod-glwd-auth-type-code-revoke-replayed"))))),o.a.createElement("div",{className:"form-group form-check"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-auth-type-implicit-enabled",onChange:function(e){return a.toggleParam(e,"auth-type-implicit-enabled")},checked:this.state.mod.parameters["auth-type-implicit-enabled"]}),o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-auth-type-implicit-enabled"},i.a.t("admin.mod-glwd-auth-type-implicit-enabled"))),o.a.createElement("div",{className:"form-group form-check"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-auth-type-password-enabled",onChange:function(e){return a.toggleParam(e,"auth-type-password-enabled")},checked:this.state.mod.parameters["auth-type-password-enabled"]}),o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-auth-type-password-enabled"},i.a.t("admin.mod-glwd-auth-type-password-enabled"))),o.a.createElement("div",{className:"form-group form-check"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-auth-type-client-enabled",onChange:function(e){return a.toggleParam(e,"auth-type-client-enabled")},checked:this.state.mod.parameters["auth-type-client-enabled"]}),o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-auth-type-client-enabled"},i.a.t("admin.mod-glwd-auth-type-client-enabled"))),o.a.createElement("div",{className:"form-group form-check"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-auth-type-device-enabled",onChange:function(e){return a.toggleParam(e,"auth-type-device-enabled")},checked:this.state.mod.parameters["auth-type-device-enabled"]}),o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-auth-type-device-enabled"},i.a.t("admin.mod-glwd-auth-type-device-enabled"))),o.a.createElement("div",{className:"form-group form-check"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-auth-type-refresh-enabled",onChange:function(e){return a.toggleParam(e,"auth-type-refresh-enabled")},checked:this.state.mod.parameters["auth-type-refresh-enabled"]}),o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-auth-type-refresh-enabled"},i.a.t("admin.mod-glwd-auth-type-refresh-enabled"))))))),o.a.createElement("div",{className:"accordion",id:"accordionScope"},o.a.createElement("div",{className:"card"},o.a.createElement("div",{className:"card-header",id:"dataFormatCard"},o.a.createElement("h2",{className:"mb-0"},o.a.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseScope","aria-expanded":"true","aria-controls":"collapseScope"},this.state.errorList["scope-override"]?o.a.createElement("span",{className:"error-input btn-icon"},o.a.createElement("i",{className:"fas fa-exclamation-circle"})):"",i.a.t("admin.mod-glwd-scope-override")))),o.a.createElement("div",{id:"collapseScope",className:"collapse","aria-labelledby":"dataFormatCard","data-parent":"#accordionScope"},o.a.createElement("div",{className:"card-body"},o.a.createElement("p",null,i.a.t("admin.mod-glwd-scope-override-message")),o.a.createElement("div",{className:"btn-group",role:"group"},o.a.createElement("div",{className:"btn-group",role:"group"},p),o.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.addScopeOverride,title:i.a.t("admin.mod-glwd-scope-add")},o.a.createElement("i",{className:"fas fa-plus"}))),r)))),o.a.createElement("div",{className:"accordion",id:"accordionAddParam"},o.a.createElement("div",{className:"card"},o.a.createElement("div",{className:"card-header",id:"addParamCard"},o.a.createElement("h2",{className:"mb-0"},o.a.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseAddParam","aria-expanded":"true","aria-controls":"collapseAddParam"},this.state.errorList["additional-parameters"]?o.a.createElement("span",{className:"error-input btn-icon"},o.a.createElement("i",{className:"fas fa-exclamation-circle"})):"",i.a.t("admin.mod-glwd-additional-parameter")))),o.a.createElement("div",{id:"collapseAddParam",className:"collapse","aria-labelledby":"addParamCard","data-parent":"#accordionAddParam"},o.a.createElement("div",{className:"card-body"},o.a.createElement("p",null,i.a.t("admin.mod-glwd-additional-parameter-message")),o.a.createElement("div",{className:"btn-group",role:"group"},o.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.addAdditionalParameter,title:i.a.t("admin.mod-glwd-additional-parameter-add")},o.a.createElement("i",{className:"fas fa-plus"}))),s)))),o.a.createElement("div",{className:"accordion",id:"accordionPkce"},o.a.createElement("div",{className:"card"},o.a.createElement("div",{className:"card-header",id:"addParamCard"},o.a.createElement("h2",{className:"mb-0"},o.a.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapsePkce","aria-expanded":"true","aria-controls":"collapsePkce"},this.state.errorList.pkce?o.a.createElement("span",{className:"error-input btn-icon"},o.a.createElement("i",{className:"fas fa-exclamation-circle"})):"",i.a.t("admin.mod-glwd-pkce-title")))),o.a.createElement("div",{id:"collapsePkce",className:"collapse","aria-labelledby":"addParamCard","data-parent":"#accordionPkce"},o.a.createElement("div",{className:"card-body"},o.a.createElement("div",{className:"form-group form-check"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-pkce-allowed",onChange:function(e){return a.toggleParam(e,"pkce-allowed")},checked:this.state.mod.parameters["pkce-allowed"]}),o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-pkce-allowed"},i.a.t("admin.mod-glwd-pkce-allowed"))),o.a.createElement("div",{className:"form-group form-check"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-pkce-method-plain-allowed",onChange:function(e){return a.toggleParam(e,"pkce-method-plain-allowed")},checked:this.state.mod.parameters["pkce-method-plain-allowed"],disabled:!this.state.mod.parameters["pkce-allowed"]}),o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-pkce-method-plain-allowed"},i.a.t("admin.mod-glwd-pkce-method-plain-allowed"))))))),o.a.createElement("div",{className:"accordion",id:"accordionIntrospect"},o.a.createElement("div",{className:"card"},o.a.createElement("div",{className:"card-header",id:"addParamCard"},o.a.createElement("h2",{className:"mb-0"},o.a.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseIntrospect","aria-expanded":"true","aria-controls":"collapseIntrospect"},this.state.errorList["introspection-revocation"]?o.a.createElement("span",{className:"error-input btn-icon"},o.a.createElement("i",{className:"fas fa-exclamation-circle"})):"",i.a.t("admin.mod-glwd-introspection-revocation-title")))),o.a.createElement("div",{id:"collapseIntrospect",className:"collapse","aria-labelledby":"addParamCard","data-parent":"#accordionIntrospect"},o.a.createElement("div",{className:"card-body"},this.state.errorList["introspection-revocation"]?o.a.createElement("span",{className:"error-input"},i.a.t(this.state.errorList["introspection-revocation"])):"",o.a.createElement("div",{className:"form-group form-check"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-introspection-revocation-allowed",onChange:function(e){return a.toggleParam(e,"introspection-revocation-allowed")},checked:this.state.mod.parameters["introspection-revocation-allowed"]}),o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-introspection-revocation-allowed"},i.a.t("admin.mod-glwd-introspection-revocation-allowed"))),o.a.createElement("div",{className:"form-group form-check"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-introspection-revocation-allow-target-client",onChange:function(e){return a.toggleParam(e,"introspection-revocation-allow-target-client")},checked:this.state.mod.parameters["introspection-revocation-allow-target-client"],disabled:!this.state.mod.parameters["introspection-revocation-allowed"]}),o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-introspection-revocation-allow-target-client"},i.a.t("admin.mod-glwd-introspection-revocation-allow-target-client"))),o.a.createElement("hr",null),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-default-scope"},i.a.t("admin.mod-glwd-introspection-revocation-scope-required"))),h)))))),o.a.createElement("div",{className:"accordion",id:"accordionDeviceAuthorization"},o.a.createElement("div",{className:"card"},o.a.createElement("div",{className:"card-header",id:"addParamCard"},o.a.createElement("h2",{className:"mb-0"},o.a.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseDeviceAuthorization","aria-expanded":"true","aria-controls":"collapseDeviceAuthorization"},i.a.t("admin.mod-glwd-device-authorization-title")))),o.a.createElement("div",{id:"collapseDeviceAuthorization",className:"collapse","aria-labelledby":"addParamCard","data-parent":"#accordionDeviceAuthorization"},o.a.createElement("div",{className:"card-body"},o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-device-authorization-expiration"},i.a.t("admin.mod-glwd-device-authorization-expiration"))),o.a.createElement("input",{type:"number",min:"1",step:"1",className:"form-control",id:"mod-glwd-device-authorization-expiration",onChange:function(e){return a.changeNumberParam(e,"device-authorization-expiration")},value:this.state.mod.parameters["device-authorization-expiration"],placeholder:i.a.t("admin.mod-glwd-device-authorization-expiration-ph"),disabled:!this.state.mod.parameters["auth-type-device-enabled"]}))),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-device-authorization-interval"},i.a.t("admin.mod-glwd-device-authorization-interval"))),o.a.createElement("input",{type:"number",min:"1",step:"1",className:"form-control",id:"mod-glwd-device-authorization-interval",onChange:function(e){return a.changeNumberParam(e,"device-authorization-interval")},value:this.state.mod.parameters["device-authorization-interval"],placeholder:i.a.t("admin.mod-glwd-device-authorization-interval-ph"),disabled:!this.state.mod.parameters["auth-type-device-enabled"]}))))))))}}]),a}();function ia(e){return(ia="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function la(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ma(e,t){return(ma=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ca(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function da(e){return(da=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var pa=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ma(e,t)}(a,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=da(e);if(t){var o=da(this).constructor;a=Reflect.construct(r,arguments,o)}else a=r.apply(this,arguments);return function(e,t){return!t||"object"!==ia(t)&&"function"!=typeof t?ca(e):t}(this,a)}}(a);function a(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),r=t.call(this,e),!e.mod.parameters&&(e.mod.parameters={}),void 0===e.mod.parameters["oauth-as-iss-id"]&&(e.mod.parameters["oauth-as-iss-id"]=!1),!e.mod.parameters["jwt-type"]&&(e.mod.parameters["jwt-type"]="rsa"),void 0===e.mod.parameters["jwt-key-size"]&&(e.mod.parameters["jwt-key-size"]="256"),!e.mod.parameters["jwks-uri"]&&(e.mod.parameters["jwks-uri"]=""),!e.mod.parameters["jwks-private"]&&(e.mod.parameters["jwks-private"]=""),!e.mod.parameters["default-kid"]&&(e.mod.parameters["default-kid"]=""),!e.mod.parameters["client-sign_kid-parameter"]&&(e.mod.parameters["client-sign_kid-parameter"]=""),!e.mod.parameters["jwks-public"]&&(e.mod.parameters["jwks-public"]=""),!e.mod.parameters.key&&(e.mod.parameters.key=""),!e.mod.parameters.cert&&(e.mod.parameters.cert=""),void 0===e.mod.parameters["access-token-duration"]&&(e.mod.parameters["access-token-duration"]=3600),void 0===e.mod.parameters["refresh-token-duration"]&&(e.mod.parameters["refresh-token-duration"]=1209600),void 0===e.mod.parameters["code-duration"]&&(e.mod.parameters["code-duration"]=600),void 0===e.mod.parameters["refresh-token-rolling"]&&(e.mod.parameters["refresh-token-rolling"]=!0),void 0===e.mod.parameters["refresh-token-one-use"]&&(e.mod.parameters["refresh-token-one-use"]="never"),void 0===e.mod.parameters["client-refresh-token-one-use-parameter"]&&(e.mod.parameters["client-refresh-token-one-use-parameter"]="refresh-token-one-use"),void 0===e.mod.parameters["allow-non-oidc"]&&(e.mod.parameters["allow-non-oidc"]=!1),void 0===e.mod.parameters["auth-type-code-enabled"]&&(e.mod.parameters["auth-type-code-enabled"]=!0),void 0===e.mod.parameters["auth-type-code-revoke-replayed"]&&(e.mod.parameters["auth-type-code-revoke-replayed"]=!1),void 0===e.mod.parameters["auth-type-token-enabled"]&&(e.mod.parameters["auth-type-token-enabled"]=!0),e.mod.parameters["auth-type-id-token-enabled"]=!0,void 0===e.mod.parameters["auth-type-none-enabled"]&&(e.mod.parameters["auth-type-none-enabled"]=!0),void 0===e.mod.parameters["auth-type-password-enabled"]&&(e.mod.parameters["auth-type-password-enabled"]=!1),void 0===e.mod.parameters["auth-type-client-enabled"]&&(e.mod.parameters["auth-type-client-enabled"]=!0),void 0===e.mod.parameters["auth-type-device-enabled"]&&(e.mod.parameters["auth-type-device-enabled"]=!1),void 0===e.mod.parameters["auth-type-refresh-enabled"]&&(e.mod.parameters["auth-type-refresh-enabled"]=!0),!e.mod.parameters.scope&&(e.mod.parameters.scope=[]),!e.mod.parameters["additional-parameters"]&&(e.mod.parameters["additional-parameters"]=[]),!e.mod.parameters.claims&&(e.mod.parameters.claims=[]),void 0===e.mod.parameters["service-documentation"]&&(e.mod.parameters["service-documentation"]="https://github.com/babelouest/glewlwyd/tree/master/docs"),void 0===e.mod.parameters["op-policy-uri"]&&(e.mod.parameters["op-policy-uri"]=""),void 0===e.mod.parameters["op-tos-uri"]&&(e.mod.parameters["op-tos-uri"]=""),void 0===e.mod.parameters["jwks-show"]&&(e.mod.parameters["jwks-show"]=!0),void 0===e.mod.parameters["jwks-x5c"]&&(e.mod.parameters["jwks-x5c"]=[]),void 0===e.mod.parameters["request-parameter-allow"]&&(e.mod.parameters["request-parameter-allow"]=!0),void 0===e.mod.parameters["request-uri-allow-https-non-secure"]&&(e.mod.parameters["request-uri-allow-https-non-secure"]=!1),void 0===e.mod.parameters["request-parameter-allow-encrypted"]&&(e.mod.parameters["request-parameter-allow-encrypted"]=!0),void 0===e.mod.parameters["request-parameter-ietf-strict"]&&(e.mod.parameters["request-parameter-ietf-strict"]=!1),!e.mod.parameters["secret-type"]&&(e.mod.parameters["secret-type"]="pairwise"),!e.mod.parameters["address-claim"]&&(e.mod.parameters["address-claim"]={type:"no",formatted:"",street_address:"",locality:"",region:"",postal_code:"",country:"",mandatory:!1}),!e.mod.parameters["name-claim"]&&(e.mod.parameters["name-claim"]="on-demand"),!e.mod.parameters["name-claim-scope"]&&(e.mod.parameters["name-claim-scope"]=[]),!e.mod.parameters["email-claim"]&&(e.mod.parameters["email-claim"]="no"),!e.mod.parameters["email-claim-scope"]&&(e.mod.parameters["email-claim-scope"]=[]),!e.mod.parameters["scope-claim"]&&(e.mod.parameters["scope-claim"]="no"),!e.mod.parameters["scope-claim-scope"]&&(e.mod.parameters["scope-claim-scope"]=[]),!e.mod.parameters["allowed-scope"]&&(e.mod.parameters["allowed-scope"]=["openid"]),void 0===e.mod.parameters["pkce-allowed"]&&(e.mod.parameters["pkce-allowed"]=!1),void 0===e.mod.parameters["pkce-method-plain-allowed"]&&(e.mod.parameters["pkce-method-plain-allowed"]=!1),void 0===e.mod.parameters["pkce-required"]&&(e.mod.parameters["pkce-required"]=!1),void 0===e.mod.parameters["pkce-scopes"]&&(e.mod.parameters["pkce-scopes"]=[]),void 0===e.mod.parameters["introspection-revocation-allowed"]&&(e.mod.parameters["introspection-revocation-allowed"]=!1),void 0===e.mod.parameters["introspection-revocation-auth-scope"]&&(e.mod.parameters["introspection-revocation-auth-scope"]=[]),void 0===e.mod.parameters["introspection-revocation-allow-target-client"]&&(e.mod.parameters["introspection-revocation-allow-target-client"]=!0),void 0===e.mod.parameters["register-client-allowed"]&&(e.mod.parameters["register-client-allowed"]=!1),void 0===e.mod.parameters["register-client-auth-scope"]&&(e.mod.parameters["register-client-auth-scope"]=[]),void 0===e.mod.parameters["register-client-credentials-scope"]&&(e.mod.parameters["register-client-credentials-scope"]=[]),void 0===e.mod.parameters["register-client-token-one-use"]&&(e.mod.parameters["register-client-token-one-use"]=!0),void 0===e.mod.parameters["register-client-management-allowed"]&&(e.mod.parameters["register-client-management-allowed"]=!0),void 0===e.mod.parameters["register-resource-specify-allowed"]&&(e.mod.parameters["register-resource-specify-allowed"]=!1),void 0===e.mod.parameters["register-resource-default"]&&(e.mod.parameters["register-resource-default"]=[]),void 0===e.mod.parameters["register-default-properties"]&&(e.mod.parameters["register-default-properties"]={}),void 0===e.mod.parameters["session-management-allowed"]&&(e.mod.parameters["session-management-allowed"]=!1),void 0===e.mod.parameters["client-pubkey-parameter"]&&(e.mod.parameters["client-pubkey-parameter"]=""),void 0===e.mod.parameters["client-jwks-parameter"]&&(e.mod.parameters["client-jwks-parameter"]="jwks"),void 0===e.mod.parameters["client-jwks_uri-parameter"]&&(e.mod.parameters["client-jwks_uri-parameter"]="jwks_uri"),void 0===e.mod.parameters["request-maximum-exp"]&&(e.mod.parameters["request-maximum-exp"]=3600),void 0===e.mod.parameters["encrypt-out-token-allow"]&&(e.mod.parameters["encrypt-out-token-allow"]=!1),void 0===e.mod.parameters["client-enc-parameter"]&&(e.mod.parameters["client-enc-parameter"]="enc"),void 0===e.mod.parameters["client-alg-parameter"]&&(e.mod.parameters["client-alg-parameter"]="alg"),void 0===e.mod.parameters["client-alg_kid-parameter"]&&(e.mod.parameters["client-alg_kid-parameter"]="alg_kid"),void 0===e.mod.parameters["client-encrypt_code-parameter"]&&(e.mod.parameters["client-encrypt_code-parameter"]="encrypt_code"),void 0===e.mod.parameters["client-encrypt_at-parameter"]&&(e.mod.parameters["client-encrypt_at-parameter"]="encrypt_at"),void 0===e.mod.parameters["client-encrypt_userinfo-parameter"]&&(e.mod.parameters["client-encrypt_userinfo-parameter"]="encrypt_userinfo"),void 0===e.mod.parameters["client-encrypt_id_token-parameter"]&&(e.mod.parameters["client-encrypt_id_token-parameter"]="encrypt_id_token"),void 0===e.mod.parameters["client-encrypt_refresh_token-parameter"]&&(e.mod.parameters["client-encrypt_refresh_token-parameter"]="encrypt_refresh_token"),void 0===e.mod.parameters["client-encrypt_introspection-parameter"]&&(e.mod.parameters["client-encrypt_introspection-parameter"]="encrypt_introspection"),void 0===e.mod.parameters["device-authorization-expiration"]&&(e.mod.parameters["device-authorization-expiration"]=600),void 0===e.mod.parameters["device-authorization-interval"]&&(e.mod.parameters["device-authorization-interval"]=5),void 0===e.mod.parameters["client-cert-header-name"]&&(e.mod.parameters["client-cert-header-name"]="SSL_CLIENT_CERT"),void 0===e.mod.parameters["client-cert-use-endpoint-aliases"]&&(e.mod.parameters["client-cert-use-endpoint-aliases"]=!1),void 0===e.mod.parameters["client-cert-self-signed-allowed"]&&(e.mod.parameters["client-cert-self-signed-allowed"]=!1),void 0===e.mod.parameters["oauth-dpop-allowed"]&&(e.mod.parameters["oauth-dpop-allowed"]=!1),void 0===e.mod.parameters["oauth-dpop-iat-duration"]&&(e.mod.parameters["oauth-dpop-iat-duration"]=10),void 0===e.mod.parameters["resource-allowed"]&&(e.mod.parameters["resource-allowed"]=!1),void 0===e.mod.parameters["resource-scope"]&&(e.mod.parameters["resource-scope"]={}),void 0===e.mod.parameters["resource-client-property"]&&(e.mod.parameters["resource-client-property"]=""),void 0===e.mod.parameters["resource-scope-and-client-property"]&&(e.mod.parameters["resource-scope-and-client-property"]=!1),void 0===e.mod.parameters["resource-change-allowed"]&&(e.mod.parameters["resource-change-allowed"]=!1),void 0===e.mod.parameters["oauth-rar-allowed"]&&(e.mod.parameters["oauth-rar-allowed"]=!1),void 0===e.mod.parameters["rar-types-client-property"]&&(e.mod.parameters["rar-types-client-property"]="authorization_data_types"),void 0===e.mod.parameters["rar-allow-auth-unsigned"]&&(e.mod.parameters["rar-allow-auth-unsigned"]=!1),void 0===e.mod.parameters["rar-allow-auth-unencrypted"]&&(e.mod.parameters["rar-allow-auth-unencrypted"]=!0),void 0===e.mod.parameters["rar-types"]&&(e.mod.parameters["rar-types"]={}),void 0===e.mod.parameters["oauth-par-allowed"]&&(e.mod.parameters["oauth-par-allowed"]=!1),void 0===e.mod.parameters["oauth-par-duration"]&&(e.mod.parameters["oauth-par-duration"]=90),void 0===e.mod.parameters["oauth-par-required"]&&(e.mod.parameters["oauth-par-required"]=!1),void 0===e.mod.parameters["oauth-par-request_uri-prefix"]&&(e.mod.parameters["oauth-par-request_uri-prefix"]="urn:ietf:params:oauth:request_uri:"),void 0===e.mod.parameters["prompt-continue-client-property"]&&(e.mod.parameters["prompt-continue-client-property"]=""),void 0===e.mod.parameters["restrict-scope-client-property"]&&(e.mod.parameters["restrict-scope-client-property"]=""),void 0===e.mod.parameters["oauth-ciba-allowed"]&&(e.mod.parameters["oauth-ciba-allowed"]=!1),void 0===e.mod.parameters["oauth-ciba-default-expiry"]&&(e.mod.parameters["oauth-ciba-default-expiry"]=600),void 0===e.mod.parameters["oauth-ciba-maximum-expiry"]&&(e.mod.parameters["oauth-ciba-maximum-expiry"]=1200),void 0===e.mod.parameters["oauth-ciba-mode-poll-allowed"]&&(e.mod.parameters["oauth-ciba-mode-poll-allowed"]=!0),void 0===e.mod.parameters["oauth-ciba-mode-ping-allowed"]&&(e.mod.parameters["oauth-ciba-mode-ping-allowed"]=!0),void 0===e.mod.parameters["oauth-ciba-mode-push-allowed"]&&(e.mod.parameters["oauth-ciba-mode-push-allowed"]=!0),void 0===e.mod.parameters["oauth-ciba-allow-https-non-secure"]&&(e.mod.parameters["oauth-ciba-allow-https-non-secure"]=!1),void 0===e.mod.parameters["oauth-ciba-user-code-allowed"]&&(e.mod.parameters["oauth-ciba-user-code-allowed"]=!0),void 0===e.mod.parameters["oauth-ciba-user-code-property"]&&(e.mod.parameters["oauth-ciba-user-code-property"]="user-code"),void 0===e.mod.parameters["oauth-ciba-email-allowed"]&&(e.mod.parameters["oauth-ciba-email-allowed"]=!1),void 0===e.mod.parameters["oauth-ciba-email-host"]&&(e.mod.parameters["oauth-ciba-email-host"]=""),void 0===e.mod.parameters["oauth-ciba-email-user"]&&(e.mod.parameters["oauth-ciba-email-user"]=""),void 0===e.mod.parameters["oauth-ciba-email-password"]&&(e.mod.parameters["oauth-ciba-email-password"]=""),void 0===e.mod.parameters["oauth-ciba-email-use-tls"]&&(e.mod.parameters["oauth-ciba-email-use-tls"]=!1),void 0===e.mod.parameters["oauth-ciba-email-check-certificate"]&&(e.mod.parameters["oauth-ciba-email-check-certificate"]=!0),void 0===e.mod.parameters["oauth-ciba-email-port"]&&(e.mod.parameters["oauth-ciba-email-port"]=0),void 0===e.mod.parameters["oauth-ciba-email-from"]&&(e.mod.parameters["oauth-ciba-email-from"]=""),void 0===e.mod.parameters["oauth-ciba-email-user-lang-property"]&&(e.mod.parameters["oauth-ciba-email-user-lang-property"]="lang"),void 0===e.mod.parameters["oauth-ciba-email-content-type"]&&(e.mod.parameters["oauth-ciba-email-content-type"]="text/plain; charset=utf-8"),void 0===e.mod.parameters["oauth-ciba-email-templates"]&&(e.mod.parameters["oauth-ciba-email-templates"]={}),Object.keys(e.mod.parameters["oauth-ciba-email-templates"]).length||(e.mod.parameters["oauth-ciba-email-templates"][i.a.language]={"oauth-ciba-email-subject":"","oauth-ciba-email-body-pattern":"","oauth-ciba-email-defaultLang":!0}),r.state={config:e.config,mod:e.mod,role:e.role,check:e.check,errorList:{},newScopeOverride:!1,newResourceScope:!1,newRar:"",newRarExists:!1,newRarInvalidChar:!1,newDefaultProperty:!1,currentLang:i.a.language},r.state.check&&r.checkParameters(),r.checkParameters=r.checkParameters.bind(ca(r)),r.changeParam=r.changeParam.bind(ca(r)),r.changeParamWithValue=r.changeParamWithValue.bind(ca(r)),r.changeNumberParam=r.changeNumberParam.bind(ca(r)),r.emptyParameter=r.emptyParameter.bind(ca(r)),r.toggleParam=r.toggleParam.bind(ca(r)),r.changeJwtType=r.changeJwtType.bind(ca(r)),r.changeSecretType=r.changeSecretType.bind(ca(r)),r.setNewScopeOverride=r.setNewScopeOverride.bind(ca(r)),r.addScopeOverride=r.addScopeOverride.bind(ca(r)),r.changeScopeOverrideRefreshDuration=r.changeScopeOverrideRefreshDuration.bind(ca(r)),r.toggleScopeOverrideRolling=r.toggleScopeOverrideRolling.bind(ca(r)),r.addAdditionalParameter=r.addAdditionalParameter.bind(ca(r)),r.setAdditionalPropertyUserParameter=r.setAdditionalPropertyUserParameter.bind(ca(r)),r.setAdditionalPropertyTokenParameter=r.setAdditionalPropertyTokenParameter.bind(ca(r)),r.deleteAdditionalProperty=r.deleteAdditionalProperty.bind(ca(r)),r.addClaim=r.addClaim.bind(ca(r)),r.deleteClaim=r.deleteClaim.bind(ca(r)),r.setClaimName=r.setClaimName.bind(ca(r)),r.setClaimUserProperty=r.setClaimUserProperty.bind(ca(r)),r.setClaimType=r.setClaimType.bind(ca(r)),r.setClaimBooleanTrue=r.setClaimBooleanTrue.bind(ca(r)),r.setClaimBooleanFalse=r.setClaimBooleanFalse.bind(ca(r)),r.toggleClaimMandatory=r.toggleClaimMandatory.bind(ca(r)),r.toggleClaimOnDemand=r.toggleClaimOnDemand.bind(ca(r)),r.uploadFile=r.uploadFile.bind(ca(r)),r.uploadX5cFile=r.uploadX5cFile.bind(ca(r)),r.handleRemoveX5c=r.handleRemoveX5c.bind(ca(r)),r.changeAddressClaimParam=r.changeAddressClaimParam.bind(ca(r)),r.changeAddressClaim=r.changeAddressClaim.bind(ca(r)),r.toggleAddrClaimMandatory=r.toggleAddrClaimMandatory.bind(ca(r)),r.addScopeClaim=r.addScopeClaim.bind(ca(r)),r.deleteScopeClaim=r.deleteScopeClaim.bind(ca(r)),r.addNameScope=r.addNameScope.bind(ca(r)),r.deleteNameScope=r.deleteNameScope.bind(ca(r)),r.addEmailScope=r.addEmailScope.bind(ca(r)),r.deleteEmailScope=r.deleteEmailScope.bind(ca(r)),r.addAllowedScope=r.addAllowedScope.bind(ca(r)),r.deleteAllowedScope=r.deleteAllowedScope.bind(ca(r)),r.addScope=r.addScope.bind(ca(r)),r.deleteScope=r.deleteScope.bind(ca(r)),r.setResourceScope=r.setResourceScope.bind(ca(r)),r.addResourceScope=r.addResourceScope.bind(ca(r)),r.changeResourceScopeUrls=r.changeResourceScopeUrls.bind(ca(r)),r.addRAR=r.addRAR.bind(ca(r)),r.setNewDefaultProperty=r.setNewDefaultProperty.bind(ca(r)),r.addDefaultProperty=r.addDefaultProperty.bind(ca(r)),r.deleteRegisterDefaultProperty=r.deleteRegisterDefaultProperty.bind(ca(r)),r.addLang=r.addLang.bind(ca(r)),r}return function(e,t,a){t&&la(e.prototype,t)}(a,[{key:"componentWillReceiveProps",value:function(e){var t=this;!e.mod.parameters&&(e.mod.parameters={}),void 0===e.mod.parameters["oauth-as-iss-id"]&&(e.mod.parameters["oauth-as-iss-id"]=!1),!e.mod.parameters["jwt-type"]&&(e.mod.parameters["jwt-type"]="rsa"),void 0===e.mod.parameters["jwt-key-size"]&&(e.mod.parameters["jwt-key-size"]="256"),!e.mod.parameters["jwks-uri"]&&(e.mod.parameters["jwks-uri"]=""),!e.mod.parameters["jwks-private"]&&(e.mod.parameters["jwks-private"]=""),!e.mod.parameters["default-kid"]&&(e.mod.parameters["default-kid"]=""),!e.mod.parameters["client-sign_kid-parameter"]&&(e.mod.parameters["client-sign_kid-parameter"]=""),!e.mod.parameters["jwks-public-uri"]&&(e.mod.parameters["jwks-public-uri"]=""),!e.mod.parameters["jwks-public"]&&(e.mod.parameters["jwks-public"]=""),!e.mod.parameters.key&&(e.mod.parameters.key=""),!e.mod.parameters.cert&&(e.mod.parameters.cert=""),void 0===e.mod.parameters["access-token-duration"]&&(e.mod.parameters["access-token-duration"]=3600),void 0===e.mod.parameters["refresh-token-duration"]&&(e.mod.parameters["refresh-token-duration"]=1209600),void 0===e.mod.parameters["code-duration"]&&(e.mod.parameters["code-duration"]=600),void 0===e.mod.parameters["refresh-token-rolling"]&&(e.mod.parameters["refresh-token-rolling"]=!0),void 0===e.mod.parameters["refresh-token-one-use"]&&(e.mod.parameters["refresh-token-one-use"]="never"),void 0===e.mod.parameters["client-refresh-token-one-use-parameter"]&&(e.mod.parameters["client-refresh-token-one-use-parameter"]="refresh-token-one-use"),void 0===e.mod.parameters["allow-non-oidc"]&&(e.mod.parameters["allow-non-oidc"]=!1),void 0===e.mod.parameters["auth-type-code-enabled"]&&(e.mod.parameters["auth-type-code-enabled"]=!0),void 0===e.mod.parameters["auth-type-code-revoke-replayed"]&&(e.mod.parameters["auth-type-code-revoke-replayed"]=!1),void 0===e.mod.parameters["auth-type-token-enabled"]&&(e.mod.parameters["auth-type-token-enabled"]=!0),e.mod.parameters["auth-type-id-token-enabled"]=!0,void 0===e.mod.parameters["auth-type-none-enabled"]&&(e.mod.parameters["auth-type-none-enabled"]=!0),void 0===e.mod.parameters["auth-type-password-enabled"]&&(e.mod.parameters["auth-type-password-enabled"]=!1),void 0===e.mod.parameters["auth-type-client-enabled"]&&(e.mod.parameters["auth-type-client-enabled"]=!0),void 0===e.mod.parameters["auth-type-device-enabled"]&&(e.mod.parameters["auth-type-device-enabled"]=!1),void 0===e.mod.parameters["auth-type-refresh-enabled"]&&(e.mod.parameters["auth-type-refresh-enabled"]=!0),!e.mod.parameters.scope&&(e.mod.parameters.scope=[]),!e.mod.parameters["additional-parameters"]&&(e.mod.parameters["additional-parameters"]=[]),!e.mod.parameters.claims&&(e.mod.parameters.claims=[]),void 0===e.mod.parameters["service-documentation"]&&(e.mod.parameters["service-documentation"]="https://github.com/babelouest/glewlwyd/tree/master/docs"),void 0===e.mod.parameters["op-policy-uri"]&&(e.mod.parameters["op-policy-uri"]=""),void 0===e.mod.parameters["op-tos-uri"]&&(e.mod.parameters["op-tos-uri"]=""),void 0===e.mod.parameters["jwks-show"]&&(e.mod.parameters["jwks-show"]=!0),void 0===e.mod.parameters["jwks-x5c"]&&(e.mod.parameters["jwks-x5c"]=[]),void 0===e.mod.parameters["request-parameter-allow"]&&(e.mod.parameters["request-parameter-allow"]=!0),void 0===e.mod.parameters["request-uri-allow-https-non-secure"]&&(e.mod.parameters["request-uri-allow-https-non-secure"]=!1),void 0===e.mod.parameters["request-parameter-allow-encrypted"]&&(e.mod.parameters["request-parameter-allow-encrypted"]=!0),void 0===e.mod.parameters["request-parameter-ietf-strict"]&&(e.mod.parameters["request-parameter-ietf-strict"]=!1),!e.mod.parameters["secret-type"]&&(e.mod.parameters["secret-type"]="pairwise"),!e.mod.parameters["address-claim"]&&(e.mod.parameters["address-claim"]={type:"no",formatted:"",street_address:"",locality:"",region:"",postal_code:"",country:"",mandatory:!1}),!e.mod.parameters["name-claim"]&&(e.mod.parameters["name-claim"]="on-demand"),!e.mod.parameters["name-claim-scope"]&&(e.mod.parameters["name-claim-scope"]=[]),!e.mod.parameters["email-claim"]&&(e.mod.parameters["email-claim"]="no"),!e.mod.parameters["email-claim-scope"]&&(e.mod.parameters["email-claim-scope"]=[]),!e.mod.parameters["scope-claim"]&&(e.mod.parameters["scope-claim"]="no"),!e.mod.parameters["scope-claim-scope"]&&(e.mod.parameters["scope-claim-scope"]=[]),!e.mod.parameters["allowed-scope"]&&(e.mod.parameters["allowed-scope"]=["openid"]),void 0===e.mod.parameters["pkce-allowed"]&&(e.mod.parameters["pkce-allowed"]=!1),void 0===e.mod.parameters["pkce-method-plain-allowed"]&&(e.mod.parameters["pkce-method-plain-allowed"]=!1),void 0===e.mod.parameters["pkce-required"]&&(e.mod.parameters["pkce-required"]=!1),void 0===e.mod.parameters["pkce-scopes"]&&(e.mod.parameters["pkce-scopes"]=[]),void 0===e.mod.parameters["introspection-revocation-allowed"]&&(e.mod.parameters["introspection-revocation-allowed"]=!1),void 0===e.mod.parameters["introspection-revocation-auth-scope"]&&(e.mod.parameters["introspection-revocation-auth-scope"]=[]),void 0===e.mod.parameters["introspection-revocation-allow-target-client"]&&(e.mod.parameters["introspection-revocation-allow-target-client"]=!0),void 0===e.mod.parameters["register-client-allowed"]&&(e.mod.parameters["register-client-allowed"]=!1),void 0===e.mod.parameters["register-client-auth-scope"]&&(e.mod.parameters["register-client-auth-scope"]=[]),void 0===e.mod.parameters["register-client-credentials-scope"]&&(e.mod.parameters["register-client-credentials-scope"]=[]),void 0===e.mod.parameters["register-client-management-allowed"]&&(e.mod.parameters["register-client-management-allowed"]=!0),void 0===e.mod.parameters["register-resource-specify-allowed"]&&(e.mod.parameters["register-resource-specify-allowed"]=!1),void 0===e.mod.parameters["register-resource-default"]&&(e.mod.parameters["register-resource-default"]=[]),void 0===e.mod.parameters["register-default-properties"]&&(e.mod.parameters["register-default-properties"]={}),void 0===e.mod.parameters["register-client-token-one-use"]&&(e.mod.parameters["register-client-token-one-use"]=!0),void 0===e.mod.parameters["session-management-allowed"]&&(e.mod.parameters["session-management-allowed"]=!1),void 0===e.mod.parameters["client-pubkey-parameter"]&&(e.mod.parameters["client-pubkey-parameter"]=""),void 0===e.mod.parameters["client-jwks-parameter"]&&(e.mod.parameters["client-jwks-parameter"]="jwks"),void 0===e.mod.parameters["client-jwks_uri-parameter"]&&(e.mod.parameters["client-jwks_uri-parameter"]="jwks_uri"),void 0===e.mod.parameters["request-maximum-exp"]&&(e.mod.parameters["request-maximum-exp"]=3600),void 0===e.mod.parameters["encrypt-out-token-allow"]&&(e.mod.parameters["encrypt-out-token-allow"]=!1),void 0===e.mod.parameters["client-enc-parameter"]&&(e.mod.parameters["client-enc-parameter"]="enc"),void 0===e.mod.parameters["client-alg-parameter"]&&(e.mod.parameters["client-alg-parameter"]="alg"),void 0===e.mod.parameters["client-alg_kid-parameter"]&&(e.mod.parameters["client-alg_kid-parameter"]="alg_kid"),void 0===e.mod.parameters["client-encrypt_code-parameter"]&&(e.mod.parameters["client-encrypt_code-parameter"]="encrypt_code"),void 0===e.mod.parameters["client-encrypt_at-parameter"]&&(e.mod.parameters["client-encrypt_at-parameter"]="encrypt_at"),void 0===e.mod.parameters["client-encrypt_userinfo-parameter"]&&(e.mod.parameters["client-encrypt_userinfo-parameter"]="encrypt_userinfo"),void 0===e.mod.parameters["client-encrypt_id_token-parameter"]&&(e.mod.parameters["client-encrypt_id_token-parameter"]="encrypt_id_token"),void 0===e.mod.parameters["client-encrypt_refresh_token-parameter"]&&(e.mod.parameters["client-encrypt_refresh_token-parameter"]="encrypt_refresh_token"),void 0===e.mod.parameters["client-encrypt_introspection-parameter"]&&(e.mod.parameters["client-encrypt_introspection-parameter"]="encrypt_introspection"),void 0===e.mod.parameters["device-authorization-expiration"]&&(e.mod.parameters["device-authorization-expiration"]=600),void 0===e.mod.parameters["device-authorization-interval"]&&(e.mod.parameters["device-authorization-interval"]=5),void 0===e.mod.parameters["client-cert-header-name"]&&(e.mod.parameters["client-cert-header-name"]="SSL_CLIENT_CERT"),void 0===e.mod.parameters["client-cert-use-endpoint-aliases"]&&(e.mod.parameters["client-cert-use-endpoint-aliases"]=!1),void 0===e.mod.parameters["client-cert-self-signed-allowed"]&&(e.mod.parameters["client-cert-self-signed-allowed"]=!1),void 0===e.mod.parameters["oauth-dpop-allowed"]&&(e.mod.parameters["oauth-dpop-allowed"]=!1),void 0===e.mod.parameters["oauth-dpop-iat-duration"]&&(e.mod.parameters["oauth-dpop-iat-duration"]=10),void 0===e.mod.parameters["resource-allowed"]&&(e.mod.parameters["resource-allowed"]=!1),void 0===e.mod.parameters["resource-scope"]&&(e.mod.parameters["resource-scope"]={}),void 0===e.mod.parameters["resource-client-property"]&&(e.mod.parameters["resource-client-property"]=""),void 0===e.mod.parameters["resource-scope-and-client-property"]&&(e.mod.parameters["resource-scope-and-client-property"]=!1),void 0===e.mod.parameters["resource-change-allowed"]&&(e.mod.parameters["resource-change-allowed"]=!1),void 0===e.mod.parameters["oauth-rar-allowed"]&&(e.mod.parameters["oauth-rar-allowed"]=!1),void 0===e.mod.parameters["rar-types-client-property"]&&(e.mod.parameters["rar-types-client-property"]="authorization_data_types"),void 0===e.mod.parameters["rar-allow-auth-unsigned"]&&(e.mod.parameters["rar-allow-auth-unsigned"]=!1),void 0===e.mod.parameters["rar-allow-auth-unencrypted"]&&(e.mod.parameters["rar-allow-auth-unencrypted"]=!0),void 0===e.mod.parameters["rar-types"]&&(e.mod.parameters["rar-types"]={}),void 0===e.mod.parameters["oauth-par-allowed"]&&(e.mod.parameters["oauth-par-allowed"]=!1),void 0===e.mod.parameters["oauth-par-duration"]&&(e.mod.parameters["oauth-par-duration"]=90),void 0===e.mod.parameters["oauth-par-required"]&&(e.mod.parameters["oauth-par-required"]=!1),void 0===e.mod.parameters["oauth-par-request_uri-prefix"]&&(e.mod.parameters["oauth-par-request_uri-prefix"]="urn:ietf:params:oauth:request_uri:"),void 0===e.mod.parameters["prompt-continue-client-property"]&&(e.mod.parameters["prompt-continue-client-property"]=""),void 0===e.mod.parameters["restrict-scope-client-property"]&&(e.mod.parameters["restrict-scope-client-property"]=""),void 0===e.mod.parameters["oauth-ciba-allowed"]&&(e.mod.parameters["oauth-ciba-allowed"]=!1),void 0===e.mod.parameters["oauth-ciba-mode-poll-allowed"]&&(e.mod.parameters["oauth-ciba-mode-poll-allowed"]=!0),void 0===e.mod.parameters["oauth-ciba-mode-ping-allowed"]&&(e.mod.parameters["oauth-ciba-mode-ping-allowed"]=!0),void 0===e.mod.parameters["oauth-ciba-mode-push-allowed"]&&(e.mod.parameters["oauth-ciba-mode-push-allowed"]=!0),void 0===e.mod.parameters["oauth-ciba-allow-https-non-secure"]&&(e.mod.parameters["oauth-ciba-allow-https-non-secure"]=!1),void 0===e.mod.parameters["oauth-ciba-user-code-allowed"]&&(e.mod.parameters["oauth-ciba-user-code-allowed"]=!0),void 0===e.mod.parameters["oauth-ciba-user-code-property"]&&(e.mod.parameters["oauth-ciba-user-code-property"]="user-code"),void 0===e.mod.parameters["oauth-ciba-default-expiry"]&&(e.mod.parameters["oauth-ciba-default-expiry"]=600),void 0===e.mod.parameters["oauth-ciba-maximum-expiry"]&&(e.mod.parameters["oauth-ciba-maximum-expiry"]=1200),void 0===e.mod.parameters["oauth-ciba-email-allowed"]&&(e.mod.parameters["oauth-ciba-email-allowed"]=!1),void 0===e.mod.parameters["oauth-ciba-email-host"]&&(e.mod.parameters["oauth-ciba-email-host"]=""),void 0===e.mod.parameters["oauth-ciba-email-user"]&&(e.mod.parameters["oauth-ciba-email-user"]=""),void 0===e.mod.parameters["oauth-ciba-email-password"]&&(e.mod.parameters["oauth-ciba-email-password"]=""),void 0===e.mod.parameters["oauth-ciba-email-use-tls"]&&(e.mod.parameters["oauth-ciba-email-use-tls"]=!1),void 0===e.mod.parameters["oauth-ciba-email-check-certificate"]&&(e.mod.parameters["oauth-ciba-email-check-certificate"]=!0),void 0===e.mod.parameters["oauth-ciba-email-port"]&&(e.mod.parameters["oauth-ciba-email-port"]=0),void 0===e.mod.parameters["oauth-ciba-email-from"]&&(e.mod.parameters["oauth-ciba-email-from"]=""),void 0===e.mod.parameters["oauth-ciba-email-user-lang-property"]&&(e.mod.parameters["oauth-ciba-email-user-lang-property"]="lang"),void 0===e.mod.parameters["oauth-ciba-email-content-type"]&&(e.mod.parameters["oauth-ciba-email-content-type"]="text/plain; charset=utf-8"),void 0===e.mod.parameters["oauth-ciba-email-templates"]&&(e.mod.parameters["oauth-ciba-email-templates"]={}),Object.keys(e.mod.parameters["oauth-ciba-email-templates"]).length||(e.mod.parameters["oauth-ciba-email-templates"][i.a.language]={"oauth-ciba-email-subject":"","body-pattern":"","oauth-ciba-email-defaultLang":!0}),this.setState({config:e.config,mod:e.mod,role:e.role,check:e.check},(function(){t.state.check&&t.checkParameters()}))}},{key:"changeParam",value:function(e,t){var a=this.state.mod;a.parameters[t]=e.target.value,this.setState({mod:a})}},{key:"changeParamWithValue",value:function(e,t){var a=this.state.mod;a.parameters[e]=t,this.setState({mod:a})}},{key:"changeNumberParam",value:function(e,t){var a=this.state.mod;a.parameters[t]=parseInt(e.target.value),isNaN(a.parameters[t])||this.setState({mod:a})}},{key:"emptyParameter",value:function(e){var t=this.state.mod;delete t.parameters[e],this.setState({mod:t})}},{key:"toggleParam",value:function(e,t){var a=this.state.mod;a.parameters[t]=!a.parameters[t],this.setState({mod:a})}},{key:"changeJwtType",value:function(e,t){var a=this.state.mod;a.parameters["jwt-type"]=t,this.setState({mod:a})}},{key:"changeSecretType",value:function(e,t){var a=this.state.mod;a.parameters["secret-type"]=t,this.setState({mod:a})}},{key:"changeJwtKeySize",value:function(e,t){var a=this.state.mod;a.parameters["jwt-key-size"]=t,this.setState({mod:a})}},{key:"uploadFile",value:function(e,t){var a=this,r=this.state.mod,o=e.target.files[0],n=new FileReader;n.onload=function(e){r.parameters[t]=e.target.result,a.setState({mod:r})},n.readAsText(o)}},{key:"uploadX5cFile",value:function(e){var t=this,a=this.state.mod,r=e.target.files[0],o=new FileReader;o.onload=function(e){a.parameters["jwks-x5c"].push(e.target.result),t.setState({mod:a})},o.readAsText(r)}},{key:"handleRemoveX5c",value:function(e,t){if(e.preventDefault(),this.state.mod.parameters["jwks-show"]){var a=this.state.mod;a.parameters["jwks-x5c"].splice(t,1),this.setState({mod:a})}}},{key:"setNewScopeOverride",value:function(e,t){this.setState({newScopeOverride:t})}},{key:"addScopeOverride",value:function(){if(this.state.newScopeOverride){var e=this.state.mod;e.parameters.scope.push({name:this.state.newScopeOverride,"refresh-token-rolling":this.state.mod.parameters["refresh-token-rolling"],"refresh-token-duration":0}),this.setState({mod:e,newScopeOverride:!1})}}},{key:"changeScopeOverrideRefreshDuration",value:function(e,t){var a=this.state.mod;a.parameters.scope.forEach((function(a){a.name===t.name&&(a["refresh-token-duration"]=parseInt(e.target.value))})),this.setState({mod:a})}},{key:"toggleScopeOverrideRolling",value:function(e,t,a){var r=this.state.mod;r.parameters.scope.forEach((function(e){e.name===t&&(void 0===a?delete e["refresh-token-rolling"]:e["refresh-token-rolling"]=a)})),this.setState({mod:r})}},{key:"deleteScopeOverride",value:function(e,t){var a=this.state.mod;a.parameters.scope.forEach((function(e,r){e.name===t&&a.parameters.scope.splice(r,1)})),this.setState({mod:a})}},{key:"addAdditionalParameter",value:function(){var e=this.state.mod;e.parameters["additional-parameters"].push({"user-parameter":"","token-parameter":"","token-changed":!1}),this.setState({mod:e,newScopeOverride:!1})}},{key:"setAdditionalPropertyUserParameter",value:function(e,t){var a=this.state.mod;a.parameters["additional-parameters"][t]&&(a.parameters["additional-parameters"][t]["user-parameter"]=e.target.value,a.parameters["additional-parameters"][t]["token-changed"]||(a.parameters["additional-parameters"][t]["token-parameter"]=e.target.value)),this.setState({mod:a,newScopeOverride:!1})}},{key:"setAdditionalPropertyTokenParameter",value:function(e,t){var a=this.state.mod;a.parameters["additional-parameters"][t]&&(a.parameters["additional-parameters"][t]["token-parameter"]=e.target.value,a.parameters["additional-parameters"][t]["token-changed"]=!0),this.setState({mod:a,newScopeOverride:!1})}},{key:"deleteAdditionalProperty",value:function(e,t){var a=this.state.mod;a.parameters["additional-parameters"][t]&&a.parameters["additional-parameters"].splice(t,1),this.setState({mod:a,newScopeOverride:!1})}},{key:"addClaim",value:function(){var e=this.state.mod;e.parameters.claims.push({name:"","user-property":"",type:"string","boolean-value-true":"","boolean-value-false":"",mandatory:!1,"on-demand":!1,scope:[]}),this.setState({mod:e})}},{key:"deleteClaim",value:function(e,t){var a=this.state.mod;a.parameters.claims.splice(t,1),this.setState({mod:a})}},{key:"setClaimName",value:function(e,t){var a=this.state.mod;a.parameters.claims[t].name=e.target.value,this.setState({mod:a})}},{key:"setClaimUserProperty",value:function(e,t){var a=this.state.mod;a.parameters.claims[t]["user-property"]=e.target.value,this.setState({mod:a})}},{key:"setClaimType",value:function(e,t,a){var r=this.state.mod;r.parameters.claims[t].type=a,this.setState({mod:r})}},{key:"setClaimBooleanTrue",value:function(e,t){var a=this.state.mod;a.parameters.claims[t]["boolean-value-true"]=e.target.value,this.setState({mod:a})}},{key:"setClaimBooleanFalse",value:function(e,t){var a=this.state.mod;a.parameters.claims[t]["boolean-value-false"]=e.target.value,this.setState({mod:a})}},{key:"toggleClaimMandatory",value:function(e,t){var a=this.state.mod;a.parameters.claims[t].mandatory=!a.parameters.claims[t].mandatory,this.setState({mod:a})}},{key:"toggleClaimOnDemand",value:function(e,t){var a=this.state.mod;a.parameters.claims[t]["on-demand"]=!a.parameters.claims[t]["on-demand"],this.setState({mod:a})}},{key:"changeAddressClaimParam",value:function(e,t){var a=this.state.mod;a.parameters["address-claim"][t]=e.target.value,this.setState({mod:a})}},{key:"changeAddressClaim",value:function(e,t){var a=this.state.mod;a.parameters["address-claim"].type=t,this.setState({mod:a})}},{key:"toggleAddrClaimMandatory",value:function(e,t){var a=this.state.mod;a.parameters["address-claim"].mandatory=!a.parameters["address-claim"].mandatory,this.setState({mod:a})}},{key:"addScopeClaim",value:function(e,t,a){e.preventDefault();var r=this.state.mod;r.parameters.claims[t].scope.push(a),this.setState({mod:r})}},{key:"deleteScopeClaim",value:function(e,t,a){if(e.preventDefault(),!this.state.mod.parameters.claims[t].mandatory){var r=this.state.mod;r.parameters.claims[t].scope.splice(a,1),this.setState({mod:r})}}},{key:"addNameScope",value:function(e,t){e.preventDefault();var a=this.state.mod;a.parameters["name-claim-scope"].push(t),this.setState({mod:a})}},{key:"deleteNameScope",value:function(e,t){e.preventDefault();var a=this.state.mod;a.parameters["name-claim-scope"].splice(t,1),this.setState({mod:a})}},{key:"addEmailScope",value:function(e,t){e.preventDefault();var a=this.state.mod;a.parameters["email-claim-scope"].push(t),this.setState({mod:a})}},{key:"deleteEmailScope",value:function(e,t){e.preventDefault();var a=this.state.mod;a.parameters["email-claim-scope"].splice(t,1),this.setState({mod:a})}},{key:"addAllowedScope",value:function(e,t){e.preventDefault();var a=this.state.mod;t?a.parameters["allowed-scope"].push(t):(a.parameters["allowed-scope"]=["openid"],this.state.config.scopes.forEach((function(e){"openid"!==e.name&&a.parameters["allowed-scope"].push(e.name)}))),this.setState({mod:a})}},{key:"deleteAllowedScope",value:function(e,t){if(e.preventDefault(),"openid"!==this.state.mod.parameters["allowed-scope"][t]){var a=this.state.mod;a.parameters["allowed-scope"].splice(t,1),this.setState({mod:a})}}},{key:"addScope",value:function(e,t,a){e.preventDefault();var r=this.state.mod;r.parameters[t].push(a),this.setState({mod:r})}},{key:"deleteScope",value:function(e,t,a){e.preventDefault();var r=this.state.mod;r.parameters[t].splice(a,1),this.setState({mod:r})}},{key:"changeMtlsClientSource",value:function(e,t){var a=this.state.mod;t?a.parameters["client-cert-source"]=t:delete a.parameters["client-cert-source"],this.setState({mod:a})}},{key:"setResourceScope",value:function(e,t){e.preventDefault(),this.setState({newResourceScope:t})}},{key:"addResourceScope",value:function(){var e=this.state.mod;e.parameters["resource-scope"][this.state.newResourceScope]=[],this.setState({mod:e,newResourceScope:!1})}},{key:"changeResourceScopeUrls",value:function(e,t){var a=this.state.mod;a.parameters["resource-scope"][t]=e.target.value.split("\n"),this.setState({mod:a})}},{key:"deleteResourceScope",value:function(e,t){var a=this.state.mod;delete a.parameters["resource-scope"][t],this.setState({mod:a})}},{key:"changeRegisterResourceDefaultUrls",value:function(e){var t=this.state.mod;t.parameters["register-resource-default"]=e.target.value.split("\n"),this.setState({mod:t})}},{key:"setNewRar",value:function(e){var t=!1,a=!1;this.state.mod.parameters["rar-types"][e.target.value]&&(t=!0),e.target.value&&-1===e.target.value.search(/^[a-zA-Z0-9-_\$]+$/)&&(a=!0),this.setState({newRar:e.target.value,newRarExists:t,newRarInvalidChar:a})}},{key:"addRAR",value:function(){var e=this.state.mod;e.parameters["rar-types"][this.state.newRar]||(e.parameters["rar-types"][this.state.newRar]={scopes:[],locations:[],actions:[],datatypes:[],enriched:[]},this.setState({mod:e,newRar:""}))}},{key:"changeRarParameter",value:function(e,t,a){var r=this.state.mod;r.parameters["rar-types"][t][a]="description"===a?e.target.value:e.target.value.split("\n"),this.setState({mod:r})}},{key:"deleteRar",value:function(e,t){var a=this.state.mod;delete a.parameters["rar-types"][t],this.setState({mod:a})}},{key:"addRarTypeScope",value:function(e,t,a){var r=this.state.mod;r.parameters["rar-types"][t].scopes.push(a),this.setState({mod:r})}},{key:"deleteRarTypeScope",value:function(e,t,a){e.preventDefault();var r=this.state.mod;r.parameters["rar-types"][t].scopes.splice(r.parameters["rar-types"][t].scopes.indexOf(a),1),this.setState({mod:r})}},{key:"setNewDefaultProperty",value:function(e,t,a,r){e.preventDefault(),this.setState({newDefaultProperty:{name:t,label:a,list:r}})}},{key:"addDefaultProperty",value:function(){var e,t=this.state.mod;e=this.state.newDefaultProperty.list?[]:"",t.parameters["register-default-properties"][this.state.newDefaultProperty.name]={label:this.state.newDefaultProperty.label,value:e},this.setState({mod:t,newDefaultProperty:!1})}},{key:"changeRegisterDefaultProperty",value:function(e,t){var a=this.state.mod;Array.isArray(a.parameters["register-default-properties"][t].value)?a.parameters["register-default-properties"][t].value=e.target.value.split("\n"):a.parameters["register-default-properties"][t].value=e.target.value,this.setState({mod:a,newDefaultProperty:!1})}},{key:"deleteRegisterDefaultProperty",value:function(e,t){var a=this.state.mod;delete a.parameters["register-default-properties"][t],this.setState({mod:a,newDefaultProperty:!1})}},{key:"addPkceScope",value:function(e,t){var a=this.state.mod;a.parameters["pkce-scopes"].push(t),this.setState({mod:a})}},{key:"deletePkceScope",value:function(e,t){if(e.preventDefault(),this.state.mod.parameters["pkce-allowed"]&&!this.state.mod.parameters["pkce-required"]){var a=this.state.mod;a.parameters["pkce-scopes"].splice(a.parameters["pkce-scopes"].indexOf(t),1),this.setState({mod:a})}}},{key:"changeNewLang",value:function(e){this.setState({newLang:e.target.value})}},{key:"addLang",value:function(){var e=this,t=this.state.mod,a=!1;Object.keys(t.parameters["oauth-ciba-email-templates"]).forEach((function(t){t===e.state.newLang&&(a=!0)})),!a&&this.state.newLang&&(t.parameters["oauth-ciba-email-templates"][this.state.newLang]={"oauth-ciba-email-subject":"","oauth-ciba-email-body-pattern":"","oauth-ciba-email-defaultLang":!1},this.setState({mod:t,newLang:"",currentLang:this.state.newLang}))}},{key:"removeLang",value:function(e){var t=this.state.mod,a=!1;delete t.parameters["oauth-ciba-email-templates"][e],e===this.state.currentLang?(Object.keys(t.parameters["oauth-ciba-email-templates"]).forEach((function(e){a||(a=e)})),this.setState({mod:t,currentLang:a})):this.setState({mod:t})}},{key:"changeLang",value:function(e,t){this.setState({currentLang:t})}},{key:"changeTemplate",value:function(e,t){var a=this.state.mod;a.parameters["oauth-ciba-email-templates"][this.state.currentLang][t]=e.target.value,this.setState({mod:a})}},{key:"toggleLangDefault",value:function(){var e=this,t=this.state.mod;Object.keys(t.parameters["oauth-ciba-email-templates"]).forEach((function(a){a===e.state.currentLang&&(t.parameters["oauth-ciba-email-templates"][a]["oauth-ciba-email-defaultLang"]=!t.parameters["oauth-ciba-email-templates"][a]["oauth-ciba-email-defaultLang"])})),this.setState({mod:t})}},{key:"checkParameters",value:function(){var e=this,t={},a=!1;if(this.state.mod.parameters.iss||(a=!0,t.iss=i.a.t("admin.mod-glwd-iss-error"),t.general=!0),this.state.mod.parameters["jwks-private"]||this.state.mod.parameters["jwks-uri"]){if(this.state.mod.parameters["jwks-private"]){var r=!1;try{r=JSON.parse(this.state.mod.parameters["jwks-private"])}catch(e){a=!0,t["jwks-private"]=i.a.t("admin.mod-glwd-jwks-error"),t.signature=!0}if(r)if(r.keys&&Array.isArray(r.keys)){if(this.state.mod.parameters["default-kid"]){var o=!1;r.keys.forEach((function(t){t.kid===e.state.mod.parameters["default-kid"]&&(o=!0)})),o||(a=!0,t["default-kid"]=i.a.t("admin.mod-glwd-default-kid-error"),t.signature=!0)}}else a=!0,t["jwks-private"]=i.a.t("admin.mod-glwd-jwks-error"),t.signature=!0}}else this.state.mod.parameters.key||(a=!0,t.key=i.a.t("admin.mod-glwd-key-error"),t.signature=!0),"sha"===this.state.mod.parameters["jwt-type"]||this.state.mod.parameters.cert||(a=!0,t.cert=i.a.t("admin.mod-glwd-cert-error"),t.signature=!0);if(this.state.mod.parameters["jwks-public"]){r=!1;try{r=JSON.parse(this.state.mod.parameters["jwks-public"])}catch(e){a=!0,t["jwks-public"]=i.a.t("admin.mod-glwd-jwks-error"),t.signature=!0}r&&(r.keys&&Array.isArray(r.keys)||(a=!0,t["jwks-public"]=i.a.t("admin.mod-glwd-jwks-error"),t.signature=!0))}if(this.state.mod.parameters["access-token-duration"]||(a=!0,t["access-token-duration"]=i.a.t("admin.mod-glwd-access-token-duration-error"),t.token=!0),this.state.mod.parameters["refresh-token-duration"]||(a=!0,t["refresh-token-duration"]=i.a.t("admin.mod-glwd-refresh-token-duration-error"),t.token=!0),this.state.mod.parameters["code-duration"]||(a=!0,t["code-duration"]=i.a.t("admin.mod-glwd-code-duration-error"),t.token=!0),this.state.mod.parameters["additional-parameters"].forEach((function(e,r){e["user-parameter"]||(a=!0,t["additional-parameters"]||(t["additional-parameters"]=[]),t["additional-parameters"][r]||(t["additional-parameters"][r]={}),t["additional-parameters"][r].user=i.a.t("admin.mod-glwd-additional-parameter-user-parameter-error")),e["token-parameter"]?"username"!==e["token-parameter"]&&"salt"!==e["token-parameter"]&&"type"!==e["token-parameter"]&&"iat"!==e["token-parameter"]&&"expires_in"!==e["token-parameter"]&&"scope"!==e["token-parameter"]||(a=!0,t["additional-parameters"]||(t["additional-parameters"]=[]),t["additional-parameters"][r]||(t["additional-parameters"][r]={}),t["additional-parameters"][r].token=i.a.t("admin.mod-glwd-additional-parameter-token-parameter-invalid-error")):(a=!0,t["additional-parameters"]||(t["additional-parameters"]=[]),t["additional-parameters"][r]||(t["additional-parameters"][r]={}),t["additional-parameters"][r].token=i.a.t("admin.mod-glwd-additional-parameter-token-parameter-error"))})),this.state.mod.parameters.claims.forEach((function(e,r){""===e.name?(a=!0,t.claims||(t.claims=[]),t.claims[r]||(t.claims[r]={}),t.claims[r].name=i.a.t("admin.mod-glwd-claims-name-error")):["iss","sub","aud","exp","iat","auth_time","nonce","acr","amr","azp","name","email","address"].indexOf(e.name)>-1&&(a=!0,t.claims||(t.claims=[]),t.claims[r]||(t.claims[r]={}),t.claims[r].name=i.a.t("admin.mod-glwd-claims-name-forbidden-error")),""===e["user-property"]&&(a=!0,t.claims||(t.claims=[]),t.claims[r]||(t.claims[r]={}),t.claims[r]["user-property"]=i.a.t("admin.mod-glwd-claims-user-property-error")),"boolean"===e.type&&""===e["boolean-value-true"]&&(a=!0,t.claims||(t.claims=[]),t.claims[r]||(t.claims[r]={}),t.claims[r]["boolean-value-true"]=i.a.t("admin.mod-glwd-claims-boolean-value-true-error")),"boolean"===e.type&&""===e["boolean-value-false"]&&(a=!0,t.claims||(t.claims=[]),t.claims[r]||(t.claims[r]={}),t.claims[r]["boolean-value-false"]=i.a.t("admin.mod-glwd-claims-boolean-value-false-error"))})),!this.state.mod.parameters["introspection-revocation-allowed"]||this.state.mod.parameters["introspection-revocation-allow-target-client"]||this.state.mod.parameters["introspection-revocation-auth-scope"].length||(a=!0,t["introspection-revocation"]=i.a.t("admin.mod-glwd-introspection-revocation-error"),t.token=!0),this.state.mod.parameters["oauth-dpop-allowed"]&&!this.state.mod.parameters["oauth-dpop-iat-duration"]&&(a=!0,t["oauth-dpop-iat-duration"]=i.a.t("admin.mod-glwd-oauth-dpop-iat-duration-error"),t["oauth-dpop"]=!0),this.state.mod.parameters["resource-allowed"]){var n=0;Object.keys(this.state.mod.parameters["resource-scope"]).forEach((function(r){n++,e.state.mod.parameters["resource-scope"][r].length?e.state.mod.parameters["resource-scope"][r].forEach((function(e,o){e.startsWith("https://")||e.startsWith("http://localhost")||e.startsWith("http://127.0.0.1")||e.startsWith("http://[::1]")?e.indexOf("#")>-1&&(a=!0,t["resource-scope"]||(t["resource-scope"]={}),t["resource-scope"][r]=i.a.t("admin.mod-glwd-resource-scope-url-error"),t.resource=!0):(a=!0,t["resource-scope"]||(t["resource-scope"]={}),t["resource-scope"][r]=i.a.t("admin.mod-glwd-resource-scope-url-error"),t.resource=!0)})):(a=!0,t["resource-scope"]||(t["resource-scope"]={}),t["resource-scope"][r]=i.a.t("admin.mod-glwd-resource-scope-empty-error"),t.resource=!0)})),n||this.state.mod.parameters["resource-client-property"]||(a=!0,t["resource-scope-or-client"]=i.a.t("admin.mod-glwd-resource-scope-or-client-error"),t.resource=!0),!this.state.mod.parameters["resource-scope-and-client-property"]||n&&this.state.mod.parameters["resource-client-property"]||(a=!0,t["resource-scope-or-client"]=i.a.t("admin.mod-glwd-resource-scope-and-client-error"),t.resource=!0)}this.state.mod.parameters["oauth-rar-allowed"]&&(this.state.mod.parameters["rar-types-client-property"]||(a=!0,t["rar-types-client-property"]=i.a.t("admin.mod-glwd-rar-types-client-property-error"),t["oauth-rar"]=!0)),this.state.mod.parameters["register-client-allowed"]&&Object.keys(this.state.mod.parameters["register-default-properties"]).forEach((function(r){e.state.mod.parameters["register-default-properties"][r].value||(a=!0,t["register-default-properties"]=i.a.t("admin.mod-glwd-register-default-properties-error"),t.registration=!0)})),this.state.mod.parameters["oauth-ciba-allowed"]&&(this.state.mod.parameters["oauth-ciba-mode-poll-allowed"]||this.state.mod.parameters["oauth-ciba-mode-ping-allowed"]||this.state.mod.parameters["oauth-ciba-mode-push-allowed"]||(a=!0,t["oauth-ciba-mode"]=i.a.t("admin.mod-glwd-oauth-ciba-mode-error"),t["oauth-ciba"]=!0),this.state.mod.parameters["oauth-ciba-user-code-allowed"]&&!this.state.mod.parameters["oauth-ciba-user-code-property"]&&(a=!0,t["oauth-ciba-user-code-property"]=i.a.t("admin.mod-glwd-oauth-ciba-user-code-property-error"),t["oauth-ciba"]=!0),this.state.mod.parameters["oauth-ciba-email-allowed"]&&(this.state.mod.parameters["oauth-ciba-email-host"]||(a=!0,t["oauth-ciba-email-host"]=i.a.t("admin.mod-email-host-error"),t["oauth-ciba"]=!0),this.state.mod.parameters["oauth-ciba-email-from"]||(a=!0,t["oauth-ciba-email-from"]=i.a.t("admin.mod-email-from-error"),t["oauth-ciba"]=!0),this.state.mod.parameters["oauth-ciba-email-content-type"]||(a=!0,t["oauth-ciba-email-content-type"]=i.a.t("admin.mod-email-content-type-error"),t["oauth-ciba"]=!0),t["oauth-ciba-email-subject"]="",t["oauth-ciba-email-body-pattern"]="",Object.keys(this.state.mod.parameters["oauth-ciba-email-templates"]).forEach((function(r){e.state.mod.parameters["oauth-ciba-email-templates"][r]["oauth-ciba-email-subject"]||(a=!0,t["oauth-ciba-email-subject"]+=i.a.t("admin.mod-email-subject-error",{lang:r}),t["oauth-ciba"]=!0),-1===e.state.mod.parameters["oauth-ciba-email-templates"][r]["oauth-ciba-email-body-pattern"].search("{CONNECT_URL}")&&(a=!0,t["oauth-ciba-email-body-pattern"]+=i.a.t("admin.mod-glwd-oauth-ciba-email-body-pattern-error",{lang:r}),t["oauth-ciba"]=!0)})))),a?this.setState({errorList:t},(function(){d.a.sendMessage("ModPlugin",{type:"modInvalid"})})):this.setState({errorList:{}},(function(){d.a.sendMessage("ModPlugin",{type:"modValid"})}))}},{key:"render",value:function(){var e,t,a,r=this,n=[],s=[],l=[],m=[],c=[],d=document.location.href.split("?")[0].split("#")[0]+this.state.config.api_prefix+"/"+(this.state.mod.name||""),p=d+"/.well-known/openid-configuration",u=d+"/auth",h=d+"/token",f=d+"/userinfo";"sha"===this.state.mod.parameters["jwt-type"]?e=o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-key"},i.a.t("admin.mod-glwd-key"))),o.a.createElement("input",{type:"password",className:this.state.errorList.key?"form-control is-invalid":"form-control",id:"mod-glwd-key",onChange:function(e){return r.changeParam(e,"key")},value:this.state.mod.parameters.key,placeholder:i.a.t("admin.mod-glwd-key-ph")})),this.state.errorList.key?o.a.createElement("span",{className:"error-input"},this.state.errorList.key):""):(e=o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-key"},i.a.t("admin.mod-glwd-key"))),o.a.createElement("div",{className:"custom-file"},o.a.createElement("input",{type:"file",id:"mod-glwd-key",className:this.state.errorList.key?"custom-file-input is-invalid":"custom-file-input",onChange:function(e){return r.uploadFile(e,"key")}}),o.a.createElement("label",{className:"custom-file-label",htmlFor:"mod-glwd-key"},i.a.t("admin.choose-file")))),this.state.mod.parameters.key?o.a.createElement("div",{className:"alert alert-primary"},this.state.mod.parameters.key.substring(0,40),o.a.createElement("button",{type:"button",onClick:function(e){return r.emptyParameter("key")},className:"close"},o.a.createElement("span",{"aria-hidden":"true"},o.a.createElement("i",{className:"fas fa-trash"})))):"",this.state.errorList.key?o.a.createElement("span",{className:"error-input"},this.state.errorList.key):""),t=o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-cert"},i.a.t("admin.mod-glwd-cert"))),o.a.createElement("div",{className:"custom-file"},o.a.createElement("input",{type:"file",id:"mod-glwd-cert",className:this.state.errorList.key?"custom-file-input is-invalid":"custom-file-input",onChange:function(e){return r.uploadFile(e,"cert")}}),o.a.createElement("label",{className:"custom-file-label",htmlFor:"mod-glwd-cert"},i.a.t("admin.choose-file")))),this.state.mod.parameters.cert?o.a.createElement("div",{className:"alert alert-primary"},this.state.mod.parameters.cert.substring(0,40),o.a.createElement("button",{type:"button",onClick:function(e){return r.emptyParameter("cert")},className:"close"},o.a.createElement("span",{"aria-hidden":"true"},o.a.createElement("i",{className:"fas fa-trash"})))):"",this.state.errorList.cert?o.a.createElement("span",{className:"error-input"},this.state.errorList.cert):"")),this.state.config.pattern.user.forEach((function(e){"scope"===e.name&&e.listElements.forEach((function(e,t){var a=0;r.state.mod.parameters.scope.forEach((function(t){t.name===e&&(a=1)})),a||s.push(o.a.createElement("a",{key:t,className:"dropdown-item",href:"#",onClick:function(t){return r.setNewScopeOverride(t,e)}},e))}))}));var g=o.a.createElement("div",{className:"dropdown"},o.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-glwd-scope-override-scope","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},this.state.newScopeOverride||i.a.t("admin.mod-glwd-scope-override-scope")),o.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-glwd-scope-override-scope"},s));this.state.mod.parameters.scope.forEach((function(e,t){n.push(o.a.createElement("div",{key:t},o.a.createElement("hr",null),o.a.createElement("h4",null,e.name),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-scope-override-refresh-duration-"+e.name},i.a.t("admin.mod-glwd-scope-override-refresh-duration"))),o.a.createElement("input",{type:"number",min:"0",step:"1",className:"form-control",id:"mod-glwd-scope-override-refresh-duration-"+e.name,onChange:function(t){return r.changeScopeOverrideRefreshDuration(t,e)},value:e["refresh-token-duration"],placeholder:i.a.t("admin.mod-glwd-scope-override-refresh-duration-ph")}))),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-scope-override-refresh-rolling-"+e.name},i.a.t("admin.mod-scope-override-refresh-rolling"))),o.a.createElement("div",{className:"dropdown"},o.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-glwd-scope-override-refresh-rolling-"+e.name,"data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.glwd-scope-override-refresh-rolling-value-"+e["refresh-token-rolling"])),o.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-glwd-jwt-type"},o.a.createElement("a",{className:"dropdown-item"+(void 0===e["refresh-token-rolling"]?" active":""),href:"#",onClick:function(t){return r.toggleScopeOverrideRolling(t,e.name,void 0)}},i.a.t("admin.glwd-scope-override-refresh-rolling-value-undefined")),o.a.createElement("a",{className:"dropdown-item"+(!0===e["refresh-token-rolling"]?" active":""),href:"#",onClick:function(t){return r.toggleScopeOverrideRolling(t,e.name,!0)}},i.a.t("admin.glwd-scope-override-refresh-rolling-value-true")),o.a.createElement("a",{className:"dropdown-item"+(!1===e["refresh-token-rolling"]?" active":""),href:"#",onClick:function(t){return r.toggleScopeOverrideRolling(t,e.name,!1)}},i.a.t("admin.glwd-scope-override-refresh-rolling-value-false")))))),o.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return r.deleteScopeOverride(t,e.name)},title:i.a.t("admin.mod-scope-override-delete")},o.a.createElement("i",{className:"fas fa-trash"}))))})),this.state.mod.parameters["additional-parameters"].forEach((function(e,t){var a=r.state.errorList["additional-parameters"]&&r.state.errorList["additional-parameters"][t]&&r.state.errorList["additional-parameters"][t].user,n=r.state.errorList["additional-parameters"]&&r.state.errorList["additional-parameters"][t]&&r.state.errorList["additional-parameters"][t].token;l.push(o.a.createElement("div",{key:t},o.a.createElement("hr",null),o.a.createElement("h4",null,e["user-parameter"]||i.a.t("admin.mod-additional-parameter-new")),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-additional-parameter-user-parameter-"+e["user-parameter"]},i.a.t("admin.mod-glwd-additional-parameter-user-parameter"))),o.a.createElement("input",{type:"text",className:a?"form-control is-invalid":"form-control",id:"mod-glwd-additional-parameter-user-parameter-"+e["user-parameter"],onChange:function(e){return r.setAdditionalPropertyUserParameter(e,t)},value:e["user-parameter"],placeholder:i.a.t("admin.mod-glwd-additional-parameter-user-parameter-ph")}),a?o.a.createElement("span",{className:"error-input"},r.state.errorList["additional-parameters"][t].user):"")),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-additional-parameter-token-parameter-"+e["token-parameter"]},i.a.t("admin.mod-glwd-additional-parameter-token-parameter"))),o.a.createElement("input",{type:"text",className:n?"form-control is-invalid":"form-control",id:"mod-glwd-additional-parameter-token-parameter-"+e["token-parameter"],onChange:function(e){return r.setAdditionalPropertyTokenParameter(e,t)},value:e["token-parameter"],placeholder:i.a.t("admin.mod-glwd-additional-parameter-token-parameter-ph")})),n?o.a.createElement("span",{className:"error-input"},r.state.errorList["additional-parameters"][t].token):""),o.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(e){return r.deleteAdditionalProperty(e,t)},title:i.a.t("admin.mod-additional-parameter-token-delete")},o.a.createElement("i",{className:"fas fa-trash"}))))}));var b=[o.a.createElement("a",{className:"dropdown-item",key:-1,href:"#",onClick:function(e){return r.addAllowedScope(e,!1)}},i.a.t("admin.mod-glwd-allowed-scope-all"))];this.state.config.scopes.forEach((function(e,t){-1===r.state.mod.parameters["allowed-scope"].indexOf(e.name)&&"openid"!==e.name&&b.push(o.a.createElement("a",{className:"dropdown-item",key:t,href:"#",onClick:function(t){return r.addAllowedScope(t,e.name)}},e.name))}));var y=[];this.state.mod.parameters["allowed-scope"].forEach((function(e,t){y.push(o.a.createElement("a",{href:"#",onClick:function(e){return r.deleteAllowedScope(e,t)},key:t},o.a.createElement("span",{className:"badge badge-primary btn-icon-right"},e,o.a.createElement("span",{className:"badge badge-light btn-icon-right"},o.a.createElement("i",{className:"fas fa-times"})))))}));var v=[];this.state.config.scopes.forEach((function(e,t){-1===r.state.mod.parameters["name-claim-scope"].indexOf(e.name)&&v.push(o.a.createElement("a",{className:"dropdown-item",key:t,href:"#",onClick:function(t){return r.addNameScope(t,e.name)}},e.name))}));var E=[];this.state.mod.parameters["name-claim-scope"].forEach((function(e,t){E.push(o.a.createElement("a",{href:"#",onClick:function(e){return r.deleteNameScope(e,t)},key:t},o.a.createElement("span",{className:"badge badge-primary btn-icon-right"},e,o.a.createElement("span",{className:"badge badge-light btn-icon-right"},o.a.createElement("i",{className:"fas fa-times"})))))}));var w=[];this.state.config.scopes.forEach((function(e,t){-1===r.state.mod.parameters["email-claim-scope"].indexOf(e.name)&&w.push(o.a.createElement("a",{className:"dropdown-item",key:t,href:"#",onClick:function(t){return r.addEmailScope(t,e.name)}},e.name))}));var N=[];this.state.mod.parameters["email-claim-scope"].forEach((function(e,t){N.push(o.a.createElement("a",{href:"#",onClick:function(e){return r.deleteEmailScope(e,t)},key:t},o.a.createElement("span",{className:"badge badge-primary btn-icon-right"},e,o.a.createElement("span",{className:"badge badge-light btn-icon-right"},o.a.createElement("i",{className:"fas fa-times"})))))}));var k=[];this.state.config.scopes.forEach((function(e,t){-1===r.state.mod.parameters["scope-claim-scope"].indexOf(e.name)&&k.push(o.a.createElement("a",{className:"dropdown-item",key:t,href:"#",onClick:function(t){return r.addEmailScope(t,e.name)}},e.name))}));var C=[];this.state.mod.parameters["scope-claim-scope"].forEach((function(e,t){C.push(o.a.createElement("a",{href:"#",onClick:function(e){return r.deleteEmailScope(e,t)},key:t},o.a.createElement("span",{className:"badge badge-primary btn-icon-right"},e,o.a.createElement("span",{className:"badge badge-light btn-icon-right"},o.a.createElement("i",{className:"fas fa-times"})))))})),this.state.mod.parameters["jwks-x5c"].forEach((function(e,t){c.push(o.a.createElement("a",{disabled:!r.state.mod.parameters["jwks-show"],href:"#",key:t,onClick:function(e){return r.handleRemoveX5c(e,t)}},o.a.createElement("span",{className:"badge badge-primary btn-icon-right"},e.substring(0,40),o.a.createElement("span",{className:"badge badge-light btn-icon-right"},o.a.createElement("i",{className:"fas fa-times"})))))})),this.state.mod.parameters.claims.forEach((function(e,t){var a=r.state.errorList.claims&&r.state.errorList.claims[t]&&r.state.errorList.claims[t].name,n=r.state.errorList.claims&&r.state.errorList.claims[t]&&r.state.errorList.claims[t]["user-property"],s=r.state.errorList.claims&&r.state.errorList.claims[t]&&r.state.errorList.claims[t]["boolean-value-true"],l=r.state.errorList.claims&&r.state.errorList.claims[t]&&r.state.errorList.claims[t]["boolean-value-false"],c="";"boolean"===e.type&&(c=o.a.createElement("div",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-claims-boolean-value-true-"+e.name},i.a.t("admin.mod-glwd-claims-boolean-value-true"))),o.a.createElement("input",{type:"text",className:s?"form-control is-invalid":"form-control",id:"mod-glwd-claims-boolean-value-true-"+e.name,onChange:function(e){return r.setClaimBooleanTrue(e,t)},value:e["boolean-value-true"],placeholder:i.a.t("admin.mod-glwd-claims-boolean-value-true-ph")}),s?o.a.createElement("span",{className:"error-input"},r.state.errorList.claims[t]["boolean-value-true"]):"")),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-claims-boolean-value-false-"+e.name},i.a.t("admin.mod-glwd-claims-boolean-value-false"))),o.a.createElement("input",{type:"text",className:l?"form-control is-invalid":"form-control",id:"mod-glwd-claims-boolean-value-false-"+e.name,onChange:function(e){return r.setClaimBooleanFalse(e,t)},value:e["boolean-value-false"],placeholder:i.a.t("admin.mod-glwd-claims-boolean-value-false-ph")}),l?o.a.createElement("span",{className:"error-input"},r.state.errorList.claims[t]["boolean-value-false"]):""))));var d=[];r.state.config.scopes.forEach((function(a,n){-1===e.scope.indexOf(a.name)&&d.push(o.a.createElement("a",{className:"dropdown-item",key:n,href:"#",onClick:function(e){return r.addScopeClaim(e,t,a.name)}},a.name))}));var p=[];e.scope.forEach((function(e,a){p.push(o.a.createElement("a",{href:"#",onClick:function(e){return r.deleteScopeClaim(e,t,a)},key:a},o.a.createElement("span",{className:"badge badge-primary btn-icon-right"},e,o.a.createElement("span",{className:"badge badge-light btn-icon-right"},o.a.createElement("i",{className:"fas fa-times"})))))})),m.push(o.a.createElement("div",{key:t},o.a.createElement("hr",null),o.a.createElement("h4",null,e.name||i.a.t("admin.mod-claims-new")),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-claims-name-"+e.name},i.a.t("admin.mod-glwd-claims-name"))),o.a.createElement("input",{type:"text",className:a?"form-control is-invalid":"form-control",id:"mod-glwd-claims-name-"+e.name,onChange:function(e){return r.setClaimName(e,t)},value:e.name,placeholder:i.a.t("admin.mod-glwd-claims-name-ph")}),a?o.a.createElement("span",{className:"error-input"},r.state.errorList.claims[t].name):"")),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-claims-user-property-"+e.name},i.a.t("admin.mod-glwd-claims-user-property"))),o.a.createElement("input",{type:"text",className:n?"form-control is-invalid":"form-control",id:"mod-glwd-claims-user-property-"+e.name,onChange:function(e){return r.setClaimUserProperty(e,t)},value:e["user-property"],placeholder:i.a.t("admin.mod-glwd-claims-user-property-ph")}),n?o.a.createElement("span",{className:"error-input"},r.state.errorList.claims[t]["user-property"]):"")),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-claims-type"},i.a.t("admin.mod-glwd-claims-type"))),o.a.createElement("div",{className:"dropdown"},o.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-glwd-claims-type-"+e.name,"data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.mod-glwd-claims-type-"+e.type)),o.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-glwd-claims-type"},o.a.createElement("a",{className:"dropdown-item"+("string"===e.type?" active":""),href:"#",onClick:function(e){return r.setClaimType(e,t,"string")}},i.a.t("admin.mod-glwd-claims-type-string")),o.a.createElement("a",{className:"dropdown-item"+("number"===e.type?" active":""),href:"#",onClick:function(e){return r.setClaimType(e,t,"number")}},i.a.t("admin.mod-glwd-claims-type-number")),o.a.createElement("a",{className:"dropdown-item"+("boolean"===e.type?" active":""),href:"#",onClick:function(e){return r.setClaimType(e,t,"boolean")}},i.a.t("admin.mod-glwd-claims-type-boolean"))))),c,o.a.createElement("div",{className:"form-group form-check"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-claims-mandatory-"+e.name,onChange:function(e){return r.toggleClaimMandatory(e,t)},checked:e.mandatory}),o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-claims-mandatory-"+e.name},i.a.t("admin.mod-glwd-claims-mandatory"))),o.a.createElement("div",{className:"form-group form-check"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-claims-on-demand-"+e.name,onChange:function(e){return r.toggleClaimOnDemand(e,t)},checked:e["on-demand"],disabled:e.mandatory}),o.a.createElement("label",{disabled:!0,className:"form-check-label",htmlFor:"mod-glwd-claims-on-demand-"+e.name},i.a.t("admin.mod-glwd-claims-on-demand"))),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-scope-claim"},i.a.t("admin.mod-glwd-scope-claim"))),o.a.createElement("div",{className:"dropdown"},o.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-mod-glwd-scope-claim","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:e.mandatory},i.a.t("admin.mod-glwd-scope-claim-select")),o.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-glwd-name-email-claim"},d)),p))),o.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(e){return r.deleteClaim(e,t)},title:i.a.t("admin.mod-claims-delete")},o.a.createElement("i",{className:"fas fa-trash"}))))})),"no"!==this.state.mod.parameters["address-claim"].type&&(a=o.a.createElement("div",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-addr-claim-formatted"},i.a.t("admin.mod-glwd-addr-claim-formatted"))),o.a.createElement("input",{type:"text",className:"form-control",id:"mod-glwd-addr-claim-formatted",onChange:function(e){return r.changeAddressClaimParam(e,"formatted")},value:this.state.mod.parameters["address-claim"].formatted,placeholder:i.a.t("admin.mod-glwd-addr-claim-formatted-ph")}))),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-addr-claim-street-address"},i.a.t("admin.mod-glwd-addr-claim-street-address"))),o.a.createElement("input",{type:"text",className:"form-control",id:"mod-glwd-addr-claim-street-address",onChange:function(e){return r.changeAddressClaimParam(e,"street_address")},value:this.state.mod.parameters["address-claim"].street_address,placeholder:i.a.t("admin.mod-glwd-addr-claim-street-address-ph")}))),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-addr-claim-locality"},i.a.t("admin.mod-glwd-addr-claim-locality"))),o.a.createElement("input",{type:"text",className:"form-control",id:"mod-glwd-addr-claim-locality",onChange:function(e){return r.changeAddressClaimParam(e,"locality")},value:this.state.mod.parameters["address-claim"].locality,placeholder:i.a.t("admin.mod-glwd-addr-claim-locality-ph")}))),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-addr-claim-region"},i.a.t("admin.mod-glwd-addr-claim-region"))),o.a.createElement("input",{type:"text",className:"form-control",id:"mod-glwd-addr-claim-region",onChange:function(e){return r.changeAddressClaimParam(e,"region")},value:this.state.mod.parameters["address-claim"].region,placeholder:i.a.t("admin.mod-glwd-addr-claim-region-ph")}))),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-addr-claim-postal-code"},i.a.t("admin.mod-glwd-addr-claim-postal-code"))),o.a.createElement("input",{type:"text",className:"form-control",id:"mod-glwd-addr-claim-postal-code",onChange:function(e){return r.changeAddressClaimParam(e,"postal_code")},value:this.state.mod.parameters["address-claim"].postal_code,placeholder:i.a.t("admin.mod-glwd-addr-claim-postal-code-ph")}))),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-addr-claim-country"},i.a.t("admin.mod-glwd-addr-claim-country"))),o.a.createElement("input",{type:"text",className:"form-control",id:"mod-glwd-addr-claim-country",onChange:function(e){return r.changeAddressClaimParam(e,"country")},value:this.state.mod.parameters["address-claim"].country,placeholder:i.a.t("admin.mod-glwd-addr-claim-country-ph")}))),o.a.createElement("div",{className:"form-group form-check"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-addr-claim-mandatory",onChange:function(e){return r.toggleAddrClaimMandatory(e)},checked:this.state.mod.parameters["address-claim"].mandatory}),o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-addr-claim-mandatory"},i.a.t("admin.mod-glwd-addr-claim-mandatory")))));var P=[],S=[];Object.keys(this.state.mod.parameters["register-default-properties"]).forEach((function(e,t){var a,n=r.state.mod.parameters["register-default-properties"][e].value,s=r.state.mod.parameters["register-default-properties"][e].label;a=Array.isArray(n)?o.a.createElement("textarea",{className:"form-control",id:"register-default-properties-"+e,onChange:function(t){return r.changeRegisterDefaultProperty(t,e)},placeholder:i.a.t("admin.mod-glwd-register-default-properties-values-ph"),value:n.length?n.join("\n"):"",disabled:!r.state.mod.parameters["register-client-allowed"]}):o.a.createElement("input",{type:"text",className:"form-control",id:"register-default-properties-"+e,onChange:function(t){return r.changeRegisterDefaultProperty(t,e)},value:n,placeholder:i.a.t("admin.mod-glwd-register-default-properties-value-ph"),disabled:!r.state.mod.parameters["register-client-allowed"]}),P.push(o.a.createElement("div",{className:"form-group",key:e},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text"},i.a.t(s))),a,o.a.createElement("div",{className:"input-group-postpend"},o.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return r.deleteRegisterDefaultProperty(t,e)},title:i.a.t("admin.mod-glwd-register-default-properties-delete")},o.a.createElement("i",{className:"fas fa-trash"}))))))})),this.state.config.pattern.client.forEach((function(e,t){r.state.mod.parameters["register-default-properties"][e.name]||"client_id"===e.name||"enabled"===e.name||"client_id"===e.name||"scope"===e.name||"redirect_uri"===e.name||"confidential"===e.name||"client_secret"===e.name||"password"===e.name||S.push(o.a.createElement("a",{key:t,className:"dropdown-item",href:"#",onClick:function(t){return r.setNewDefaultProperty(t,e.name,e.label,!!e.list)}},i.a.t(e.label)))}));var M=[],x=[];this.state.config.pattern.user.forEach((function(e){"scope"===e.name&&e.listElements.forEach((function(e,t){M.push(o.a.createElement("a",{key:t,className:"dropdown-item",href:"#",onClick:function(t){return r.addScope(t,"introspection-revocation-auth-scope",e)},disabled:!r.state.mod.parameters["introspection-revocation-allowed"]},e))}))})),this.state.mod.parameters["introspection-revocation-auth-scope"].forEach((function(e,t){r.state.mod.parameters["introspection-revocation-allowed"]?x.push(o.a.createElement("a",{className:"btn-icon-right",href:"#",onClick:function(e){return r.deleteScope(e,"introspection-revocation-auth-scope",t)},key:t},o.a.createElement("span",{className:"badge badge-primary"},e,o.a.createElement("span",{className:"badge badge-light btn-icon-right"},o.a.createElement("i",{className:"fas fa-times"}))))):x.push(o.a.createElement("span",{key:t,className:"badge badge-primary btn-icon-right"},e))}));var _=o.a.createElement("div",{className:"dropdown"},o.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-register-scope","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:!this.state.mod.parameters["introspection-revocation-allowed"]},i.a.t("admin.mod-glwd-scope")),o.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-register-scope"},M),o.a.createElement("div",null,x)),L=[],j=[];this.state.config.pattern.user.forEach((function(e){"scope"===e.name&&e.listElements.forEach((function(e,t){L.push(o.a.createElement("a",{key:t,className:"dropdown-item",href:"#",onClick:function(t){return r.addScope(t,"register-client-auth-scope",e)},disabled:!r.state.mod.parameters["register-client-allowed"]},e))}))})),this.state.mod.parameters["register-client-auth-scope"].length||j.push(o.a.createElement("span",{key:0,className:"badge badge-danger btn-icon-right"},i.a.t("admin.mod-glwd-register-client-auth-scope-open"))),this.state.mod.parameters["register-client-auth-scope"].forEach((function(e,t){r.state.mod.parameters["register-client-allowed"]?j.push(o.a.createElement("a",{className:"btn-icon-right",href:"#",onClick:function(e){return r.deleteScope(e,"register-client-auth-scope",t)},key:t},o.a.createElement("span",{className:"badge badge-primary"},e,o.a.createElement("span",{className:"badge badge-light btn-icon-right"},o.a.createElement("i",{className:"fas fa-times"}))))):j.push(o.a.createElement("span",{key:t,className:"badge badge-primary btn-icon-right"},e))}));var R=o.a.createElement("div",{className:"dropdown"},o.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-register-scope","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:!this.state.mod.parameters["register-client-allowed"]},i.a.t("admin.mod-glwd-scope")),o.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-register-scope"},L),o.a.createElement("div",null,j)),O=[],F=[];this.state.config.pattern.user.forEach((function(e){"scope"===e.name&&e.listElements.forEach((function(e,t){O.push(o.a.createElement("a",{key:t,className:"dropdown-item",href:"#",onClick:function(t){return r.addScope(t,"register-client-credentials-scope",e)},disabled:!r.state.mod.parameters["register-client-allowed"]},e))}))})),this.state.mod.parameters["register-client-credentials-scope"].forEach((function(e,t){r.state.mod.parameters["register-client-allowed"]?F.push(o.a.createElement("a",{className:"btn-icon-right",href:"#",onClick:function(e){return r.deleteScope(e,"register-client-credentials-scope",t)},key:t},o.a.createElement("span",{className:"badge badge-primary"},e,o.a.createElement("span",{className:"badge badge-light btn-icon-right"},o.a.createElement("i",{className:"fas fa-times"}))))):F.push(o.a.createElement("span",{key:t,className:"badge badge-primary btn-icon-right"},e))}));var T=o.a.createElement("div",{className:"dropdown"},o.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-register-scope","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:!this.state.mod.parameters["register-client-allowed"]},i.a.t("admin.mod-glwd-scope")),o.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-register-scope"},O),o.a.createElement("div",null,F)),A=[];this.state.config.scopes.forEach((function(e,t){void 0===r.state.mod.parameters["resource-scope"][e.name]&&A.push(o.a.createElement("a",{key:t,className:"dropdown-item",href:"#",onClick:function(t){return r.setResourceScope(t,e.name)},disabled:!r.state.mod.parameters["resource-allowed"]},e.name))}));var U=o.a.createElement("div",{className:"btn-group",role:"group"},o.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-register-scope","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:!this.state.mod.parameters["resource-allowed"]||!A.length},this.state.newResourceScope||i.a.t("admin.mod-glwd-scope")),o.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-register-scope"},A)),I=[];Object.keys(this.state.mod.parameters["resource-scope"]).forEach((function(e){I.push(o.a.createElement("div",{className:"form-group",key:e},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("span",{className:"input-group-text"},e,o.a.createElement("button",{type:"button",className:"close btn-icon-right","data-dismiss":"alert","aria-label":"Close",onClick:function(t){return r.deleteResourceScope(t,e)}},o.a.createElement("span",{"aria-hidden":"true"},o.a.createElement("i",{className:"fas fa-trash"}))))),o.a.createElement("textarea",{className:r.state.errorList["resource-scope"]&&r.state.errorList["resource-scope"][e]?"form-control is-invalid":"form-control",id:"mod-resource-scope-urls-"+e,onChange:function(t){return r.changeResourceScopeUrls(t,e)},placeholder:i.a.t("admin.mod-glwd-resource-scope-urls-ph"),value:r.state.mod.parameters["resource-scope"][e]&&r.state.mod.parameters["resource-scope"][e].join("\n")})),r.state.errorList["resource-scope"]&&r.state.errorList["resource-scope"][e]?o.a.createElement("span",{className:"error-input"},r.state.errorList["resource-scope"][e]):""))}));var q=[];Object.keys(this.state.mod.parameters["rar-types"]).forEach((function(e){var t=r.state.mod.parameters["rar-types"][e],a=[],n=[];r.state.config.scopes.forEach((function(s,i){-1===t.scopes.indexOf(s.name)?a.push(o.a.createElement("a",{key:i,className:"dropdown-item",href:"#",onClick:function(t){return r.addRarTypeScope(t,e,s.name)},disabled:!r.state.mod.parameters["oauth-rar-allowed"]},s.name)):n.push(o.a.createElement("a",{href:"#",onClick:function(t){return r.deleteRarTypeScope(t,e,s.name)},key:i},o.a.createElement("span",{className:"badge badge-primary btn-icon-right"},s.name,o.a.createElement("span",{className:"badge badge-light btn-icon-right"},o.a.createElement("i",{className:"fas fa-times"})))))}));var s=o.a.createElement("div",{className:"btn-group",role:"group"},o.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-rar-types-scope-"+e,"data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.mod-glwd-scope")),o.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-register-scope"},a),n);q.push(o.a.createElement("div",{className:"form-group",key:e},o.a.createElement("hr",null),o.a.createElement("h4",null,e),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-scope-claim"},i.a.t("admin.mod-glwd-rar-scope"))),s)),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("span",{className:"input-group-text"},i.a.t("admin.mod-glwd-rar-description"))),o.a.createElement("input",{type:"text",className:"form-control",id:"mod-glwd-rar-description",placeholder:i.a.t("admin.mod-glwd-rar-description-ph"),value:t.description,onChange:function(t){return r.changeRarParameter(t,e,"description")}}))),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("span",{className:"input-group-text"},i.a.t("admin.mod-glwd-rar-locations"))),o.a.createElement("textarea",{className:"form-control",id:"mod-glwd-rar-locations-"+e,onChange:function(t){return r.changeRarParameter(t,e,"locations")},placeholder:i.a.t("admin.mod-glwd-rar-locations-ph"),value:t.locations?t.locations.join("\n"):""}))),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("span",{className:"input-group-text"},i.a.t("admin.mod-glwd-rar-actions"))),o.a.createElement("textarea",{className:"form-control",id:"mod-glwd-rar-actions-"+e,onChange:function(t){return r.changeRarParameter(t,e,"actions")},placeholder:i.a.t("admin.mod-glwd-rar-actions-ph"),value:t.actions?t.actions.join("\n"):""}))),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("span",{className:"input-group-text"},i.a.t("admin.mod-glwd-rar-datatypes"))),o.a.createElement("textarea",{className:"form-control",id:"mod-glwd-rar-datatypes-"+e,onChange:function(t){return r.changeRarParameter(t,e,"datatypes")},placeholder:i.a.t("admin.mod-glwd-rar-datatypes-ph"),value:t.datatypes?t.datatypes.join("\n"):""}))),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("span",{className:"input-group-text"},i.a.t("admin.mod-glwd-rar-enriched"))),o.a.createElement("textarea",{className:"form-control",id:"mod-glwd-rar-enriched-"+e,onChange:function(t){return r.changeRarParameter(t,e,"enriched")},placeholder:i.a.t("admin.mod-glwd-rar-enriched-ph"),value:t.enriched?t.enriched.join("\n"):""}))),o.a.createElement("button",{type:"button",className:"btn btn-secondary",title:i.a.t("admin.delete"),onClick:function(t){return r.deleteRar(t,e)}},o.a.createElement("i",{className:"fas fa-trash"}))))}));var D=[],K=[];this.state.config.scopes.forEach((function(e,t){-1===r.state.mod.parameters["pkce-scopes"].indexOf(e.name)?D.push(o.a.createElement("a",{key:t,className:"dropdown-item",href:"#",onClick:function(t){return r.addPkceScope(t,e.name)}},e.name)):K.push(o.a.createElement("a",{href:"#",onClick:function(t){return r.deletePkceScope(t,e.name)},key:t},o.a.createElement("span",{className:"badge badge-primary btn-icon-right"},e.name,o.a.createElement("span",{className:"badge badge-light btn-icon-right"},o.a.createElement("i",{className:"fas fa-times"})))))}));var z=o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-pkce-scopes"},i.a.t("admin.mod-glwd-pkce-scopes"))),o.a.createElement("div",{className:"btn-group",role:"group"},o.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-pkce-scopes",disabled:!this.state.mod.parameters["pkce-allowed"]||this.state.mod.parameters["pkce-required"],"data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.mod-glwd-scope")),o.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-pkce-scopes"},D),K)),V=[];V.push(o.a.createElement("div",{key:-2,className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("input",{type:"text",className:"form-control",id:"mod-email-new-lang",placeholder:i.a.t("admin.mod-email-new-lang-ph"),value:this.state.newLang,onChange:function(e){return r.changeNewLang(e)}}),o.a.createElement("div",{className:"input-group-append"},o.a.createElement("button",{type:"button",onClick:this.addLang,className:"btn btn-outline-primary"},i.a.t("admin.mod-email-new-lang-add")))))),V.push(o.a.createElement("div",{key:-1,className:"dropdown-divider"})),Object.keys(this.state.mod.parameters["oauth-ciba-email-templates"]).forEach((function(e,t){V.push(o.a.createElement("div",{key:2*t,className:"btn-group btn-group-justified"},o.a.createElement("button",{type:"button",className:"btn btn-primary",disabled:!0},e),o.a.createElement("button",{type:"button",onClick:function(t){return r.removeLang(e)},className:"btn btn-primary",disabled:r.state.mod.parameters["oauth-ciba-email-templates"][e]["oauth-ciba-email-defaultLang"]},i.a.t("admin.mod-email-new-lang-remove")),o.a.createElement("button",{type:"button",onClick:function(t){return r.changeLang(t,e)},className:"btn btn-primary"},i.a.t("admin.mod-email-new-lang-select")))),V.push(o.a.createElement("div",{key:2*t+1,className:"dropdown-divider"}))}));var B=this.state.mod.parameters["oauth-ciba-email-templates"][this.state.currentLang]||{};return o.a.createElement("div",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement("span",{className:"input-group-text"},i.a.t("admin.mod-glwd-url-oidc-config"))),o.a.createElement("code",null,p))),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement("span",{className:"input-group-text"},i.a.t("admin.mod-glwd-url-auth"))),o.a.createElement("code",null,u))),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement("span",{className:"input-group-text"},i.a.t("admin.mod-glwd-url-token"))),o.a.createElement("code",null,h))),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement("span",{className:"input-group-text"},i.a.t("admin.mod-glwd-url-userinfo"))),o.a.createElement("code",null,f))),o.a.createElement("hr",null),o.a.createElement("div",{className:"accordion",id:"accordionGenral"},o.a.createElement("div",{className:"card"},o.a.createElement("div",{className:"card-header",id:"addParamCard"},o.a.createElement("h2",{className:"mb-0"},o.a.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseGenral","aria-expanded":"true","aria-controls":"collapseAuthType"},this.state.errorList.general?o.a.createElement("span",{className:"error-input btn-icon"},o.a.createElement("i",{className:"fas fa-exclamation-circle"})):"",i.a.t("admin.mod-glwd-oidc-general-title")))),o.a.createElement("div",{id:"collapseGenral",className:"collapse","aria-labelledby":"addParamCard","data-parent":"#accordionGenral"},o.a.createElement("div",{className:"card-body"},o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-iss"},i.a.t("admin.mod-glwd-iss"))),o.a.createElement("input",{type:"text",className:this.state.errorList.iss?"form-control is-invalid":"form-control",id:"mod-glwd-iss",onChange:function(e){return r.changeParam(e,"iss")},value:this.state.mod.parameters.iss,placeholder:i.a.t("admin.mod-glwd-iss-ph")})),this.state.errorList.iss?o.a.createElement("span",{className:"error-input"},this.state.errorList.iss):""),o.a.createElement("div",{className:"form-group form-check"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-oauth-as-iss-id",onChange:function(e){return r.toggleParam(e,"oauth-as-iss-id")},checked:this.state.mod.parameters["oauth-as-iss-id"]}),o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-oauth-as-iss-id"},i.a.t("admin.mod-glwd-oauth-as-iss-id"))),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-jwt-type"},i.a.t("admin.mod-glwd-secret-type"))),o.a.createElement("div",{className:"dropdown"},o.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-glwd-secret-type","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.mod-glwd-secret-type-"+this.state.mod.parameters["secret-type"])),o.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-glwd-secret-type"},o.a.createElement("a",{className:"dropdown-item"+("public"===this.state.mod.parameters["secret-type"]?" active":""),href:"#",onClick:function(e){return r.changeSecretType(e,"public")}},i.a.t("admin.mod-glwd-secret-type-public")),o.a.createElement("a",{className:"dropdown-item"+("pairwise"===this.state.mod.parameters["secret-type"]?" active":""),href:"#",onClick:function(e){return r.changeSecretType(e,"pairwise")}},i.a.t("admin.mod-glwd-secret-type-pairwise")))))),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-allowed-scope"},i.a.t("admin.mod-glwd-allowed-scope"))),o.a.createElement("div",{className:"dropdown"},o.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-mod-glwd-allowed-scope","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.mod-glwd-name-email-scope-select")),o.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-glwd-name-scope-claim"},b)),y)),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-restrict-scope-client-property"},i.a.t("admin.mod-glwd-restrict-scope-client-property"))),o.a.createElement("input",{type:"text",className:"form-control",id:"mod-glwd-restrict-scope-client-property",onChange:function(e){return r.changeParam(e,"restrict-scope-client-property")},value:this.state.mod.parameters["restrict-scope-client-property"],placeholder:i.a.t("admin.mod-glwd-restrict-scope-client-property-ph")}))))))),o.a.createElement("div",{className:"accordion",id:"accordionSignature"},o.a.createElement("div",{className:"card"},o.a.createElement("div",{className:"card-header",id:"addParamCard"},o.a.createElement("h2",{className:"mb-0"},o.a.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseSignature","aria-expanded":"true","aria-controls":"collapseSignature"},this.state.errorList.signature?o.a.createElement("span",{className:"error-input btn-icon"},o.a.createElement("i",{className:"fas fa-exclamation-circle"})):"",i.a.t("admin.mod-glwd-sign-title")))),o.a.createElement("div",{id:"collapseSignature",className:"collapse","aria-labelledby":"addParamCard","data-parent":"#accordionSignature"},o.a.createElement("div",{className:"card-body"},o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("h5",null,i.a.t("admin.mod-glwd-specify-jwks"))))),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-jwks-uri"},i.a.t("admin.mod-glwd-jwks-uri"))),o.a.createElement("input",{type:"text",className:"form-control",id:"mod-glwd-jwks-uri",onChange:function(e){return r.changeParam(e,"jwks-uri")},value:this.state.mod.parameters["jwks-uri"],placeholder:i.a.t("admin.mod-glwd-jwks-uri-ph")}))),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-jwks-private"},i.a.t("admin.mod-glwd-jwks"))),o.a.createElement("div",{className:"custom-file"},o.a.createElement("input",{type:"file",id:"mod-glwd-jwks-private",className:"custom-file-input",onChange:function(e){return r.uploadFile(e,"jwks-private")}}),o.a.createElement("label",{className:"custom-file-label",htmlFor:"mod-glwd-jwks-private"},i.a.t("admin.choose-file"))))),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("textarea",{className:"form-control",id:"mod-glwd-jwks-private",onChange:function(e){return r.changeParam(e,"jwks-private")},value:this.state.mod.parameters["jwks-private"]})),this.state.errorList["jwks-private"]?o.a.createElement("span",{className:"error-input"},this.state.errorList["jwks-private"]):""),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-jwks-public-uri"},i.a.t("admin.mod-glwd-jwks-public-uri"))),o.a.createElement("input",{type:"text",className:"form-control",id:"mod-glwd-jwks-public-uri",onChange:function(e){return r.changeParam(e,"jwks-public-uri")},value:this.state.mod.parameters["jwks-public-uri"],placeholder:i.a.t("admin.mod-glwd-jwks-public-uri-ph")}))),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-jwks-public"},i.a.t("admin.mod-glwd-jwks-public"))),o.a.createElement("div",{className:"custom-file"},o.a.createElement("input",{type:"file",id:"mod-glwd-jwks-public",className:"custom-file-input",onChange:function(e){return r.uploadFile(e,"jwks-public")}}),o.a.createElement("label",{className:"custom-file-label",htmlFor:"mod-glwd-jwks-public"},i.a.t("admin.choose-file"))))),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("textarea",{className:"form-control",id:"mod-glwd-jwks-public",onChange:function(e){return r.changeParam(e,"jwks-public")},value:this.state.mod.parameters["jwks-public"],placeholder:i.a.t("admin.mod-glwd-jwks-public-ph")})),this.state.errorList["jwks-public"]?o.a.createElement("span",{className:"error-input"},this.state.errorList["jwks-public"]):""),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-default-kid"},i.a.t("admin.mod-glwd-default-kid"))),o.a.createElement("input",{type:"text",className:"form-control",id:"mod-glwd-default-kid",onChange:function(e){return r.changeParam(e,"default-kid")},value:this.state.mod.parameters["default-kid"],placeholder:i.a.t("admin.mod-glwd-default-kid-ph")})),this.state.errorList["default-kid"]?o.a.createElement("span",{className:"error-input"},this.state.errorList["default-kid"]):""),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-client-sign_kid-parameter"},i.a.t("admin.mod-glwd-client-sign_kid-parameter"))),o.a.createElement("input",{type:"text",className:"form-control",id:"mod-glwd-client-sign_kid-parameter",onChange:function(e){return r.changeParam(e,"client-sign_kid-parameter")},value:this.state.mod.parameters["client-sign_kid-parameter"],placeholder:i.a.t("admin.mod-glwd-client-sign_kid-parameter-ph")}))),o.a.createElement("hr",null),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("h5",null,i.a.t("admin.mod-glwd-specify-keys"))))),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-jwt-type"},i.a.t("admin.mod-glwd-jwt-type"))),o.a.createElement("div",{className:"dropdown"},o.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-glwd-jwt-type","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.mod-glwd-jwt-type-"+this.state.mod.parameters["jwt-type"])),o.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-glwd-jwt-type"},o.a.createElement("a",{className:"dropdown-item"+("rsa"===this.state.mod.parameters["jwt-type"]?" active":""),href:"#",onClick:function(e){return r.changeJwtType(e,"rsa")}},i.a.t("admin.mod-glwd-jwt-type-rsa")),o.a.createElement("a",{className:"dropdown-item"+("ecdsa"===this.state.mod.parameters["jwt-type"]?" active":""),href:"#",onClick:function(e){return r.changeJwtType(e,"ecdsa")}},i.a.t("admin.mod-glwd-jwt-type-ecdsa")),o.a.createElement("a",{className:"dropdown-item"+("sha"===this.state.mod.parameters["jwt-type"]?" active":""),href:"#",onClick:function(e){return r.changeJwtType(e,"sha")}},i.a.t("admin.mod-glwd-jwt-type-sha")),o.a.createElement("a",{className:"dropdown-item"+("rsa-pss"===this.state.mod.parameters["jwt-type"]?" active":""),href:"#",onClick:function(e){return r.changeJwtType(e,"rsa-pss")}},i.a.t("admin.mod-glwd-jwt-type-rsa-pss")),o.a.createElement("a",{className:"dropdown-item"+("eddsa"===this.state.mod.parameters["jwt-type"]?" active":""),href:"#",onClick:function(e){return r.changeJwtType(e,"eddsa")}},i.a.t("admin.mod-glwd-jwt-type-eddsa"))))),this.state.errorList["jwt-type"]?o.a.createElement("span",{className:"error-input"},this.state.errorList["jwt-type"]):""),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-jwt-key-size"},i.a.t("admin.mod-glwd-jwt-key-size"))),o.a.createElement("div",{className:"dropdown"},o.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-glwd-jwt-key-size","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:"eddsa"===this.state.mod.parameters["jwt-type"]},i.a.t("admin.mod-glwd-jwt-key-size-"+this.state.mod.parameters["jwt-key-size"])),o.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-glwd-jwt-key-size"},o.a.createElement("a",{className:"dropdown-item"+("256"===this.state.mod.parameters["jwt-key-size"]?" active":""),href:"#",onClick:function(e){return r.changeJwtKeySize(e,"256")}},i.a.t("admin.mod-glwd-jwt-key-size-256")),o.a.createElement("a",{className:"dropdown-item"+("384"===this.state.mod.parameters["jwt-key-size"]?" active":""),href:"#",onClick:function(e){return r.changeJwtKeySize(e,"384")}},i.a.t("admin.mod-glwd-jwt-key-size-384")),o.a.createElement("a",{className:"dropdown-item"+("512"===this.state.mod.parameters["jwt-key-size"]?" active":""),href:"#",onClick:function(e){return r.changeJwtKeySize(e,"512")}},i.a.t("admin.mod-glwd-jwt-key-size-512"))))),this.state.errorList["jwt-key-size"]?o.a.createElement("span",{className:"error-input"},this.state.errorList["jwt-key-size"]):""),e,t)))),o.a.createElement("div",{className:"accordion",id:"accordionToken"},o.a.createElement("div",{className:"card"},o.a.createElement("div",{className:"card-header",id:"addParamCard"},o.a.createElement("h2",{className:"mb-0"},o.a.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseToken","aria-expanded":"true","aria-controls":"collapseToken"},this.state.errorList.token?o.a.createElement("span",{className:"error-input btn-icon"},o.a.createElement("i",{className:"fas fa-exclamation-circle"})):"",i.a.t("admin.mod-glwd-token-title")))),o.a.createElement("div",{id:"collapseToken",className:"collapse","aria-labelledby":"addParamCard","data-parent":"#accordionToken"},o.a.createElement("div",{className:"card-body"},o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-access-token-duration"},i.a.t("admin.mod-glwd-access-token-duration"))),o.a.createElement("input",{type:"number",min:"1",step:"1",className:this.state.errorList["access-token-duration"]?"form-control is-invalid":"form-control",id:"mod-glwd-access-token-duration",onChange:function(e){return r.changeNumberParam(e,"access-token-duration")},value:this.state.mod.parameters["access-token-duration"],placeholder:i.a.t("admin.mod-glwd-access-token-duration-ph")})),this.state.errorList["access-token-duration"]?o.a.createElement("span",{className:"error-input"},this.state.errorList["access-token-duration"]):""),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-refresh-token-duration"},i.a.t("admin.mod-glwd-refresh-token-duration"))),o.a.createElement("input",{type:"number",min:"1",step:"1",className:this.state.errorList["refresh-token-duration"]?"form-control is-invalid":"form-control",id:"mod-glwd-refresh-token-duration",onChange:function(e){return r.changeNumberParam(e,"refresh-token-duration")},value:this.state.mod.parameters["refresh-token-duration"],placeholder:i.a.t("admin.mod-glwd-refresh-token-duration-ph")})),this.state.errorList["refresh-token-duration"]?o.a.createElement("span",{className:"error-input"},this.state.errorList["refresh-token-duration"]):""),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-code-duration"},i.a.t("admin.mod-glwd-code-duration"))),o.a.createElement("input",{type:"number",min:"1",step:"1",className:this.state.errorList["code-duration"]?"form-control is-invalid":"form-control",id:"mod-glwd-code-duration",onChange:function(e){return r.changeNumberParam(e,"code-duration")},value:this.state.mod.parameters["code-duration"],placeholder:i.a.t("admin.mod-glwd-code-duration-ph")})),this.state.errorList["code-duration"]?o.a.createElement("span",{className:"error-input"},this.state.errorList["code-duration"]):""),o.a.createElement("div",{className:"form-group form-check"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-refresh-token-rolling",onChange:function(e){return r.toggleParam(e,"refresh-token-rolling")},checked:this.state.mod.parameters["refresh-token-rolling"]}),o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-refresh-token-rolling"},i.a.t("admin.mod-glwd-refresh-token-rolling"))),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-refresh-token-one-use"},i.a.t("admin.mod-glwd-refresh-token-one-use"))),o.a.createElement("div",{className:"dropdown"},o.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-glwd-refresh-token-one-use","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.mod-glwd-refresh-token-one-use-"+this.state.mod.parameters["refresh-token-one-use"])),o.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-glwd-refresh-token-one-use"},o.a.createElement("a",{className:"dropdown-item"+("never"===this.state.mod.parameters["refresh-token-one-use"]?" active":""),href:"#",onClick:function(e){return r.changeParamWithValue("refresh-token-one-use","never")}},i.a.t("admin.mod-glwd-refresh-token-one-use-never")),o.a.createElement("a",{className:"dropdown-item"+("always"===this.state.mod.parameters["refresh-token-one-use"]?" active":""),href:"#",onClick:function(e){return r.changeParamWithValue("refresh-token-one-use","always")}},i.a.t("admin.mod-glwd-refresh-token-one-use-always")),o.a.createElement("a",{className:"dropdown-item"+("client-driven"===this.state.mod.parameters["refresh-token-one-use"]?" active":""),href:"#",onClick:function(e){return r.changeParamWithValue("refresh-token-one-use","client-driven")}},i.a.t("admin.mod-glwd-refresh-token-one-use-client-driven")))))),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-client-refresh-token-one-use-parameter"},i.a.t("admin.mod-glwd-client-refresh-token-one-use-parameter"))),o.a.createElement("input",{type:"text",className:"form-control",id:"mod-glwd-client-refresh-token-one-use-parameter-parameter",onChange:function(e){return r.changeParam(e,"client-refresh-token-one-use-parameter")},value:this.state.mod.parameters["client-refresh-token-one-use-parameter"],placeholder:i.a.t("admin.mod-glwd-client-refresh-token-one-use-parameter-ph"),disabled:"client-driven"!==this.state.mod.parameters["refresh-token-one-use"]}))))))),o.a.createElement("div",{className:"accordion",id:"accordionAuthType"},o.a.createElement("div",{className:"card"},o.a.createElement("div",{className:"card-header",id:"addParamCard"},o.a.createElement("h2",{className:"mb-0"},o.a.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseAuthType","aria-expanded":"true","aria-controls":"collapseAuthType"},this.state.errorList.token?o.a.createElement("span",{className:"error-input btn-icon"},o.a.createElement("i",{className:"fas fa-exclamation-circle"})):"",i.a.t("admin.mod-glwd-auth-type-title")))),o.a.createElement("div",{id:"collapseAuthType",className:"collapse","aria-labelledby":"addParamCard","data-parent":"#accordionAuthType"},o.a.createElement("div",{className:"card-body"},o.a.createElement("div",{className:"form-group form-check"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-allow-non-oidc",onChange:function(e){return r.toggleParam(e,"allow-non-oidc")},checked:this.state.mod.parameters["allow-non-oidc"]}),o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-allow-non-oidc"},i.a.t("admin.mod-glwd-allow-non-oidc"))),o.a.createElement("div",{className:"form-group form-check"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-auth-type-code-enabled",onChange:function(e){return r.toggleParam(e,"auth-type-code-enabled")},checked:this.state.mod.parameters["auth-type-code-enabled"]}),o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-auth-type-code-enabled"},i.a.t("admin.mod-glwd-auth-type-code-enabled"))),o.a.createElement("div",{className:"form-group row"},o.a.createElement("div",{className:"col-sm-1"}),o.a.createElement("div",{className:"col-sm-11"},o.a.createElement("div",{className:"form-check"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-auth-type-code-revoke-replayed",onChange:function(e){return r.toggleParam(e,"auth-type-code-revoke-replayed")},disabled:!this.state.mod.parameters["auth-type-code-enabled"],checked:this.state.mod.parameters["auth-type-code-revoke-replayed"]}),o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-auth-type-code-revoke-replayed"},i.a.t("admin.mod-glwd-auth-type-code-revoke-replayed"))))),o.a.createElement("div",{className:"form-group form-check"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-auth-type-token-enabled",onChange:function(e){return r.toggleParam(e,"auth-type-token-enabled")},checked:this.state.mod.parameters["auth-type-token-enabled"]}),o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-auth-type-token-enabled"},i.a.t("admin.mod-glwd-auth-type-token-enabled"))),o.a.createElement("div",{className:"form-group form-check"},o.a.createElement("input",{disabled:!0,type:"checkbox",className:"form-check-input",id:"mod-glwd-auth-type-id-token-enabled",onChange:function(e){return r.toggleParam(e,"auth-type-id-token-enabled")},checked:this.state.mod.parameters["auth-type-id-token-enabled"]}),o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-auth-type-id-token-enabled"},i.a.t("admin.mod-glwd-auth-type-id-token-enabled"))),o.a.createElement("div",{className:"form-group form-check"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-auth-type-none-enabled",onChange:function(e){return r.toggleParam(e,"auth-type-none-enabled")},checked:this.state.mod.parameters["auth-type-none-enabled"]}),o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-auth-type-none-enabled"},i.a.t("admin.mod-glwd-auth-type-none-enabled"))),o.a.createElement("div",{className:"form-group form-check"},o.a.createElement("input",{type:"checkbox",disabled:!this.state.mod.parameters["allow-non-oidc"],className:"form-check-input",id:"mod-glwd-auth-type-password-enabled",onChange:function(e){return r.toggleParam(e,"auth-type-password-enabled")},checked:this.state.mod.parameters["auth-type-password-enabled"]}),o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-auth-type-password-enabled"},i.a.t("admin.mod-glwd-auth-type-password-enabled"))),o.a.createElement("div",{className:"form-group form-check"},o.a.createElement("input",{type:"checkbox",disabled:!this.state.mod.parameters["allow-non-oidc"],className:"form-check-input",id:"mod-glwd-auth-type-client-enabled",onChange:function(e){return r.toggleParam(e,"auth-type-client-enabled")},checked:this.state.mod.parameters["auth-type-client-enabled"]}),o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-auth-type-client-enabled"},i.a.t("admin.mod-glwd-auth-type-client-enabled"))),o.a.createElement("div",{className:"form-group form-check"},o.a.createElement("input",{type:"checkbox",disabled:!this.state.mod.parameters["allow-non-oidc"],className:"form-check-input",id:"mod-glwd-auth-type-device-enabled",onChange:function(e){return r.toggleParam(e,"auth-type-device-enabled")},checked:this.state.mod.parameters["auth-type-device-enabled"]}),o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-auth-type-device-enabled"},i.a.t("admin.mod-glwd-auth-type-device-enabled"))),o.a.createElement("div",{className:"form-group form-check"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-auth-type-refresh-enabled",onChange:function(e){return r.toggleParam(e,"auth-type-refresh-enabled")},checked:this.state.mod.parameters["auth-type-refresh-enabled"]}),o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-auth-type-refresh-enabled"},i.a.t("admin.mod-glwd-auth-type-refresh-enabled"))))))),o.a.createElement("div",{className:"accordion",id:"accordionOpenidConfig"},o.a.createElement("div",{className:"card"},o.a.createElement("div",{className:"card-header",id:"addParamCard"},o.a.createElement("h2",{className:"mb-0"},o.a.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseOpenidConfig","aria-expanded":"true","aria-controls":"collapseOpenidConfig"},this.state.errorList.configuration?o.a.createElement("span",{className:"error-input btn-icon"},o.a.createElement("i",{className:"fas fa-exclamation-circle"})):"",i.a.t("admin.mod-glwd-openid-configuration-title")))),o.a.createElement("div",{id:"collapseOpenidConfig",className:"collapse","aria-labelledby":"addParamCard","data-parent":"#accordionOpenidConfig"},o.a.createElement("div",{className:"card-body"},o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-service-documentation"},i.a.t("admin.mod-glwd-service-documentation"))),o.a.createElement("input",{type:"text",className:"form-control",id:"mod-glwd-service-documentation",onChange:function(e){return r.changeParam(e,"service-documentation")},value:this.state.mod.parameters["service-documentation"],placeholder:i.a.t("admin.mod-glwd-service-documentation-ph")}))),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-op-policy-uri"},i.a.t("admin.mod-glwd-op-policy-uri"))),o.a.createElement("input",{type:"text",className:"form-control",id:"mod-glwd-op-policy-uri",onChange:function(e){return r.changeParam(e,"op-policy-uri")},value:this.state.mod.parameters["op-policy-uri"],placeholder:i.a.t("admin.mod-glwd-op-policy-uri-ph")}))),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-op-tos-uri"},i.a.t("admin.mod-glwd-op-tos-uri"))),o.a.createElement("input",{type:"text",className:"form-control",id:"mod-glwd-op-tos-uri",onChange:function(e){return r.changeParam(e,"op-tos-uri")},value:this.state.mod.parameters["op-tos-uri"],placeholder:i.a.t("admin.mod-glwd-op-tos-uri-ph")}))),o.a.createElement("hr",null),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("h5",null,i.a.t("admin.mod-glwd-jwks-title"))))),o.a.createElement("div",{className:"form-group form-check"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-jwks-show",onChange:function(e){return r.toggleParam(e,"jwks-show")},checked:this.state.mod.parameters["jwks-show"]}),o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-jwks-show"},i.a.t("admin.mod-glwd-jwks-show"))),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-jwks-x5c"},i.a.t("admin.mod-glwd-jwks-x5c"))),o.a.createElement("div",{className:"custom-file"},o.a.createElement("input",{disabled:!this.state.mod.parameters["jwks-show"],type:"file",className:"custom-file-input",id:"mod-glwd-jwks-x5c",onChange:function(e){return r.uploadX5cFile(e)}}),o.a.createElement("label",{className:"custom-file-label",htmlFor:"mod-glwd-jwks-x5c"},i.a.t("admin.choose-file")))),c))))),o.a.createElement("div",{className:"accordion",id:"accordionScope"},o.a.createElement("div",{className:"card"},o.a.createElement("div",{className:"card-header",id:"dataFormatCard"},o.a.createElement("h2",{className:"mb-0"},o.a.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseDataFormat","aria-expanded":"true","aria-controls":"collapseDataFormat"},this.state.errorList["scope-override"]?o.a.createElement("span",{className:"error-input btn-icon"},o.a.createElement("i",{className:"fas fa-exclamation-circle"})):"",i.a.t("admin.mod-glwd-scope-override")))),o.a.createElement("div",{id:"collapseDataFormat",className:"collapse","aria-labelledby":"dataFormatCard","data-parent":"#accordionScope"},o.a.createElement("div",{className:"card-body"},o.a.createElement("p",null,i.a.t("admin.mod-glwd-scope-override-message")),o.a.createElement("div",{className:"btn-group",role:"group"},o.a.createElement("div",{className:"btn-group",role:"group"},g),o.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.addScopeOverride,title:i.a.t("admin.mod-glwd-scope-add")},o.a.createElement("i",{className:"fas fa-plus"}))),n)))),o.a.createElement("div",{className:"accordion",id:"accordionAddParam"},o.a.createElement("div",{className:"card"},o.a.createElement("div",{className:"card-header",id:"addParamCard"},o.a.createElement("h2",{className:"mb-0"},o.a.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseAdditionalParam","aria-expanded":"true","aria-controls":"collapseAdditionalParam"},this.state.errorList["additional-parameters"]?o.a.createElement("span",{className:"error-input btn-icon"},o.a.createElement("i",{className:"fas fa-exclamation-circle"})):"",i.a.t("admin.mod-glwd-additional-parameter")))),o.a.createElement("div",{id:"collapseAdditionalParam",className:"collapse","aria-labelledby":"addParamCard","data-parent":"#accordionAddParam"},o.a.createElement("div",{className:"card-body"},o.a.createElement("p",null,i.a.t("admin.mod-glwd-additional-parameter-message")),o.a.createElement("div",{className:"btn-group",role:"group"},o.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.addAdditionalParameter,title:i.a.t("admin.mod-glwd-additional-parameter-add")},o.a.createElement("i",{className:"fas fa-plus"}))),l)))),o.a.createElement("div",{className:"accordion",id:"accordionAddClaim"},o.a.createElement("div",{className:"card"},o.a.createElement("div",{className:"card-header",id:"addParamCard"},o.a.createElement("h2",{className:"mb-0"},o.a.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseAddClaim","aria-expanded":"true","aria-controls":"collapseAddParam"},this.state.errorList.claims?o.a.createElement("span",{className:"error-input btn-icon"},o.a.createElement("i",{className:"fas fa-exclamation-circle"})):"",i.a.t("admin.mod-glwd-claims")))),o.a.createElement("div",{id:"collapseAddClaim",className:"collapse","aria-labelledby":"addClaimCard","data-parent":"#accordionAddClaim"},o.a.createElement("div",{className:"card-body"},o.a.createElement("p",null,i.a.t("admin.mod-glwd-claims-message")),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-name-claim"},i.a.t("admin.mod-glwd-name-claim"))),o.a.createElement("div",{className:"dropdown"},o.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-mod-glwd-name-claim","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.mod-glwd-name-email-claim-"+this.state.mod.parameters["name-claim"])),o.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-glwd-name-email-claim"},o.a.createElement("a",{className:"dropdown-item"+("no"===this.state.mod.parameters["name-claim"]?" active":""),href:"#",onClick:function(e){return r.changeParamWithValue("name-claim","no")}},i.a.t("admin.mod-glwd-name-email-claim-no")),o.a.createElement("a",{className:"dropdown-item"+("on-demand"===this.state.mod.parameters["name-claim"]?" active":""),href:"#",onClick:function(e){return r.changeParamWithValue("name-claim","on-demand")}},i.a.t("admin.mod-glwd-name-email-claim-on-demand")),o.a.createElement("a",{className:"dropdown-item"+("mandatory"===this.state.mod.parameters["name-claim"]?" active":""),href:"#",onClick:function(e){return r.changeParamWithValue("name-claim","mandatory")}},i.a.t("admin.mod-glwd-name-email-claim-mandatory")))))),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-name-scope"},i.a.t("admin.mod-glwd-name-scope"))),o.a.createElement("div",{className:"dropdown"},o.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-mod-glwd-name-scope","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.mod-glwd-name-email-scope-select")),o.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-glwd-name-scope-claim"},v)),E)),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-email-claim"},i.a.t("admin.mod-glwd-email-claim"))),o.a.createElement("div",{className:"dropdown"},o.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-mod-glwd-email-claim","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.mod-glwd-name-email-claim-"+this.state.mod.parameters["email-claim"])),o.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-glwd-name-email-claim"},o.a.createElement("a",{className:"dropdown-item"+("no"===this.state.mod.parameters["email-claim"]?" active":""),href:"#",onClick:function(e){return r.changeParamWithValue("email-claim","no")}},i.a.t("admin.mod-glwd-name-email-claim-no")),o.a.createElement("a",{className:"dropdown-item"+("on-demand"===this.state.mod.parameters["email-claim"]?" active":""),href:"#",onClick:function(e){return r.changeParamWithValue("email-claim","on-demand")}},i.a.t("admin.mod-glwd-name-email-claim-on-demand")),o.a.createElement("a",{className:"dropdown-item"+("mandatory"===this.state.mod.parameters["email-claim"]?" active":""),href:"#",onClick:function(e){return r.changeParamWithValue("email-claim","mandatory")}},i.a.t("admin.mod-glwd-name-email-claim-mandatory")))))),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-name-scope"},i.a.t("admin.mod-glwd-email-scope"))),o.a.createElement("div",{className:"dropdown"},o.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-mod-glwd-name-scope","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.mod-glwd-name-email-scope-select")),o.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-glwd-name-scope-claim"},w)),N)),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-scope-claim"},i.a.t("admin.mod-glwd-scope-claim"))),o.a.createElement("div",{className:"dropdown"},o.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-mod-glwd-scope-claim","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.mod-glwd-name-email-claim-"+this.state.mod.parameters["scope-claim"])),o.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-glwd-name-email-claim"},o.a.createElement("a",{className:"dropdown-item"+("no"===this.state.mod.parameters["scope-claim"]?" active":""),href:"#",onClick:function(e){return r.changeParamWithValue("scope-claim","no")}},i.a.t("admin.mod-glwd-name-email-claim-no")),o.a.createElement("a",{className:"dropdown-item"+("on-demand"===this.state.mod.parameters["scope-claim"]?" active":""),href:"#",onClick:function(e){return r.changeParamWithValue("scope-claim","on-demand")}},i.a.t("admin.mod-glwd-name-email-claim-on-demand")),o.a.createElement("a",{className:"dropdown-item"+("mandatory"===this.state.mod.parameters["scope-claim"]?" active":""),href:"#",onClick:function(e){return r.changeParamWithValue("scope-claim","mandatory")}},i.a.t("admin.mod-glwd-name-email-claim-mandatory")))))),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-scope-scope"},i.a.t("admin.mod-glwd-scope-scope"))),o.a.createElement("div",{className:"dropdown"},o.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-mod-glwd-scope-scope","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.mod-glwd-name-email-scope-select")),o.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-glwd-scope-scope-claim"},k)),C)),o.a.createElement("div",{className:"btn-group",role:"group"},o.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.addClaim,title:i.a.t("admin.mod-glwd-claim-add")},o.a.createElement("i",{className:"fas fa-plus"}))),m)))),o.a.createElement("div",{className:"accordion",id:"accordionAddressClaim"},o.a.createElement("div",{className:"card"},o.a.createElement("div",{className:"card-header",id:"addParamCard"},o.a.createElement("h2",{className:"mb-0"},o.a.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseAddressClaim","aria-expanded":"true","aria-controls":"collapseAddressClaim"},i.a.t("admin.mod-glwd-address-claim")))),o.a.createElement("div",{id:"collapseAddressClaim",className:"collapse","aria-labelledby":"addressClaimCard","data-parent":"#accordionAddressClaim"},o.a.createElement("div",{className:"card-body"},o.a.createElement("p",null,i.a.t("admin.mod-glwd-address-claim-message")),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-mod-glwd-address-claim"},i.a.t("admin.mod-glwd-address-claim-use"))),o.a.createElement("div",{className:"dropdown"},o.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-mod-glwd-address-claim","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.mod-glwd-name-email-claim-"+this.state.mod.parameters["address-claim"].type)),o.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-glwd-address-claim"},o.a.createElement("a",{className:"dropdown-item"+("no"===this.state.mod.parameters["address-claim"]?" active":""),href:"#",onClick:function(e){return r.changeAddressClaim(e,"no")}},i.a.t("admin.mod-glwd-name-email-claim-no")),o.a.createElement("a",{className:"dropdown-item"+("on-demand"===this.state.mod.parameters["address-claim"]?" active":""),href:"#",onClick:function(e){return r.changeAddressClaim(e,"on-demand")}},i.a.t("admin.mod-glwd-name-email-claim-on-demand")),o.a.createElement("a",{className:"dropdown-item"+("mandatory"===this.state.mod.parameters["address-claim"]?" active":""),href:"#",onClick:function(e){return r.changeAddressClaim(e,"mandatory")}},i.a.t("admin.mod-glwd-name-email-claim-mandatory")))))),a)))),o.a.createElement("div",{className:"accordion",id:"accordionJwtRequestPubkey"},o.a.createElement("div",{className:"card"},o.a.createElement("div",{className:"card-header",id:"addParamCard"},o.a.createElement("h2",{className:"mb-0"},o.a.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseJwtRequestPubkey","aria-expanded":"true","aria-controls":"collapseJwtRequestPubkey"},i.a.t("admin.mod-glwd-jwt-request-pubkey")))),o.a.createElement("div",{id:"collapseJwtRequestPubkey",className:"collapse","aria-labelledby":"addressClaimCard","data-parent":"#accordionJwtRequestPubkey"},o.a.createElement("div",{className:"card-body"},o.a.createElement("div",{className:"form-group form-check"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-request-parameter-allow",onChange:function(e){return r.toggleParam(e,"request-parameter-allow")},checked:this.state.mod.parameters["request-parameter-allow"]}),o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-request-parameter-allow"},i.a.t("admin.mod-glwd-request-parameter-allow"))),o.a.createElement("div",{className:"form-group form-check"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-request-parameter-ietf-strict",onChange:function(e){return r.toggleParam(e,"request-parameter-ietf-strict")},checked:this.state.mod.parameters["request-parameter-ietf-strict"]}),o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-request-parameter-ietf-strict"},i.a.t("admin.mod-glwd-request-parameter-ietf-strict"))),o.a.createElement("div",{className:"form-group form-check"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-request-parameter-allow-encrypted",onChange:function(e){return r.toggleParam(e,"request-parameter-allow-encrypted")},checked:this.state.mod.parameters["request-parameter-allow-encrypted"]}),o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-request-parameter-allow-encrypted"},i.a.t("admin.mod-glwd-request-parameter-allow-encrypted"))),o.a.createElement("div",{className:"form-group form-check"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-request-uri-allow-https-non-secure",onChange:function(e){return r.toggleParam(e,"request-uri-allow-https-non-secure")},checked:this.state.mod.parameters["request-uri-allow-https-non-secure"]}),o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-request-uri-allow-https-non-secure"},i.a.t("admin.mod-glwd-request-uri-allow-https-non-secure"))),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-jwt-request-maximum-exp"},i.a.t("admin.mod-glwd-jwt-request-maximum-exp"))),o.a.createElement("input",{type:"number",min:"1",step:"1",className:"form-control",id:"mod-glwd-jwt-request-maximum-exp",onChange:function(e){return r.changeNumberParam(e,"request-maximum-exp",1)},value:this.state.mod.parameters["request-maximum-exp"],placeholder:i.a.t("admin.mod-glwd-jwt-request-maximum-exp-ph")}))),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-jwt-request-pubkey-client-pubkey-parameter"},i.a.t("admin.mod-glwd-jwt-request-pubkey-client-pubkey-parameter"))),o.a.createElement("input",{type:"text",className:"form-control",id:"mod-glwd-jwt-request-pubkey-client-pubkey-parameter",onChange:function(e){return r.changeParam(e,"client-pubkey-parameter")},value:this.state.mod.parameters["client-pubkey-parameter"],placeholder:i.a.t("admin.mod-glwd-jwt-request-pubkey-client-pubkey-parameter-ph")}))),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-jwt-request-pubkey-client-jwks-parameter"},i.a.t("admin.mod-glwd-jwt-request-pubkey-client-jwks-parameter"))),o.a.createElement("input",{type:"text",className:"form-control",id:"mod-glwd-jwt-request-pubkey-client-jwks-parameter",onChange:function(e){return r.changeParam(e,"client-jwks-parameter")},value:this.state.mod.parameters["client-jwks-parameter"],placeholder:i.a.t("admin.mod-glwd-jwt-request-pubkey-client-jwks-parameter-ph")}))),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-jwt-request-pubkey-client-jwks_uri-parameter"},i.a.t("admin.mod-glwd-jwt-request-pubkey-client-jwks_uri-parameter"))),o.a.createElement("input",{type:"text",className:"form-control",id:"mod-glwd-jwt-request-pubkey-client-jwks_uri-parameter",onChange:function(e){return r.changeParam(e,"client-jwks_uri-parameter")},value:this.state.mod.parameters["client-jwks_uri-parameter"],placeholder:i.a.t("admin.mod-glwd-jwt-request-pubkey-client-jwks_uri-parameter-ph")}))))))),o.a.createElement("div",{className:"accordion",id:"accordionEncryptOutToken"},o.a.createElement("div",{className:"card"},o.a.createElement("div",{className:"card-header",id:"addParamCard"},o.a.createElement("h2",{className:"mb-0"},o.a.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseEncryptOutToken","aria-expanded":"true","aria-controls":"collapseEncryptOutToken"},i.a.t("admin.mod-glwd-jwt-request-encrypt-out-tokens")))),o.a.createElement("div",{id:"collapseEncryptOutToken",className:"collapse","aria-labelledby":"addressClaimCard","data-parent":"#accordionEncryptOutToken"},o.a.createElement("div",{className:"card-body"},o.a.createElement("div",{className:"form-group form-check"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-encrypt-out-token-allow",onChange:function(e){return r.toggleParam(e,"encrypt-out-token-allow")},checked:this.state.mod.parameters["encrypt-out-token-allow"]}),o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-encrypt-out-token-allow"},i.a.t("admin.mod-glwd-encrypt-out-token-allow"))),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-jwt-request-client-enc-parameter"},i.a.t("admin.mod-glwd-jwt-request-client-enc-parameter"))),o.a.createElement("input",{type:"text",className:"form-control",id:"mod-glwd-jwt-request-client-enc-parameter",onChange:function(e){return r.changeParam(e,"client-enc-parameter")},value:this.state.mod.parameters["client-enc-parameter"],placeholder:i.a.t("admin.mod-glwd-jwt-request-client-enc-parameter-ph"),disabled:!this.state.mod.parameters["encrypt-out-token-allow"]}))),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-jwt-request-client-alg-parameter"},i.a.t("admin.mod-glwd-jwt-request-client-alg-parameter"))),o.a.createElement("input",{type:"text",className:"form-control",id:"mod-glwd-jwt-request-client-alg-parameter",onChange:function(e){return r.changeParam(e,"client-alg-parameter")},value:this.state.mod.parameters["client-alg-parameter"],placeholder:i.a.t("admin.mod-glwd-jwt-request-client-alg-parameter-ph"),disabled:!this.state.mod.parameters["encrypt-out-token-allow"]}))),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-jwt-request-client-alg_kid-parameter"},i.a.t("admin.mod-glwd-jwt-request-client-alg_kid-parameter"))),o.a.createElement("input",{type:"text",className:"form-control",id:"mod-glwd-jwt-request-client-alg_kid-parameter",onChange:function(e){return r.changeParam(e,"client-alg_kid-parameter")},value:this.state.mod.parameters["client-alg_kid-parameter"],placeholder:i.a.t("admin.mod-glwd-jwt-request-client-alg_kid-parameter-ph"),disabled:!this.state.mod.parameters["encrypt-out-token-allow"]}))),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-jwt-request-client-encrypt_code-parameter"},i.a.t("admin.mod-glwd-jwt-request-client-encrypt_code-parameter"))),o.a.createElement("input",{type:"text",className:"form-control",id:"mod-glwd-jwt-request-client-encrypt_code-parameter",onChange:function(e){return r.changeParam(e,"client-encrypt_code-parameter")},value:this.state.mod.parameters["client-encrypt_code-parameter"],placeholder:i.a.t("admin.mod-glwd-jwt-request-client-encrypt_code-parameter-ph"),disabled:!this.state.mod.parameters["encrypt-out-token-allow"]}))),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-jwt-request-client-encrypt_at-parameter"},i.a.t("admin.mod-glwd-jwt-request-client-encrypt_at-parameter"))),o.a.createElement("input",{type:"text",className:"form-control",id:"mod-glwd-jwt-request-client-encrypt_at-parameter",onChange:function(e){return r.changeParam(e,"client-encrypt_at-parameter")},value:this.state.mod.parameters["client-encrypt_at-parameter"],placeholder:i.a.t("admin.mod-glwd-jwt-request-client-encrypt_at-parameter-ph"),disabled:!this.state.mod.parameters["encrypt-out-token-allow"]}))),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-jwt-request-client-encrypt_userinfo-parameter"},i.a.t("admin.mod-glwd-jwt-request-client-encrypt_userinfo-parameter"))),o.a.createElement("input",{type:"text",className:"form-control",id:"mod-glwd-jwt-request-client-encrypt_userinfo-parameter",onChange:function(e){return r.changeParam(e,"client-encrypt_userinfo-parameter")},value:this.state.mod.parameters["client-encrypt_userinfo-parameter"],placeholder:i.a.t("admin.mod-glwd-jwt-request-client-encrypt_userinfo-parameter-ph"),disabled:!this.state.mod.parameters["encrypt-out-token-allow"]}))),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-jwt-request-client-encrypt_id_token-parameter"},i.a.t("admin.mod-glwd-jwt-request-client-encrypt_id_token-parameter"))),o.a.createElement("input",{type:"text",className:"form-control",id:"mod-glwd-jwt-request-client-encrypt_id_token-parameter",onChange:function(e){return r.changeParam(e,"client-encrypt_id_token-parameter")},value:this.state.mod.parameters["client-encrypt_id_token-parameter"],placeholder:i.a.t("admin.mod-glwd-jwt-request-client-encrypt_id_token-parameter-ph"),disabled:!this.state.mod.parameters["encrypt-out-token-allow"]}))),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-jwt-request-client-encrypt_refresh_token-parameter"},i.a.t("admin.mod-glwd-jwt-request-client-encrypt_refresh_token-parameter"))),o.a.createElement("input",{type:"text",className:"form-control",id:"mod-glwd-jwt-request-client-encrypt_refresh_token-parameter",onChange:function(e){return r.changeParam(e,"client-encrypt_refresh_token-parameter")},value:this.state.mod.parameters["client-encrypt_refresh_token-parameter"],placeholder:i.a.t("admin.mod-glwd-jwt-request-client-encrypt_refresh_token-parameter-ph"),disabled:!this.state.mod.parameters["encrypt-out-token-allow"]}))),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-jwt-request-client-encrypt_introspection-parameter"},i.a.t("admin.mod-glwd-jwt-request-client-encrypt_introspection-parameter"))),o.a.createElement("input",{type:"text",className:"form-control",id:"mod-glwd-jwt-request-client-encrypt_introspection-parameter",onChange:function(e){return r.changeParam(e,"client-encrypt_introspection-parameter")},value:this.state.mod.parameters["client-encrypt_introspection-parameter"],placeholder:i.a.t("admin.mod-glwd-jwt-request-client-encrypt_introspection-parameter-ph"),disabled:!this.state.mod.parameters["encrypt-out-token-allow"]}))))))),o.a.createElement("div",{className:"accordion",id:"accordionPkce"},o.a.createElement("div",{className:"card"},o.a.createElement("div",{className:"card-header",id:"addParamCard"},o.a.createElement("h2",{className:"mb-0"},o.a.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapsePkce","aria-expanded":"true","aria-controls":"collapsePkce"},this.state.errorList.pkce?o.a.createElement("span",{className:"error-input btn-icon"},o.a.createElement("i",{className:"fas fa-exclamation-circle"})):"",i.a.t("admin.mod-glwd-pkce-title")))),o.a.createElement("div",{id:"collapsePkce",className:"collapse","aria-labelledby":"addParamCard","data-parent":"#accordionPkce"},o.a.createElement("div",{className:"card-body"},o.a.createElement("div",{className:"form-group form-check"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-pkce-allowed",onChange:function(e){return r.toggleParam(e,"pkce-allowed")},checked:this.state.mod.parameters["pkce-allowed"]}),o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-pkce-allowed"},i.a.t("admin.mod-glwd-pkce-allowed"))),o.a.createElement("div",{className:"form-group form-check"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-pkce-method-plain-allowed",onChange:function(e){return r.toggleParam(e,"pkce-method-plain-allowed")},checked:this.state.mod.parameters["pkce-method-plain-allowed"],disabled:!this.state.mod.parameters["pkce-allowed"]}),o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-pkce-method-plain-allowed"},i.a.t("admin.mod-glwd-pkce-method-plain-allowed"))),z,o.a.createElement("div",{className:"form-group form-check"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-pkce-required",onChange:function(e){return r.toggleParam(e,"pkce-required")},checked:this.state.mod.parameters["pkce-required"],disabled:!this.state.mod.parameters["pkce-allowed"]}),o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-pkce-required"},i.a.t("admin.mod-glwd-pkce-required"))))))),o.a.createElement("div",{className:"accordion",id:"accordionIntrospect"},o.a.createElement("div",{className:"card"},o.a.createElement("div",{className:"card-header",id:"addParamCard"},o.a.createElement("h2",{className:"mb-0"},o.a.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseIntrospect","aria-expanded":"true","aria-controls":"collapseIntrospect"},this.state.errorList["introspection-revocation"]?o.a.createElement("span",{className:"error-input btn-icon"},o.a.createElement("i",{className:"fas fa-exclamation-circle"})):"",i.a.t("admin.mod-glwd-introspection-revocation-title")))),o.a.createElement("div",{id:"collapseIntrospect",className:"collapse","aria-labelledby":"addParamCard","data-parent":"#accordionIntrospect"},o.a.createElement("div",{className:"card-body"},this.state.errorList["introspection-revocation"]?o.a.createElement("span",{className:"error-input"},i.a.t(this.state.errorList["introspection-revocation"])):"",o.a.createElement("div",{className:"form-group form-check"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-introspection-revocation-allowed",onChange:function(e){return r.toggleParam(e,"introspection-revocation-allowed")},checked:this.state.mod.parameters["introspection-revocation-allowed"]}),o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-introspection-revocation-allowed"},i.a.t("admin.mod-glwd-introspection-revocation-allowed"))),o.a.createElement("div",{className:"form-group form-check"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-introspection-revocation-allow-target-client",onChange:function(e){return r.toggleParam(e,"introspection-revocation-allow-target-client")},checked:this.state.mod.parameters["introspection-revocation-allow-target-client"],disabled:!this.state.mod.parameters["introspection-revocation-allowed"]}),o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-introspection-revocation-allow-target-client"},i.a.t("admin.mod-glwd-introspection-revocation-allow-target-client"))),o.a.createElement("hr",null),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-default-scope"},i.a.t("admin.mod-glwd-introspection-revocation-scope-required"))),_)))))),o.a.createElement("div",{className:"accordion",id:"accordionRegister"},o.a.createElement("div",{className:"card"},o.a.createElement("div",{className:"card-header",id:"addParamCard"},o.a.createElement("h2",{className:"mb-0"},o.a.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseRegister","aria-expanded":"true","aria-controls":"collapseRegister"},this.state.errorList.registration?o.a.createElement("span",{className:"error-input btn-icon"},o.a.createElement("i",{className:"fas fa-exclamation-circle"})):"",i.a.t("admin.mod-glwd-registration-title")))),o.a.createElement("div",{id:"collapseRegister",className:"collapse","aria-labelledby":"addParamCard","data-parent":"#accordionRegister"},o.a.createElement("div",{className:"card-body"},o.a.createElement("div",{className:"form-group form-check"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-register-client-allowed",onChange:function(e){return r.toggleParam(e,"register-client-allowed")},checked:this.state.mod.parameters["register-client-allowed"]}),o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-register-client-allowed"},i.a.t("admin.mod-glwd-register-client-allowed"))),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-default-scope"},i.a.t("admin.mod-glwd-register-client-auth-scope"))),R)),o.a.createElement("hr",null),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-default-scope"},i.a.t("admin.mod-glwd-register-client-credentials-scope"))),T)),o.a.createElement("div",{className:"form-group form-check"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-register-client-token-one-use",onChange:function(e){return r.toggleParam(e,"register-client-token-one-use")},checked:this.state.mod.parameters["register-client-token-one-use"],disabled:!this.state.mod.parameters["register-client-allowed"]}),o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-register-client-token-one-use"},i.a.t("admin.mod-glwd-register-client-token-one-use"))),o.a.createElement("div",{className:"form-group form-check"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-register-client-management-allowed",onChange:function(e){return r.toggleParam(e,"register-client-management-allowed")},checked:this.state.mod.parameters["register-client-management-allowed"],disabled:!this.state.mod.parameters["register-client-allowed"]}),o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-register-client-management-allowed"},i.a.t("admin.mod-glwd-register-client-management-allowed"))),o.a.createElement("hr",null),o.a.createElement("div",{className:"form-group form-check"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-register-resource-specify-allowed",onChange:function(e){return r.toggleParam(e,"register-resource-specify-allowed")},checked:this.state.mod.parameters["register-resource-specify-allowed"],disabled:!this.state.mod.parameters["register-client-allowed"]}),o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-register-resource-specify-allowed"},i.a.t("admin.mod-glwd-register-resource-specify-allowed"))),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("span",{className:"input-group-text"},i.a.t("admin.mod-glwd-register-resource-default"))),o.a.createElement("textarea",{className:"form-control",id:"mod-register-resource-default",onChange:function(e){return r.changeRegisterResourceDefaultUrls(e)},placeholder:i.a.t("admin.mod-glwd-register-resource-default-ph"),disabled:!this.state.mod.parameters["register-client-allowed"]||this.state.mod.parameters["register-resource-specify-allowed"],value:this.state.mod.parameters["register-resource-default"].join("\n")}))),o.a.createElement("hr",null),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("p",null,i.a.t("admin.mod-glwd-register-default-properties"))))),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"btn-group",role:"group"},o.a.createElement("div",{className:"btn-group",role:"group"},o.a.createElement("div",{className:"dropdown"},o.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-mod-glwd-register-default-properties-add","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:!this.state.mod.parameters["register-client-allowed"]},this.state.newDefaultProperty?i.a.t(this.state.newDefaultProperty.label):i.a.t("admin.mod-glwd-register-default-properties-btn")),o.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-glwd-register-default-properties-add"},S))),o.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.addDefaultProperty,title:i.a.t("admin.mod-glwd-register-default-properties-add"),disabled:!this.state.newDefaultProperty||!this.state.mod.parameters["register-client-allowed"]},o.a.createElement("i",{className:"fas fa-plus"}))),P,this.state.errorList["register-default-properties"]?o.a.createElement("span",{className:"error-input"},i.a.t(this.state.errorList["register-default-properties"])):""))))),o.a.createElement("div",{className:"accordion",id:"accordionSessionManagement"},o.a.createElement("div",{className:"card"},o.a.createElement("div",{className:"card-header",id:"addParamCard"},o.a.createElement("h2",{className:"mb-0"},o.a.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseSessionManagement","aria-expanded":"true","aria-controls":"collapseSessionManagement"},i.a.t("admin.mod-glwd-session-management-title")))),o.a.createElement("div",{id:"collapseSessionManagement",className:"collapse","aria-labelledby":"addParamCard","data-parent":"#accordionSessionManagement"},o.a.createElement("div",{className:"card-body"},o.a.createElement("div",{className:"form-group form-check"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-session-management-allowed",onChange:function(e){return r.toggleParam(e,"session-management-allowed")},checked:this.state.mod.parameters["session-management-allowed"]}),o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-session-management-allowed"},i.a.t("admin.mod-glwd-session-management-allowed"))))))),o.a.createElement("div",{className:"accordion",id:"accordionDeviceAuthorization"},o.a.createElement("div",{className:"card"},o.a.createElement("div",{className:"card-header",id:"addParamCard"},o.a.createElement("h2",{className:"mb-0"},o.a.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseDeviceAuthorization","aria-expanded":"true","aria-controls":"collapseDeviceAuthorization"},i.a.t("admin.mod-glwd-device-authorization-title")))),o.a.createElement("div",{id:"collapseDeviceAuthorization",className:"collapse","aria-labelledby":"addParamCard","data-parent":"#accordionDeviceAuthorization"},o.a.createElement("div",{className:"card-body"},o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-device-authorization-expiration"},i.a.t("admin.mod-glwd-device-authorization-expiration"))),o.a.createElement("input",{type:"number",min:"1",step:"1",className:"form-control",id:"mod-glwd-device-authorization-expiration",onChange:function(e){return r.changeNumberParam(e,"device-authorization-expiration")},value:this.state.mod.parameters["device-authorization-expiration"],placeholder:i.a.t("admin.mod-glwd-device-authorization-expiration-ph"),disabled:!this.state.mod.parameters["auth-type-device-enabled"]}))),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-device-authorization-interval"},i.a.t("admin.mod-glwd-device-authorization-interval"))),o.a.createElement("input",{type:"number",min:"1",step:"1",className:"form-control",id:"mod-glwd-device-authorization-interval",onChange:function(e){return r.changeNumberParam(e,"device-authorization-interval")},value:this.state.mod.parameters["device-authorization-interval"],placeholder:i.a.t("admin.mod-glwd-device-authorization-interval-ph"),disabled:!this.state.mod.parameters["auth-type-device-enabled"]}))))))),o.a.createElement("div",{className:"accordion",id:"accordionMtlsClient"},o.a.createElement("div",{className:"card"},o.a.createElement("div",{className:"card-header",id:"addParamCard"},o.a.createElement("h2",{className:"mb-0"},o.a.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseMtlsClient","aria-expanded":"true","aria-controls":"collapseMtlsClient"},i.a.t("admin.mod-glwd-mtls-client-title")))),o.a.createElement("div",{id:"collapseMtlsClient",className:"collapse","aria-labelledby":"addParamCard","data-parent":"#accordionMtlsClient"},o.a.createElement("div",{className:"card-body"},o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-mod-glwd-mtls-client-source"},i.a.t("admin.mod-glwd-mtls-client-source"))),o.a.createElement("div",{className:"dropdown"},o.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-mod-glwd-mtls-client-source","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.mod-glwd-mtls-client-source-"+(this.state.mod.parameters["client-cert-source"]?this.state.mod.parameters["client-cert-source"]:"no"))),o.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-glwd-mtls-client-source"},o.a.createElement("a",{className:"dropdown-item"+(this.state.mod.parameters["client-cert-source"]?"":" active"),href:"#",onClick:function(e){return r.changeMtlsClientSource(e,!1)}},i.a.t("admin.mod-glwd-mtls-client-source-no")),o.a.createElement("a",{className:"dropdown-item"+("TLS"===this.state.mod.parameters["client-cert-source"]?" active":""),href:"#",onClick:function(e){return r.changeMtlsClientSource(e,"TLS")}},i.a.t("admin.mod-glwd-mtls-client-source-TLS")),o.a.createElement("a",{className:"dropdown-item"+("header"===this.state.mod.parameters["client-cert-source"]?" active":""),href:"#",onClick:function(e){return r.changeMtlsClientSource(e,"header")}},i.a.t("admin.mod-glwd-mtls-client-source-header")),o.a.createElement("a",{className:"dropdown-item"+("both"===this.state.mod.parameters["client-cert-source"]?" active":""),href:"#",onClick:function(e){return r.changeMtlsClientSource(e,"both")}},i.a.t("admin.mod-glwd-mtls-client-source-both")))))),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-mtls-client-cert-header-name"},i.a.t("admin.mod-glwd-mtls-client-cert-header-name"))),o.a.createElement("input",{type:"text",className:"form-control",id:"mod-glwd-mtls-client-cert-header-name",onChange:function(e){return r.changeParam(e,"client-cert-header-name")},value:this.state.mod.parameters["client-cert-header-name"],placeholder:i.a.t("admin.mod-glwd-mtls-client-cert-header-name-ph"),disabled:!this.state.mod.parameters["client-cert-source"]||"TLS"===this.state.mod.parameters["client-cert-source"]}))),o.a.createElement("div",{className:"form-group form-check"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-mtls-client-cert-use-endpoint-aliases",onChange:function(e){return r.toggleParam(e,"client-cert-use-endpoint-aliases")},checked:this.state.mod.parameters["client-cert-use-endpoint-aliases"],disabled:!this.state.mod.parameters["client-cert-source"]}),o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-mtls-client-cert-use-endpoint-aliases"},i.a.t("admin.mod-glwd-mtls-client-cert-use-endpoint-aliases"))),o.a.createElement("div",{className:"form-group form-check"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-mtls-client-cert-self-signed-allowed",onChange:function(e){return r.toggleParam(e,"client-cert-self-signed-allowed")},checked:this.state.mod.parameters["client-cert-self-signed-allowed"],disabled:!this.state.mod.parameters["client-cert-source"]}),o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-mtls-client-cert-self-signed-allowed"},i.a.t("admin.mod-glwd-mtls-client-cert-self-signed-allowed"))))))),o.a.createElement("div",{className:"accordion",id:"accordionDPoP"},o.a.createElement("div",{className:"card"},o.a.createElement("div",{className:"card-header",id:"addParamCard"},o.a.createElement("h2",{className:"mb-0"},o.a.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseDPoP","aria-expanded":"true","aria-controls":"collapseDPoP"},this.state.errorList["oauth-dpop"]?o.a.createElement("span",{className:"error-input btn-icon"},o.a.createElement("i",{className:"fas fa-exclamation-circle"})):"",i.a.t("admin.mod-glwd-oauth-dpop-title")))),o.a.createElement("div",{id:"collapseDPoP",className:"collapse","aria-labelledby":"addParamCard","data-parent":"#accordionDPoP"},o.a.createElement("div",{className:"card-body"},o.a.createElement("div",{className:"form-group form-check"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-oauth-dpop-allowed",onChange:function(e){return r.toggleParam(e,"oauth-dpop-allowed")},checked:this.state.mod.parameters["oauth-dpop-allowed"]}),o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-oauth-dpop-allowed"},i.a.t("admin.mod-glwd-oauth-dpop-allowed"))),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-oauth-dpop-iat-duration"},i.a.t("admin.mod-glwd-oauth-dpop-iat-duration"))),o.a.createElement("input",{type:"number",min:"1",step:"1",className:"form-control",id:"mod-glwd-oauth-dpop-iat-duration",onChange:function(e){return r.changeNumberParam(e,"oauth-dpop-iat-duration")},value:this.state.mod.parameters["oauth-dpop-iat-duration"],placeholder:i.a.t("admin.mod-glwd-oauth-dpop-iat-duration-ph"),disabled:!this.state.mod.parameters["oauth-dpop-allowed"]})),this.state.errorList["oauth-dpop-iat-duration"]?o.a.createElement("span",{className:"error-input"},this.state.errorList["oauth-dpop-iat-duration"]):""))))),o.a.createElement("div",{className:"accordion",id:"accordionResource"},o.a.createElement("div",{className:"card"},o.a.createElement("div",{className:"card-header",id:"addParamCard"},o.a.createElement("h2",{className:"mb-0"},o.a.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseResource","aria-expanded":"true","aria-controls":"collapseResource"},this.state.errorList.resource?o.a.createElement("span",{className:"error-input btn-icon"},o.a.createElement("i",{className:"fas fa-exclamation-circle"})):"",i.a.t("admin.mod-glwd-resource-title")))),o.a.createElement("div",{id:"collapseResource",className:"collapse","aria-labelledby":"addParamCard","data-parent":"#accordionResource"},o.a.createElement("div",{className:"card-body"},this.state.errorList["resource-scope-or-client"]?o.a.createElement("span",{className:"error-input"},this.state.errorList["resource-scope-or-client"]):"",o.a.createElement("div",{className:"form-group form-check"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-resource-allowed",onChange:function(e){return r.toggleParam(e,"resource-allowed")},checked:this.state.mod.parameters["resource-allowed"]}),o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-resource-allowed"},i.a.t("admin.mod-glwd-resource-allowed"))),o.a.createElement("div",{className:"form-group form-check"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-resource-change-allowed",onChange:function(e){return r.toggleParam(e,"resource-change-allowed")},checked:this.state.mod.parameters["resource-change-allowed"],disabled:!this.state.mod.parameters["resource-allowed"]}),o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-resource-change-allowed"},i.a.t("admin.mod-glwd-resource-change-allowed"))),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"btn-group",role:"group"},U,o.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.addResourceScope,title:i.a.t("admin.mod-glwd-resource-scope-add"),disabled:!this.state.newResourceScope||!this.state.mod.parameters["resource-allowed"]},o.a.createElement("i",{className:"fas fa-plus"})))),o.a.createElement("div",{className:"form-group form-check"},o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-resource-allowed"},i.a.t("admin.mod-glwd-resource-scope"))),I,o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"form-check form-check-inline"},o.a.createElement("input",{className:"form-check-input",type:"radio",id:"resourceScopeAndClientFalse",value:this.state.mod.parameters["resource-scope-and-client-property"],checked:!this.state.mod.parameters["resource-scope-and-client-property"],onChange:function(e){return r.toggleParam(e,"resource-scope-and-client-property")},disabled:!this.state.mod.parameters["resource-allowed"]}),o.a.createElement("label",{className:"form-check-label",htmlFor:"resourceScopeAndClientFalse"},i.a.t("admin.mod-glwd-resource-scope-and-client-false"))),o.a.createElement("div",{className:"form-check form-check-inline"},o.a.createElement("input",{className:"form-check-input",type:"radio",id:"resourceScopeAndClientTrue",value:this.state.mod.parameters["resource-scope-and-client-property"],checked:this.state.mod.parameters["resource-scope-and-client-property"],onChange:function(e){return r.toggleParam(e,"resource-scope-and-client-property")},disabled:!this.state.mod.parameters["resource-allowed"]}),o.a.createElement("label",{className:"form-check-label",htmlFor:"resourceScopeAndClientTrue"},i.a.t("admin.mod-glwd-resource-scope-and-client-true")))),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-resource-client-property"},i.a.t("admin.mod-glwd-resource-client-property"))),o.a.createElement("input",{type:"text",className:"form-control",id:"mod-glwd-resource-client-property",onChange:function(e){return r.changeParam(e,"resource-client-property")},value:this.state.mod.parameters["resource-client-property"],placeholder:i.a.t("admin.mod-glwd-resource-client-property-ph"),disabled:!this.state.mod.parameters["resource-allowed"]}))))))),o.a.createElement("div",{className:"accordion",id:"accordionRAR"},o.a.createElement("div",{className:"card"},o.a.createElement("div",{className:"card-header",id:"addParamCard"},o.a.createElement("h2",{className:"mb-0"},o.a.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseRAR","aria-expanded":"true","aria-controls":"collapseRAR"},this.state.errorList["oauth-rar"]?o.a.createElement("span",{className:"error-input btn-icon"},o.a.createElement("i",{className:"fas fa-exclamation-circle"})):"",i.a.t("admin.mod-glwd-oauth-rar-title")))),o.a.createElement("div",{id:"collapseRAR",className:"collapse","aria-labelledby":"addParamCard","data-parent":"#accordionRAR"},o.a.createElement("div",{className:"card-body"},o.a.createElement("div",{className:"form-group form-check"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-oauth-rar-allowed",onChange:function(e){return r.toggleParam(e,"oauth-rar-allowed")},checked:this.state.mod.parameters["oauth-rar-allowed"]}),o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-oauth-rar-allowed"},i.a.t("admin.mod-glwd-oauth-rar-allowed"))),o.a.createElement("div",{className:"form-group form-check"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-rar-allow-auth-unsigned",onChange:function(e){return r.toggleParam(e,"rar-allow-auth-unsigned")},disabled:!this.state.mod.parameters["oauth-rar-allowed"],checked:this.state.mod.parameters["rar-allow-auth-unsigned"]}),o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-rar-allow-auth-unsigned"},i.a.t("admin.mod-glwd-rar-allow-auth-unsigned"))),o.a.createElement("div",{className:"form-group form-check"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-rar-allow-auth-unencrypted",onChange:function(e){return r.toggleParam(e,"rar-allow-auth-unencrypted")},disabled:!this.state.mod.parameters["oauth-rar-allowed"]||this.state.mod.parameters["rar-allow-auth-unsigned"],checked:this.state.mod.parameters["rar-allow-auth-unencrypted"]}),o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-rar-allow-auth-unencrypted"},i.a.t("admin.mod-glwd-rar-allow-auth-unencrypted"))),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-rar-types-client-property"},i.a.t("admin.mod-glwd-rar-types-client-property"))),o.a.createElement("input",{type:"text",className:"form-control",id:"mod-glwd-rar-types-client-property",maxLength:"256",onChange:function(e){return r.changeParam(e,"rar-types-client-property")},value:this.state.mod.parameters["rar-types-client-property"],placeholder:i.a.t("admin.mod-glwd-rar-types-client-property-ph"),disabled:!this.state.mod.parameters["oauth-rar-allowed"]})),this.state.errorList["rar-types-client-property"]?o.a.createElement("span",{className:"error-input"},this.state.errorList["rar-types-client-property"]):""),o.a.createElement("hr",null),this.state.newRarExists?o.a.createElement("span",{className:"error-input"},i.a.t("admin.mod-glwd-new-rar-error")):"",this.state.newRarInvalidChar?o.a.createElement("span",{className:"error-input"},i.a.t("admin.mod-glwd-new-rar-invalid-char")):"",o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("input",{type:"text",className:"form-control",id:"mod-glwd-new-rar",maxLength:"256",placeholder:i.a.t("admin.mod-glwd-new-rar-ph"),value:this.state.newRar,onChange:function(e){return r.setNewRar(e)},disabled:!this.state.mod.parameters["oauth-rar-allowed"]}),o.a.createElement("div",{className:"input-group-append"},o.a.createElement("button",{type:"button",id:"mod-glwd-new-rar-btn",className:"btn btn-secondary",onClick:this.addRAR,title:i.a.t("admin.add"),disabled:!this.state.newRar||!this.state.mod.parameters["oauth-rar-allowed"]||this.state.newRarExists},o.a.createElement("i",{className:"fas fa-plus"})))),q)))),o.a.createElement("div",{className:"accordion",id:"accordionPAR"},o.a.createElement("div",{className:"card"},o.a.createElement("div",{className:"card-header",id:"addParamCard"},o.a.createElement("h2",{className:"mb-0"},o.a.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapsePAR","aria-expanded":"true","aria-controls":"collapsePAR"},i.a.t("admin.mod-glwd-oauth-par-title")))),o.a.createElement("div",{id:"collapsePAR",className:"collapse","aria-labelledby":"addParamCard","data-parent":"#accordionPAR"},o.a.createElement("div",{className:"card-body"},o.a.createElement("div",{className:"form-group form-check"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-oauth-par-allowed",onChange:function(e){return r.toggleParam(e,"oauth-par-allowed")},checked:this.state.mod.parameters["oauth-par-allowed"]}),o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-oauth-par-allowed"},i.a.t("admin.mod-glwd-oauth-par-allowed"))),o.a.createElement("div",{className:"form-group form-check"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-oauth-par-required",onChange:function(e){return r.toggleParam(e,"oauth-par-required")},disabled:!this.state.mod.parameters["oauth-par-allowed"],checked:this.state.mod.parameters["oauth-par-required"]}),o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-oauth-par-required"},i.a.t("admin.mod-glwd-oauth-par-required"))),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-oauth-par-request_uri-prefix"},i.a.t("admin.mod-glwd-oauth-par-request_uri-prefix"))),o.a.createElement("input",{type:"text",className:"form-control",id:"mod-glwd-oauth-par-request_uri-prefix",maxLength:"256",onChange:function(e){return r.changeParam(e,"oauth-par-request_uri-prefix")},value:this.state.mod.parameters["oauth-par-request_uri-prefix"],placeholder:i.a.t("admin.mod-glwd-oauth-par-request_uri-prefix-ph"),disabled:!this.state.mod.parameters["oauth-par-allowed"]}))),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-oauth-par-duration"},i.a.t("admin.mod-glwd-oauth-par-duration"))),o.a.createElement("input",{type:"number",min:"1",step:"1",className:"form-control",id:"mod-glwd-oauth-par-duration",onChange:function(e){return r.changeNumberParam(e,"oauth-par-duration")},value:this.state.mod.parameters["oauth-par-duration"],placeholder:i.a.t("admin.mod-glwd-oauth-par-duration-ph"),disabled:!this.state.mod.parameters["oauth-par-allowed"]}))))))),o.a.createElement("div",{className:"accordion",id:"accordionCIBA"},o.a.createElement("div",{className:"card"},o.a.createElement("div",{className:"card-header",id:"addParamCard"},o.a.createElement("h2",{className:"mb-0"},o.a.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseCIBA","aria-expanded":"true","aria-controls":"collapseCIBA"},this.state.errorList["oauth-ciba"]?o.a.createElement("span",{className:"error-input btn-icon"},o.a.createElement("i",{className:"fas fa-exclamation-circle"})):"",i.a.t("admin.mod-glwd-oauth-ciba-title")))),o.a.createElement("div",{id:"collapseCIBA",className:"collapse","aria-labelledby":"addParamCard","data-parent":"#accordionCIBA"},o.a.createElement("div",{className:"card-body"},o.a.createElement("div",{className:"form-group form-check"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-oauth-ciba-allowed",onChange:function(e){return r.toggleParam(e,"oauth-ciba-allowed")},checked:this.state.mod.parameters["oauth-ciba-allowed"]}),o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-oauth-ciba-allowed"},i.a.t("admin.mod-glwd-oauth-ciba-allowed"))),this.state.errorList["oauth-ciba-mode"]?o.a.createElement("span",{className:"error-input"},this.state.errorList["oauth-ciba-mode"]):"",o.a.createElement("div",{className:"form-group form-check"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-oauth-ciba-mode-ping-allowed",onChange:function(e){return r.toggleParam(e,"oauth-ciba-mode-ping-allowed")},disabled:!this.state.mod.parameters["oauth-ciba-allowed"],checked:this.state.mod.parameters["oauth-ciba-mode-ping-allowed"]}),o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-oauth-ciba-mode-ping-allowed"},i.a.t("admin.mod-glwd-oauth-ciba-mode-ping-allowed"))),o.a.createElement("div",{className:"form-group form-check"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-oauth-ciba-mode-poll-allowed",onChange:function(e){return r.toggleParam(e,"oauth-ciba-mode-poll-allowed")},disabled:!this.state.mod.parameters["oauth-ciba-allowed"],checked:this.state.mod.parameters["oauth-ciba-mode-poll-allowed"]}),o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-oauth-ciba-mode-poll-allowed"},i.a.t("admin.mod-glwd-oauth-ciba-mode-poll-allowed"))),o.a.createElement("div",{className:"form-group form-check"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-oauth-ciba-mode-push-allowed",onChange:function(e){return r.toggleParam(e,"oauth-ciba-mode-push-allowed")},disabled:!this.state.mod.parameters["oauth-ciba-allowed"],checked:this.state.mod.parameters["oauth-ciba-mode-push-allowed"]}),o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-oauth-ciba-mode-push-allowed"},i.a.t("admin.mod-glwd-oauth-ciba-mode-push-allowed"))),o.a.createElement("div",{className:"form-group form-check"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-oauth-ciba-allow-https-non-secure",onChange:function(e){return r.toggleParam(e,"oauth-ciba-allow-https-non-secure")},disabled:!this.state.mod.parameters["oauth-ciba-allowed"]||!this.state.mod.parameters["oauth-ciba-mode-push-allowed"]&&!this.state.mod.parameters["oauth-ciba-mode-ping-allowed"],checked:this.state.mod.parameters["oauth-ciba-allow-https-non-secure"]}),o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-oauth-ciba-allow-https-non-secure"},i.a.t("admin.mod-glwd-oauth-ciba-allow-https-non-secure"))),o.a.createElement("div",{className:"form-group form-check"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-oauth-ciba-user-code-allowed",onChange:function(e){return r.toggleParam(e,"oauth-ciba-user-code-allowed")},disabled:!this.state.mod.parameters["oauth-ciba-allowed"],checked:this.state.mod.parameters["oauth-ciba-user-code-allowed"]}),o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-oauth-ciba-user-code-allowed"},i.a.t("admin.mod-glwd-oauth-ciba-user-code-allowed"))),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-oauth-ciba-user-code-property"},i.a.t("admin.mod-glwd-oauth-ciba-user-code-property"))),o.a.createElement("input",{type:"text",className:"form-control",id:"mod-glwd-oauth-ciba-user-code-property",onChange:function(e){return r.changeParam(e,"oauth-ciba-user-code-property")},value:this.state.mod.parameters["oauth-ciba-user-code-property"],placeholder:i.a.t("admin.mod-glwd-oauth-ciba-user-code-property-ph"),disabled:!this.state.mod.parameters["oauth-ciba-allowed"]||!this.state.mod.parameters["oauth-ciba-user-code-allowed"]})),this.state.errorList["oauth-ciba-user-code-property"]?o.a.createElement("span",{className:"error-input"},this.state.errorList["oauth-ciba-user-code-property"]):""),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-oauth-ciba-default-expiry"},i.a.t("admin.mod-glwd-oauth-ciba-default-expiry"))),o.a.createElement("input",{type:"number",min:"1",step:"1",className:"form-control",id:"mod-glwd-oauth-ciba-default-expiry",onChange:function(e){return r.changeNumberParam(e,"oauth-ciba-default-expiry")},value:this.state.mod.parameters["oauth-ciba-default-expiry"],placeholder:i.a.t("admin.mod-glwd-oauth-ciba-default-expiry-ph"),disabled:!this.state.mod.parameters["oauth-ciba-allowed"]}))),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-oauth-ciba-maximum-expiry"},i.a.t("admin.mod-glwd-oauth-ciba-maximum-expiry"))),o.a.createElement("input",{type:"number",min:"1",step:"1",className:"form-control",id:"mod-glwd-oauth-ciba-maximum-expiry",onChange:function(e){return r.changeNumberParam(e,"oauth-ciba-maximum-expiry")},value:this.state.mod.parameters["oauth-ciba-maximum-expiry"],placeholder:i.a.t("admin.mod-glwd-oauth-ciba-maximum-expiry-ph"),disabled:!this.state.mod.parameters["oauth-ciba-allowed"]}))),o.a.createElement("div",{className:"form-group form-check"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-oauth-ciba-email-allowed",onChange:function(e){return r.toggleParam(e,"oauth-ciba-email-allowed")},checked:this.state.mod.parameters["oauth-ciba-email-allowed"],disabled:!this.state.mod.parameters["oauth-ciba-allowed"]}),o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-oauth-ciba-email-allowed"},i.a.t("admin.mod-glwd-oauth-ciba-email-allowed"))),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"oauth-ciba-email-host"},i.a.t("admin.mod-email-host"))),o.a.createElement("input",{type:"text",className:this.state.errorList["oauth-ciba-email-host"]?"form-control is-invalid":"form-control",id:"oauth-ciba-email-host",onChange:function(e){return r.changeParam(e,"oauth-ciba-email-host")},value:this.state.mod.parameters["oauth-ciba-email-host"],placeholder:i.a.t("admin.mod-email-host-ph"),disabled:!this.state.mod.parameters["oauth-ciba-allowed"]||!this.state.mod.parameters["oauth-ciba-email-allowed"]})),this.state.errorList["oauth-ciba-email-host"]?o.a.createElement("span",{className:"error-input"},this.state.errorList["oauth-ciba-email-host"]):""),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"oauth-ciba-email-port"},i.a.t("admin.mod-email-port"))),o.a.createElement("input",{type:"number",min:"0",max:"65536",step:"1",className:this.state.errorList["oauth-ciba-email-port"]?"form-control is-invalid":"form-control",id:"oauth-ciba-email-port",onChange:function(e){return r.changeParam(e,"oauth-ciba-email-port",!0)},value:this.state.mod.parameters["oauth-ciba-email-port"],placeholder:i.a.t("admin.mod-email-port-ph"),disabled:!this.state.mod.parameters["oauth-ciba-allowed"]||!this.state.mod.parameters["oauth-ciba-email-allowed"]})),this.state.errorList["oauth-ciba-email-port"]?o.a.createElement("span",{className:"error-input"},this.state.errorList["oauth-ciba-email-port"]):""),o.a.createElement("div",{className:"form-group form-check"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-email-use-tls",onChange:function(e){return r.toggleParam(e,"oauth-ciba-email-use-tls")},checked:this.state.mod.parameters["oauth-ciba-email-use-tls"],disabled:!this.state.mod.parameters["oauth-ciba-allowed"]||!this.state.mod.parameters["oauth-ciba-email-allowed"]}),o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-email-use-tls"},i.a.t("admin.mod-email-use-tls"))),o.a.createElement("div",{className:"form-group form-check"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",disabled:!this.state.mod.parameters["oauth-ciba-allowed"]||!this.state.mod.parameters["oauth-ciba-email-allowed"]||!this.state.mod.parameters["oauth-ciba-email-use-tls"],id:"mod-email-check-certificate",onChange:function(e){return r.toggleParam(e,"oauth-ciba-email-check-certificate")},checked:this.state.mod.parameters["oauth-ciba-email-check-certificate"]}),o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-email-check-certificate"},i.a.t("admin.mod-email-check-certificate"))),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"oauth-ciba-email-user"},i.a.t("admin.mod-email-user"))),o.a.createElement("input",{type:"text",className:this.state.errorList["oauth-ciba-email-user"]?"form-control is-invalid":"form-control",id:"oauth-ciba-email-user",onChange:function(e){return r.changeParam(e,"oauth-ciba-email-user")},value:this.state.mod.parameters["oauth-ciba-email-user"],placeholder:i.a.t("admin.mod-email-user-ph"),disabled:!this.state.mod.parameters["oauth-ciba-allowed"]||!this.state.mod.parameters["oauth-ciba-email-allowed"]})),this.state.errorList["oauth-ciba-email-user"]?o.a.createElement("span",{className:"error-input"},this.state.errorList["oauth-ciba-email-user"]):""),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"oauth-ciba-email-password"},i.a.t("admin.mod-email-password"))),o.a.createElement("input",{type:"password",className:this.state.errorList.password?"form-control is-invalid":"form-control",id:"oauth-ciba-email-password",onChange:function(e){return r.changeParam(e,"oauth-ciba-email-password")},value:this.state.mod.parameters["oauth-ciba-email-password"],placeholder:i.a.t("admin.mod-email-password-ph"),disabled:!this.state.mod.parameters["oauth-ciba-allowed"]||!this.state.mod.parameters["oauth-ciba-email-allowed"]})),this.state.errorList["oauth-ciba-email-password"]?o.a.createElement("span",{className:"error-input"},this.state.errorList["oauth-ciba-email-password"]):""),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"oauth-ciba-email-from"},i.a.t("admin.mod-email-from"))),o.a.createElement("input",{type:"text",className:this.state.errorList["oauth-ciba-email-from"]?"form-control is-invalid":"form-control",id:"oauth-ciba-email-from",onChange:function(e){return r.changeParam(e,"oauth-ciba-email-from")},value:this.state.mod.parameters["oauth-ciba-email-from"],placeholder:i.a.t("admin.mod-email-from-ph"),disabled:!this.state.mod.parameters["oauth-ciba-allowed"]||!this.state.mod.parameters["oauth-ciba-email-allowed"]})),this.state.errorList["oauth-ciba-email-from"]?o.a.createElement("span",{className:"error-input"},this.state.errorList["oauth-ciba-email-from"]):""),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"oauth-ciba-email-content-type"},i.a.t("admin.mod-email-content-type"))),o.a.createElement("input",{type:"text",className:this.state.errorList["oauth-ciba-email-content-type"]?"form-control is-invalid":"form-control",id:"oauth-ciba-email-content-type",onChange:function(e){return r.changeParam(e,"oauth-ciba-email-content-type")},value:this.state.mod.parameters["oauth-ciba-email-content-type"],placeholder:i.a.t("admin.mod-email-content-type-ph"),disabled:!this.state.mod.parameters["oauth-ciba-allowed"]||!this.state.mod.parameters["oauth-ciba-email-allowed"]})),this.state.errorList["oauth-ciba-email-content-type"]?o.a.createElement("span",{className:"error-input"},this.state.errorList["oauth-ciba-email-content-type"]):""),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"oauth-ciba-email-user-lang-property"},i.a.t("admin.mod-email-user-lang-property"))),o.a.createElement("input",{type:"text",className:this.state.errorList["oauth-ciba-email-user-lang-property"]?"form-control is-invalid":"form-control",id:"oauth-ciba-email-user-lang-property",onChange:function(e){return r.changeParam(e,"oauth-ciba-email-user-lang-property")},value:this.state.mod.parameters["oauth-ciba-email-user-lang-property"],placeholder:i.a.t("admin.mod-email-user-lang-property-ph"),disabled:!this.state.mod.parameters["oauth-ciba-allowed"]||!this.state.mod.parameters["oauth-ciba-email-allowed"]})),this.state.errorList["oauth-ciba-email-user-lang-property"]?o.a.createElement("span",{className:"error-input"},this.state.errorList["oauth-ciba-email-user-lang-property"]):""),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-email-lang"},i.a.t("admin.mod-email-lang"))),o.a.createElement("div",{className:"dropdown"},o.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-email-lang","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:!this.state.mod.parameters["oauth-ciba-allowed"]||!this.state.mod.parameters["oauth-ciba-email-allowed"]},this.state.currentLang),o.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-email-lang"},V)))),o.a.createElement("div",{className:"form-group form-check"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-email-lang-default",onChange:function(e){return r.toggleLangDefault()},checked:B["oauth-ciba-email-defaultLang"],disabled:!this.state.mod.parameters["oauth-ciba-allowed"]||!this.state.mod.parameters["oauth-ciba-email-allowed"]}),o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-email-lang-default"},i.a.t("admin.mod-email-lang-default"))),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-email-subject"},i.a.t("admin.mod-email-subject"))),o.a.createElement("input",{type:"text",className:this.state.errorList["oauth-ciba-email-subject"]?"form-control is-invalid":"form-control",id:"mod-email-subject",onChange:function(e){return r.changeTemplate(e,"oauth-ciba-email-subject")},value:B["oauth-ciba-email-subject"],placeholder:i.a.t("admin.mod-email-subject-ph"),disabled:!this.state.mod.parameters["oauth-ciba-allowed"]||!this.state.mod.parameters["oauth-ciba-email-allowed"]})),this.state.errorList["oauth-ciba-email-subject"]?o.a.createElement("span",{className:"error-input"},this.state.errorList["oauth-ciba-email-subject"]):""),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-email-body-pattern"},i.a.t("admin.mod-glwd-oauth-ciba-email-body-pattern")),o.a.createElement("div",null,o.a.createElement("textarea",{className:this.state.errorList["oauth-ciba-email-body-pattern"]?"form-control is-invalid":"form-control",id:"mod-email-body-pattern",onChange:function(e){return r.changeTemplate(e,"oauth-ciba-email-body-pattern")},placeholder:i.a.t("admin.mod-glwd-oauth-ciba-email-body-pattern-ph"),value:B["oauth-ciba-email-body-pattern"],disabled:!this.state.mod.parameters["oauth-ciba-allowed"]||!this.state.mod.parameters["oauth-ciba-email-allowed"]})),this.state.errorList["oauth-ciba-email-body-pattern"]?o.a.createElement("span",{className:"error-input"},this.state.errorList["oauth-ciba-email-body-pattern"]):""))))))}}]),a}();function ua(e){return(ua="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ha(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fa(e,t){return(fa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ga(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ba(e){return(ba=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ya=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fa(e,t)}(a,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=ba(e);if(t){var o=ba(this).constructor;a=Reflect.construct(r,arguments,o)}else a=r.apply(this,arguments);return function(e,t){return!t||"object"!==ua(t)&&"function"!=typeof t?ga(e):t}(this,a)}}(a);function a(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),r=t.call(this,e),e.mod||(e.mod={parameters:{}}),void 0!==e.mod.parameters.registration||e.mod.parameters["session-key"]?void 0===e.mod.parameters.registration&&e.mod.parameters["session-key"]&&(e.mod.parameters.registration=!0):e.mod.parameters.registration=!1,e.mod.parameters["verification-code-length"]||(e.mod.parameters["verification-code-length"]=8),e.mod.parameters["verification-code-duration"]||(e.mod.parameters["verification-code-duration"]=600),e.mod.parameters.host||(e.mod.parameters.host=""),e.mod.parameters.port||(e.mod.parameters.port=0),void 0===e.mod.parameters["verify-email"]&&(e.mod.parameters["verify-email"]=!1),void 0===e.mod.parameters["email-is-username"]&&(e.mod.parameters["email-is-username"]=!1),void 0===e.mod.parameters.scope&&(e.mod.parameters.scope=[e.config.profile_scope]),e.mod.parameters["set-password"]||(e.mod.parameters["set-password"]="always"),void 0===e.mod.parameters.schemes&&(e.mod.parameters.schemes=[]),e.mod.parameters["session-key"]||(e.mod.parameters["session-key"]="G_REGISTER_SESSION"),e.mod.parameters["session-duration"]||(e.mod.parameters["session-duration"]=3600),e.mod.parameters.subject||(e.mod.parameters.subject="Confirm registration"),e.mod.parameters["content-type"]||(e.mod.parameters["content-type"]="text/plain; charset=utf-8"),e.mod.parameters.from||(e.mod.parameters.from=""),e.mod.parameters.templates||(e.mod.parameters.templates={}),e.mod.parameters.templates[i.a.language]||(e.mod.parameters.templates[i.a.language]={subject:e.mod.parameters.subject||"Confirm registration","body-pattern":e.mod.parameters["body-pattern"]||"The code is {CODE}\n\n"+window.location.href.split("?")[0].split("#")[0]+"/"+e.config.ProfileUrl+"?register=<your_registration_plugin_name>&token={TOKEN}",defaultLang:!0}),void 0===e.mod.parameters["update-email"]&&(e.mod.parameters["update-email"]=!1),e.mod.parameters["update-email-content-type"]||(e.mod.parameters["update-email-content-type"]="text/plain; charset=utf-8"),e.mod.parameters.templatesUpdateEmail||(e.mod.parameters.templatesUpdateEmail={}),e.mod.parameters.templatesUpdateEmail[i.a.language]||(e.mod.parameters.templatesUpdateEmail[i.a.language]={subject:"Update e-mail address","body-pattern":"Click on the following link: "+window.location.href.split("?")[0].split("#")[0]+"/"+e.config.ProfileUrl+"?updateEmail=<your_registration_plugin_name>&token={TOKEN}",defaultLang:!0}),e.mod.parameters["update-email-token-duration"]||(e.mod.parameters["update-email-token-duration"]=600),e.mod.parameters["update-email-from"]||(e.mod.parameters["update-email-from"]=""),void 0===e.mod.parameters["reset-credentials"]&&(e.mod.parameters["reset-credentials"]=!1),e.mod.parameters["reset-credentials-session-key"]||(e.mod.parameters["reset-credentials-session-key"]="G_CREDENTIALS_SESSION"),e.mod.parameters["reset-credentials-session-duration"]||(e.mod.parameters["reset-credentials-session-duration"]=3600),void 0===e.mod.parameters["reset-credentials-email"]&&(e.mod.parameters["reset-credentials-email"]=!1),e.mod.parameters["reset-credentials-content-type"]||(e.mod.parameters["reset-credentials-content-type"]="text/plain; charset=utf-8"),e.mod.parameters.templatesResetCredentials||(e.mod.parameters.templatesResetCredentials={}),e.mod.parameters.templatesResetCredentials[i.a.language]||(e.mod.parameters.templatesResetCredentials[i.a.language]={subject:"Lost credentials","body-pattern":"Click on the following link: "+window.location.href.split("?")[0].split("#")[0]+"/"+e.config.ProfileUrl+"?resetCredentials=<your_registration_plugin_name>&token={TOKEN}",defaultLang:!0}),e.mod.parameters["reset-credentials-token-duration"]||(e.mod.parameters["reset-credentials-token-duration"]=600),e.mod.parameters["reset-credentials-from"]||(e.mod.parameters["reset-credentials-from"]=""),void 0===e.mod.parameters["reset-credentials-code"]&&(e.mod.parameters["reset-credentials-code"]=!1),e.mod.parameters["reset-credentials-code-list-size"]||(e.mod.parameters["reset-credentials-code-list-size"]=4),e.mod.parameters["reset-credentials-code-property"]||(e.mod.parameters["reset-credentials-code-property"]="reset-credentials-code"),r.state={config:e.config,modSchemes:e.modSchemes,mod:e.mod,role:e.role,check:e.check,hasError:!1,errorList:{},currentLang:i.a.language,newLang:"",currentLangUpdateEmail:i.a.language,newLangUpdateEmail:"",currentLangResetCredentials:i.a.language,newLangResetCredentials:""},r.state.check&&r.checkParameters(),r.checkParameters=r.checkParameters.bind(ga(r)),r.addScope=r.addScope.bind(ga(r)),r.deleteScope=r.deleteScope.bind(ga(r)),r.addScheme=r.addScheme.bind(ga(r)),r.changeLang=r.changeLang.bind(ga(r)),r.toggleLangDefault=r.toggleLangDefault.bind(ga(r)),r.changeNewLang=r.changeNewLang.bind(ga(r)),r.addLang=r.addLang.bind(ga(r)),r.removeLang=r.removeLang.bind(ga(r)),r}return function(e,t,a){t&&ha(e.prototype,t)}(a,[{key:"componentWillReceiveProps",value:function(e){var t=this;e.mod||(e.mod={parameters:{}}),void 0!==e.mod.parameters.registration||e.mod.parameters["session-key"]?void 0===e.mod.parameters.registration&&e.mod.parameters["session-key"]&&(e.mod.parameters.registration=!0):e.mod.parameters.registration=!1,e.mod.parameters["verification-code-length"]||(e.mod.parameters["verification-code-length"]=8),e.mod.parameters["verification-code-duration"]||(e.mod.parameters["verification-code-duration"]=600),e.mod.parameters.host||(e.mod.parameters.host=""),e.mod.parameters.port||(e.mod.parameters.port=0),void 0===e.mod.parameters["verify-email"]&&(e.mod.parameters["verify-email"]=!1),void 0===e.mod.parameters["email-is-username"]&&(e.mod.parameters["email-is-username"]=!1),void 0===e.mod.parameters.scope&&(e.mod.parameters.scope=[e.config.profile_scope]),e.mod.parameters["set-password"]||(e.mod.parameters["set-password"]="always"),void 0===e.mod.parameters.schemes&&(e.mod.parameters.schemes=[]),e.mod.parameters["session-key"]||(e.mod.parameters["session-key"]="G_REGISTER_SESSION"),e.mod.parameters["session-duration"]||(e.mod.parameters["session-duration"]=3600),e.mod.parameters.from||(e.mod.parameters.from=""),e.mod.parameters["content-type"]||(e.mod.parameters["content-type"]="text/plain; charset=utf-8"),e.mod.parameters.templates||(e.mod.parameters.templates={}),e.mod.parameters.templates[i.a.language]||(e.mod.parameters.templates[i.a.language]={subject:e.mod.parameters.subject||"Confirm registration","body-pattern":e.mod.parameters["body-pattern"]||"The code is {CODE}\n\n"+window.location.href.split("?")[0].split("#")[0]+"/"+this.state.config.ProfileUrl+"?register=<your_registration_plugin_name>&token={TOKEN}",defaultLang:!0}),void 0===e.mod.parameters["update-email"]&&(e.mod.parameters["update-email"]=!1),e.mod.parameters["update-email-content-type"]||(e.mod.parameters["update-email-content-type"]="text/plain; charset=utf-8"),e.mod.parameters.templatesUpdateEmail||(e.mod.parameters.templatesUpdateEmail={}),e.mod.parameters.templatesUpdateEmail[i.a.language]||(e.mod.parameters.templatesUpdateEmail[i.a.language]={subject:"Update e-mail address","body-pattern":"Click on the following link: "+window.location.href.split("?")[0].split("#")[0]+"/"+this.state.config.ProfileUrl+"?updateEmail=<your_registration_plugin_name>&token={TOKEN}",defaultLang:!0}),e.mod.parameters["update-email-token-duration"]||(e.mod.parameters["update-email-token-duration"]=600),e.mod.parameters["update-email-from"]||(e.mod.parameters["update-email-from"]=""),void 0===e.mod.parameters["reset-credentials"]&&(e.mod.parameters["reset-credentials"]=!1),e.mod.parameters["reset-credentials-session-key"]||(e.mod.parameters["reset-credentials-session-key"]="G_CREDENTIALS_SESSION"),e.mod.parameters["reset-credentials-session-duration"]||(e.mod.parameters["reset-credentials-session-duration"]=3600),void 0===e.mod.parameters["reset-credentials-email"]&&(e.mod.parameters["reset-credentials-email"]=!1),e.mod.parameters["reset-credentials-content-type"]||(e.mod.parameters["reset-credentials-content-type"]="text/plain; charset=utf-8"),e.mod.parameters.templatesResetCredentials||(e.mod.parameters.templatesResetCredentials={}),e.mod.parameters.templatesResetCredentials[i.a.language]||(e.mod.parameters.templatesResetCredentials[i.a.language]={subject:"Lost credentials","body-pattern":"Click on the following link: "+window.location.href.split("?")[0].split("#")[0]+"/"+this.state.config.ProfileUrl+"?resetCredentials=<your_registration_plugin_name>&token={TOKEN}",defaultLang:!0}),e.mod.parameters["reset-credentials-token-duration"]||(e.mod.parameters["reset-credentials-token-duration"]=600),e.mod.parameters["reset-credentials-from"]||(e.mod.parameters["reset-credentials-from"]=""),void 0===e.mod.parameters["reset-credentials-code"]&&(e.mod.parameters["reset-credentials-code"]=!1),e.mod.parameters["reset-credentials-code-list-size"]||(e.mod.parameters["reset-credentials-code-list-size"]=4),e.mod.parameters["reset-credentials-code-property"]||(e.mod.parameters["reset-credentials-code-property"]="reset-credentials-code"),this.setState({config:e.config,modSchemes:e.modSchemes,mod:e.mod,role:e.role,check:e.check,hasError:!1,currentLang:i.a.language,newLang:"",currentLangUpdateEmail:i.a.language,newLangUpdateEmail:"",currentLangResetCredentials:i.a.language,newLangResetCredentials:""},(function(){t.state.check&&t.checkParameters()}))}},{key:"changeParam",value:function(e,t,a){var r=this.state.mod;a?isNaN(e.target.value)||(r.parameters[t]=parseInt(e.target.value)):r.parameters[t]=e.target.value,this.setState({mod:r})}},{key:"toggleParam",value:function(e,t){var a=this.state.mod;a.parameters[t]=!a.parameters[t],this.setState({mod:a})}},{key:"addScope",value:function(e,t){e.preventDefault();var a=this.state.mod;a.parameters.scope.push(t),this.setState({mod:a})}},{key:"deleteScope",value:function(e,t){e.preventDefault();var a=this.state.mod;a.parameters.scope.splice(t,1),this.setState({mod:a})}},{key:"setPassword",value:function(e,t){e.preventDefault();var a=this.state.mod;a.parameters["set-password"]=t,this.setState({mod:a})}},{key:"addScheme",value:function(){var e=this,t=!1,a=this.state.mod;this.state.modSchemes.forEach((function(r,o){var n=!1;e.state.mod.parameters.schemes.forEach((function(e){r.name===e.name&&(n=!0)})),n||t||(a.parameters.schemes.push({module:r.module,name:r.name,display_name:r.display_name,register:"yes"}),t=!0)})),this.setState({mod:a})}},{key:"deleteScheme",value:function(e){var t=this.state.mod;t.parameters.schemes.splice(e,1),this.setState({mod:t})}},{key:"setSchemeName",value:function(e,t,a){e.preventDefault();var r=this.state.mod;this.state.modSchemes.forEach((function(e){e.name===a&&(r.parameters.schemes[t].module=e.module,r.parameters.schemes[t].name=e.name,r.parameters.schemes[t].display_name=e.display_name)})),this.setState({mod:r})}},{key:"setSchemeRegister",value:function(e,t,a){e.preventDefault();var r=this.state.mod;r.parameters.schemes[t].register=a,this.setState({mod:r})}},{key:"changeNewLang",value:function(e){var t={};t["newLang"+(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"")]=e.target.value,this.setState(t)}},{key:"addLang",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=this.state.mod,o=!1,n=r.parameters["templates"+a];if(Object.keys(n).forEach((function(e){e===t.state.newLang&&(o=!0)})),!o&&this.state["newLang"+a]){n[this.state["newLang"+a]]={subject:"","body-pattern":"",defaultLang:!1};var s={mod:r};s["newLang"+a]="",s["currentLang"+a]=this.state["newLang"+a],this.setState(s)}}},{key:"removeLang",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=this.state.mod,r=!1,o=a.parameters["templates"+t];if(delete o[e],e==this.state["currentLang"+t]){Object.keys(o).forEach((function(e){r||(r=e)}));var n={mod:a};n["currentLang"+t]=r,this.setState(n)}else this.setState({mod:a})}},{key:"changeLang",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=this.state.mod.parameters["templates"+a];r[t]||(r[t]={subject:"","body-pattern":"",defaultLang:!1});var o={};o["currentLang"+a]=t,this.setState(o)}},{key:"changeTemplate",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=this.state.mod;r.parameters["templates"+a][this.state["currentLang"+a]][t]=e.target.value,this.setState({mod:r})}},{key:"toggleLangDefault",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=this.state.mod,r=a.parameters["templates"+t];Object.keys(r).forEach((function(a){r[a].defaultLang=a===e.state["currentLang"+t]})),this.setState({mod:a})}},{key:"checkParameters",value:function(){var e=this,t={},a=!1,r=!1;this.state.mod.parameters.register&&(this.state.mod.parameters["session-key"]||(a=!0,t["session-key"]=i.a.t("admin.mod-register-session-key-error"),t.registration=!0),this.state.mod.parameters["session-duration"]||(a=!0,t["session-duration"]=i.a.t("admin.mod-register-session-duration-error"),t.registration=!0),this.state.mod.parameters.scope.length||(a=!0,t.scope=i.a.t("admin.mod-register-scope-error"),t.registration=!0),this.state.mod.parameters.schemes.forEach((function(e){e.name||(a=!0,t.schemes=i.a.t("admin.mod-register-scheme-error"),t.registration=!0),"always"===e.register&&(r=!0)})),this.state.mod.parameters["verify-email"]&&(this.state.mod.parameters["verification-code-length"]||(a=!0,t["verification-code-length"]=i.a.t("admin.mod-register-verification-code-length-error"),t.registration=!0),this.state.mod.parameters["verification-code-duration"]||(a=!0,t["verification-code-duration"]=i.a.t("admin.mod-register-verification-code-duration-error"),t.registration=!0),this.state.mod.parameters.host||(a=!0,t.host=i.a.t("admin.mod-email-host-error"),t.smtp=!0),this.state.mod.parameters.from||(a=!0,t.from=i.a.t("admin.mod-email-from-error"),t.smtp=!0),t.subject="",t["body-pattern"]="",Object.keys(this.state.mod.parameters.templates).forEach((function(r){e.state.mod.parameters.templates[r].subject||(a=!0,t.subject+=i.a.t("admin.mod-email-subject-error",{lang:r}),t.registration=!0),e.state.mod.parameters.templates[r]["body-pattern"]&&e.state.mod.parameters.templates[r]["body-pattern"].search("{CODE}")||(a=!0,t["body-pattern"]+=i.a.t("admin.mod-email-body-pattern-error",{lang:r}),t.registration=!0)}))),"always"===this.state.mod.parameters["set-password"]||r||(a=!0,t["has-mandatory"]=i.a.t("admin.mod-register-has-mandatory-error"),t["update-email"]=!0)),this.state.mod.parameters["update-email"]&&(this.state.mod.parameters["update-email-token-duration"]||(a=!0,t["update-email-token-duration"]=i.a.t("admin.mod-register-update-email-token-duration-error"),t["update-email"]=!0),this.state.mod.parameters.host||(a=!0,t.host=i.a.t("admin.mod-email-host-error"),t.smtp=!0),this.state.mod.parameters["update-email-from"]||(a=!0,t["update-email-from"]=i.a.t("admin.mod-email-from-error"),t["update-email"]=!0),t["update-email-subject"]="",t["update-email-body-pattern"]="",Object.keys(this.state.mod.parameters.templatesUpdateEmail).forEach((function(r){e.state.mod.parameters.templatesUpdateEmail[r].subject||(a=!0,t["update-email-subject"]+=i.a.t("admin.mod-email-subject-error",{lang:r}),t["update-email"]=!0),e.state.mod.parameters.templatesUpdateEmail[r]["body-pattern"]&&e.state.mod.parameters.templatesUpdateEmail[r]["body-pattern"].search("{TOKEN}")||(a=!0,t["update-email-body-pattern"]+=i.a.t("admin.mod-email-body-pattern-error",{lang:r}),t["update-email"]=!0)}))),this.state.mod.parameters["reset-credentials"]&&(this.state.mod.parameters["reset-credentials-session-key"]||(a=!0,t["reset-credentials-session-key"]=i.a.t("admin.mod-register-reset-credentials-session-key-error"),t["reset-credentials"]=!0),this.state.mod.parameters["reset-credentials-session-duration"]||(a=!0,t["reset-credentials-session-duration"]=i.a.t("admin.mod-register-reset-credentials-session-duration-error"),t["reset-credentials"]=!0),this.state.mod.parameters["reset-credentials-email"]&&(this.state.mod.parameters["reset-credentials-token-duration"]||(a=!0,t["reset-credentials-token-duration"]=i.a.t("admin.mod-register-reset-credentials-token-duration-error"),t["reset-credentials"]=!0),this.state.mod.parameters.host||(a=!0,t.host=i.a.t("admin.mod-email-host-error"),t.smtp=!0),this.state.mod.parameters["reset-credentials-from"]||(a=!0,t["reset-credentials-from"]=i.a.t("admin.mod-email-from-error"),t["reset-credentials"]=!0),t["reset-credentials-subject"]="",t["reset-credentials-body-pattern"]="",Object.keys(this.state.mod.parameters.templatesResetCredentials).forEach((function(r){e.state.mod.parameters.templatesResetCredentials[r].subject||(a=!0,t["reset-credentials-subject"]+=i.a.t("admin.mod-email-subject-error",{lang:r}),t["reset-credentials"]=!0),-1===e.state.mod.parameters.templatesResetCredentials[r]["body-pattern"].search("{TOKEN}")&&(a=!0,t["reset-credentials-body-pattern"]+=i.a.t("admin.mod-email-body-pattern-error",{lang:r}),t["reset-credentials"]=!0)}))),this.state.mod.parameters["reset-credentials-code"]&&(this.state.mod.parameters["reset-credentials-code-property"]||(a=!0,t["reset-credentials-code-property"]=i.a.t("admin.reset-credentials-code-property-error"),t["reset-credentials"]=!0)),this.state.mod.parameters["reset-credentials-email"]||this.state.mod.parameters["reset-credentials-code"]||(a=!0,t["reset-credentials"]=!0,t["reset-credentials-option-check"]=i.a.t("admin.mod-register-option-error"))),this.state.mod.parameters.registration||this.state.mod.parameters["update-email"]||this.state.mod.parameters["reset-credentials"]||(a=!0,t.registration=!0,t["registration-check"]=i.a.t("admin.mod-register-option-error"),t["update-email"]=!0,t["update-email-check"]=i.a.t("admin.mod-register-option-error"),t["reset-credentials"]=!0,t["reset-credentials-check"]=i.a.t("admin.mod-register-option-error")),a?this.setState({errorList:t},(function(){d.a.sendMessage("ModPlugin",{type:"modInvalid"})})):this.setState({errorList:{}},(function(){d.a.sendMessage("ModPlugin",{type:"modValid"})}))}},{key:"render",value:function(){var e=this,t=[],a=[],r=[];t.push(o.a.createElement("div",{key:-2,className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("input",{type:"text",className:"form-control",id:"mod-email-new-lang",placeholder:i.a.t("admin.mod-email-new-lang-ph"),value:this.state.newLang,onChange:function(t){return e.changeNewLang(t)}}),o.a.createElement("div",{className:"input-group-append"},o.a.createElement("button",{type:"button",onClick:function(t){return e.addLang(t)},className:"btn btn-outline-primary"},i.a.t("admin.mod-email-new-lang-add")))))),t.push(o.a.createElement("div",{key:-1,className:"dropdown-divider"})),Object.keys(this.state.mod.parameters.templates).forEach((function(a,r){t.push(o.a.createElement("div",{key:2*r,className:"btn-group btn-group-justified"},o.a.createElement("button",{type:"button",className:"btn btn-primary",disabled:!0},a),o.a.createElement("button",{type:"button",onClick:function(t){return e.removeLang(a)},className:"btn btn-primary",disabled:e.state.mod.parameters.templates[a].defaultLang},i.a.t("admin.mod-email-new-lang-remove")),o.a.createElement("button",{type:"button",onClick:function(t){return e.changeLang(t,a)},className:"btn btn-primary"},i.a.t("admin.mod-email-new-lang-select")))),t.push(o.a.createElement("div",{key:2*r+1,className:"dropdown-divider"}))})),a.push(o.a.createElement("div",{key:-2,className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("input",{type:"text",className:"form-control",id:"mod-email-new-lang",placeholder:i.a.t("admin.mod-email-new-lang-ph"),value:this.state.newLangUpdateEmail,onChange:function(t){return e.changeNewLang(t,"UpdateEmail")}}),o.a.createElement("div",{className:"input-group-append"},o.a.createElement("button",{type:"button",onClick:function(t){return e.addLang(t,"UpdateEmail")},className:"btn btn-outline-primary"},i.a.t("admin.mod-email-new-lang-add")))))),a.push(o.a.createElement("div",{key:-1,className:"dropdown-divider"})),Object.keys(this.state.mod.parameters.templatesUpdateEmail).forEach((function(t,r){a.push(o.a.createElement("div",{key:2*r,className:"btn-group btn-group-justified"},o.a.createElement("button",{type:"button",className:"btn btn-primary",disabled:!0},t),o.a.createElement("button",{type:"button",onClick:function(a){return e.removeLang(t,"UpdateEmail")},className:"btn btn-primary",disabled:e.state.mod.parameters.templatesUpdateEmail[t].defaultLang},i.a.t("admin.mod-email-new-lang-remove")),o.a.createElement("button",{type:"button",onClick:function(a){return e.changeLang(a,t,"UpdateEmail")},className:"btn btn-primary"},i.a.t("admin.mod-email-new-lang-select")))),a.push(o.a.createElement("div",{key:2*r+1,className:"dropdown-divider"}))})),r.push(o.a.createElement("div",{key:-2,className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("input",{type:"text",className:"form-control",id:"mod-email-new-lang",placeholder:i.a.t("admin.mod-email-new-lang-ph"),value:this.state.newLangResetCredentials,onChange:function(t){return e.changeNewLang(t,"ResetCredentials")}}),o.a.createElement("div",{className:"input-group-append"},o.a.createElement("button",{type:"button",onClick:function(t){return e.addLang(t,"ResetCredentials")},className:"btn btn-outline-primary"},i.a.t("admin.mod-email-new-lang-add")))))),r.push(o.a.createElement("div",{key:-1,className:"dropdown-divider"})),Object.keys(this.state.mod.parameters.templatesResetCredentials).forEach((function(t,a){r.push(o.a.createElement("div",{key:2*a,className:"btn-group btn-group-justified"},o.a.createElement("button",{type:"button",className:"btn btn-primary",disabled:!0},t),o.a.createElement("button",{type:"button",onClick:function(a){return e.removeLang(t,"ResetCredentials")},className:"btn btn-primary",disabled:e.state.mod.parameters.templatesResetCredentials[t].defaultLang},i.a.t("admin.mod-email-new-lang-remove")),o.a.createElement("button",{type:"button",onClick:function(a){return e.changeLang(a,t,"ResetCredentials")},className:"btn btn-primary"},i.a.t("admin.mod-email-new-lang-select")))),r.push(o.a.createElement("div",{key:2*a+1,className:"dropdown-divider"}))}));var n=[],s=[],l=[];this.state.config.pattern.user.forEach((function(t){"scope"===t.name&&t.listElements.forEach((function(t,a){n.push(o.a.createElement("a",{key:a,className:"dropdown-item",href:"#",onClick:function(a){return e.addScope(a,t)}},t))}))})),this.state.mod.parameters.scope.forEach((function(t,a){s.push(o.a.createElement("a",{className:"btn-icon-right",href:"#",onClick:function(t){return e.deleteScope(t,a)},key:a},o.a.createElement("span",{className:"badge badge-primary"},t,o.a.createElement("span",{className:"badge badge-light btn-icon-right"},o.a.createElement("i",{className:"fas fa-times"})))))}));var m=o.a.createElement("div",{className:"dropdown"},o.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-register-scope","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.mod-register-scope")),o.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-register-scope"},n),o.a.createElement("div",null,s));return this.state.mod.parameters.schemes.forEach((function(t,a){var r=[];e.state.modSchemes.forEach((function(t,n){var s=!1;e.state.mod.parameters.schemes.forEach((function(e){t.name===e.name&&(s=!0)})),s||r.push(o.a.createElement("a",{key:n,className:"dropdown-item",href:"#",onClick:function(r){return e.setSchemeName(r,a,t.name)}},t.display_name))})),l.push(o.a.createElement("div",{className:"form-group",key:a},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-register-name-"+a},i.a.t("admin.mod-register-scheme-name")),o.a.createElement("div",{className:"input-group-append"},o.a.createElement("div",{className:"dropdown"},o.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-register-name-"+a,"data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},t.display_name),o.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-register-name"},r))),o.a.createElement("label",{className:"input-group-text btn-icon-left",htmlFor:"mod-register-scheme-register-"+a},i.a.t("admin.mod-register-scheme-register")),o.a.createElement("div",{className:"input-group-append"},o.a.createElement("div",{className:"dropdown"},o.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-register-scheme-register-"+a,"data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.mod-register-"+("always"===t.register?"yes":"no"))),o.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-register-scheme-register"},o.a.createElement("a",{className:"dropdown-item"+("always"===t.register?" active":""),href:"#",onClick:function(t){return e.setSchemeRegister(t,a,"always")}},i.a.t("admin.mod-register-yes")),o.a.createElement("a",{className:"dropdown-item"+("yes"===t.register?" active":""),href:"#",onClick:function(t){return e.setSchemeRegister(t,a,"yes")}},i.a.t("admin.mod-register-no"))))),o.a.createElement("button",{className:"btn btn-secondary btn-icon-right",type:"button",onClick:function(){return e.deleteScheme(a)}},o.a.createElement("i",{className:"fas fa-trash"})))))})),o.a.createElement("div",null,o.a.createElement("div",{className:"accordion",id:"accordionRegister"},o.a.createElement("div",{className:"card"},o.a.createElement("div",{className:"card-header",id:"registerCard"},o.a.createElement("h2",{className:"mb-0"},o.a.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseRegister","aria-expanded":"true","aria-controls":"collapseRegister"},this.state.errorList.registration?o.a.createElement("span",{className:"error-input btn-icon"},o.a.createElement("i",{className:"fas fa-exclamation-circle"})):"",i.a.t("admin.mod-register-title")))),o.a.createElement("div",{id:"collapseRegister",className:"collapse","aria-labelledby":"registerCard","data-parent":"#accordionRegister"},o.a.createElement("div",{className:"card-body"},o.a.createElement("div",{className:"form-group form-check"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-register-enabled",onChange:function(t){return e.toggleParam(t,"registration")},checked:this.state.mod.parameters.registration}),o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-register-enabled"},i.a.t("admin.mod-register-enabled")),this.state.errorList["registration-check"]?o.a.createElement("div",null,o.a.createElement("span",{className:"error-input"},this.state.errorList["registration-check"])):""),o.a.createElement("div",{className:"collapse"+(this.state.mod.parameters.registration?" show":""),id:"registerCollapse"},o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-register-session-key"},i.a.t("admin.mod-register-session-key"))),o.a.createElement("input",{type:"text",className:this.state.errorList["session-key"]?"form-control is-invalid":"form-control",id:"mod-register-session-key",onChange:function(t){return e.changeParam(t,"session-key")},value:this.state.mod.parameters["session-key"],placeholder:i.a.t("admin.mod-register-session-key-ph")})),this.state.errorList["session-key"]?o.a.createElement("span",{className:"error-input"},this.state.errorList["session-key"]):""),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-register-session-duration"},i.a.t("admin.mod-register-session-duration"))),o.a.createElement("input",{type:"number",min:"1",step:"1",className:this.state.errorList["session-duration"]?"form-control is-invalid":"form-control",id:"mod-register-session-duration",onChange:function(t){return e.changeParam(t,"session-duration",!0)},value:this.state.mod.parameters["session-duration"],placeholder:i.a.t("admin.mod-register-session-duration-ph")})),this.state.errorList["session-duration"]?o.a.createElement("span",{className:"error-input"},this.state.errorList["session-duration"]):""),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-register-set-password"},i.a.t("admin.mod-register-set-password"))),o.a.createElement("div",{className:"dropdown"},o.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-register-set-password","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.mod-register-"+this.state.mod.parameters["set-password"])),o.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-register-set-password"},o.a.createElement("a",{className:"dropdown-item"+("always"===this.state.mod.parameters["set-password"]?" active":""),href:"#",onClick:function(t){return e.setPassword(t,"always")}},i.a.t("admin.mod-register-always")),o.a.createElement("a",{className:"dropdown-item"+("yes"===this.state.mod.parameters["set-password"]?" active":""),href:"#",onClick:function(t){return e.setPassword(t,"yes")}},i.a.t("admin.mod-register-yes")),o.a.createElement("a",{className:"dropdown-item"+("no"===this.state.mod.parameters["set-password"]?" active":""),href:"#",onClick:function(t){return e.setPassword(t,"no")}},i.a.t("admin.mod-register-no")))))),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-default-scope"},i.a.t("admin.mod-register-scope-add"))),m),this.state.errorList.scope?o.a.createElement("span",{className:"error-input"},this.state.errorList.scope):""),o.a.createElement("hr",null),o.a.createElement("div",{className:"form-group"},o.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.addScheme,disabled:this.state.mod.parameters.schemes.length===this.state.modSchemes.length},i.a.t("admin.mod-register-add-scheme"))),l,this.state.errorList.schemes?o.a.createElement("span",{className:"error-input"},this.state.errorList.schemes):"",o.a.createElement("hr",null),o.a.createElement("div",{className:"form-group form-check"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-register-verify-email",onChange:function(t){return e.toggleParam(t,"verify-email")},checked:this.state.mod.parameters["verify-email"]}),o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-register-verify-email"},i.a.t("admin.mod-register-verify-email"))),o.a.createElement("div",{className:"collapse"+(this.state.mod.parameters["verify-email"]?" show":""),id:"verifyEmailCollapse"},o.a.createElement("div",{className:"form-group form-check"},o.a.createElement("input",{type:"checkbox",disabled:!this.state.mod.parameters["verify-email"],className:"form-check-input",id:"mod-register-email-is-username",onChange:function(t){return e.toggleParam(t,"email-is-username")},checked:this.state.mod.parameters["email-is-username"]}),o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-register-email-is-username"},i.a.t("admin.mod-register-email-is-username"))),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-register-verification-code-length"},i.a.t("admin.mod-register-verification-code-length"))),o.a.createElement("input",{type:"number",min:"0",max:"65536",step:"1",className:this.state.errorList["verification-code-length"]?"form-control is-invalid":"form-control",id:"mod-register-verification-code-length",onChange:function(t){return e.changeParam(t,"verification-code-length")},value:this.state.mod.parameters["verification-code-length"],placeholder:i.a.t("admin.mod-register-verification-code-length-ph")})),this.state.errorList["verification-code-length"]?o.a.createElement("span",{className:"error-input"},this.state.errorList["verification-code-length"]):""),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-register-verification-code-duration"},i.a.t("admin.mod-register-verification-code-duration"))),o.a.createElement("input",{type:"number",min:"0",max:"65536",step:"1",className:this.state.errorList["verification-code-duration"]?"form-control is-invalid":"form-control",id:"mod-register-verification-code-duration",onChange:function(t){return e.changeParam(t,"verification-code-duration",!0)},value:this.state.mod.parameters["verification-code-duration"],placeholder:i.a.t("admin.mod-register-verification-code-duration-ph")})),this.state.errorList["verification-code-duration"]?o.a.createElement("span",{className:"error-input"},this.state.errorList["verification-code-duration"]):""),o.a.createElement("hr",null),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-register-from"},i.a.t("admin.mod-email-from"))),o.a.createElement("input",{type:"text",className:this.state.errorList.from?"form-control is-invalid":"form-control",id:"mod-register-from",onChange:function(t){return e.changeParam(t,"from")},value:this.state.mod.parameters.from,placeholder:i.a.t("admin.mod-email-from-ph")})),this.state.errorList.from?o.a.createElement("span",{className:"error-input"},this.state.errorList.from):""),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-register-content-type"},i.a.t("admin.mod-email-content-type"))),o.a.createElement("input",{type:"text",className:this.state.errorList["content-type"]?"form-control is-invalid":"form-control",id:"mod-register-content-type",onChange:function(t){return e.changeParam(t,"content-type")},value:this.state.mod.parameters["content-type"]||"",placeholder:i.a.t("admin.mod-email-content-type-ph")})),this.state.errorList["content-type"]?o.a.createElement("span",{className:"error-input"},this.state.errorList["content-type"]):""),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-email-lang"},i.a.t("admin.mod-email-lang"))),o.a.createElement("div",{className:"dropdown"},o.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-email-lang","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},this.state.currentLang),o.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-email-lang"},t)))),o.a.createElement("div",{className:"form-group form-check"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-email-lang-default",onChange:function(t){return e.toggleLangDefault()},checked:this.state.mod.parameters.templates[this.state.currentLang].defaultLang}),o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-email-lang-default"},i.a.t("admin.mod-email-lang-default"))),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-email-subject"},i.a.t("admin.mod-email-subject"))),o.a.createElement("input",{type:"text",className:this.state.errorList.subject?"form-control is-invalid":"form-control",id:"mod-email-subject",onChange:function(t){return e.changeTemplate(t,"subject")},value:this.state.mod.parameters.templates[this.state.currentLang].subject,placeholder:i.a.t("admin.mod-email-subject-ph")})),this.state.errorList.subject?o.a.createElement("span",{className:"error-input"},this.state.errorList.subject):""),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("span",{className:"input-group-text"},i.a.t("admin.mod-email-body-pattern"))),o.a.createElement("textarea",{className:this.state.errorList["body-pattern"]?"form-control is-invalid":"form-control",id:"mod-email-body-pattern",onChange:function(t){return e.changeTemplate(t,"body-pattern")},placeholder:i.a.t("admin.mod-email-body-pattern-ph"),value:this.state.mod.parameters.templates[this.state.currentLang]["body-pattern"]})),this.state.errorList["body-pattern"]?o.a.createElement("span",{className:"error-input"},this.state.errorList["body-pattern"]):""))))))),o.a.createElement("div",{className:"accordion",id:"accordionUpdateEmail"},o.a.createElement("div",{className:"card"},o.a.createElement("div",{className:"card-header",id:"updateEmailCard"},o.a.createElement("h2",{className:"mb-0"},o.a.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseUpdateEmail","aria-expanded":"true","aria-controls":"collapseUpdateEmail"},this.state.errorList["update-email"]?o.a.createElement("span",{className:"error-input btn-icon"},o.a.createElement("i",{className:"fas fa-exclamation-circle"})):"",i.a.t("admin.mod-register-update-email-title")))),o.a.createElement("div",{id:"collapseUpdateEmail",className:"collapse","aria-labelledby":"updateEmailCard","data-parent":"#accordionUpdateEmail"},o.a.createElement("div",{className:"card-body"},o.a.createElement("div",{className:"form-group form-check"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-register-update-email",onChange:function(t){return e.toggleParam(t,"update-email")},checked:this.state.mod.parameters["update-email"]}),o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-register-update-email"},i.a.t("admin.mod-register-update-email")),this.state.errorList["update-email-check"]?o.a.createElement("div",null,o.a.createElement("span",{className:"error-input"},this.state.errorList["update-email-check"])):""),o.a.createElement("div",{className:"collapse"+(this.state.mod.parameters["update-email"]?" show":""),id:"updateEmailCollapse"},o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-register-update-email-token-duration"},i.a.t("admin.mod-register-update-email-token-duration"))),o.a.createElement("input",{type:"number",min:"0",max:"65536",step:"1",className:"form-control",id:"mod-register-update-email-token-duration",onChange:function(t){return e.changeParam(t,"update-email-token-duration",!0)},value:this.state.mod.parameters["update-email-token-duration"],placeholder:i.a.t("admin.mod-register-update-email-token-duration-ph")}))),o.a.createElement("hr",null),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-update-email-from"},i.a.t("admin.mod-email-from"))),o.a.createElement("input",{type:"text",className:this.state.errorList.from?"form-control is-invalid":"form-control",id:"mod-update-email-update-email-from",onChange:function(t){return e.changeParam(t,"update-email-from")},value:this.state.mod.parameters["update-email-from"],placeholder:i.a.t("admin.mod-email-from-ph")})),this.state.errorList["update-email-from"]?o.a.createElement("span",{className:"error-input"},this.state.errorList["update-email-from"]):""),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-update-email-content-type"},i.a.t("admin.mod-email-content-type"))),o.a.createElement("input",{type:"text",className:this.state.errorList["update-email-content-type"]?"form-control is-invalid":"form-control",id:"mod-update-email-content-type",onChange:function(t){return e.changeParam(t,"update-email-content-type")},value:this.state.mod.parameters["update-email-content-type"]||"",placeholder:i.a.t("admin.mod-email-content-type-ph")})),this.state.errorList["update-email-content-type"]?o.a.createElement("span",{className:"error-input"},this.state.errorList["update-email-content-type"]):""),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-update-email-email-lang"},i.a.t("admin.mod-email-lang"))),o.a.createElement("div",{className:"dropdown"},o.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-update-email-email-lang","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},this.state.currentLangUpdateEmail),o.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-update-email-email-lang"},a)))),o.a.createElement("div",{className:"form-group form-check"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-update-email-email-lang-default",onChange:function(t){return e.toggleLangDefault("UpdateEmail")},checked:this.state.mod.parameters.templatesUpdateEmail[this.state.currentLangUpdateEmail].defaultLang}),o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-update-email-email-lang-default"},i.a.t("admin.mod-email-lang-default"))),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-update-email-email-subject"},i.a.t("admin.mod-email-subject"))),o.a.createElement("input",{type:"text",className:this.state.errorList["update-email-subject"]?"form-control is-invalid":"form-control",id:"mod-update-email-email-subject",onChange:function(t){return e.changeTemplate(t,"subject","UpdateEmail")},value:this.state.mod.parameters.templatesUpdateEmail[this.state.currentLangUpdateEmail].subject,placeholder:i.a.t("admin.mod-update-email-subject-ph")})),this.state.errorList["update-email-subject"]?o.a.createElement("span",{className:"error-input"},this.state.errorList["update-email-subject"]):""),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("span",{className:"input-group-text"},i.a.t("admin.mod-email-body-pattern-token"))),o.a.createElement("textarea",{className:this.state.errorList["update-email-body-pattern"]?"form-control is-invalid":"form-control",id:"mod-update-email-body-pattern",onChange:function(t){return e.changeTemplate(t,"body-pattern","UpdateEmail")},placeholder:i.a.t("admin.mod-email-body-pattern-token-ph"),value:this.state.mod.parameters.templatesUpdateEmail[this.state.currentLangUpdateEmail]["body-pattern"]})),this.state.errorList["update-email-body-pattern"]?o.a.createElement("span",{className:"error-input"},this.state.errorList["update-email-body-pattern"]):"")))))),o.a.createElement("div",{className:"accordion",id:"accordionResetCredentials"},o.a.createElement("div",{className:"card"},o.a.createElement("div",{className:"card-header",id:"resetCredentialsCard"},o.a.createElement("h2",{className:"mb-0"},o.a.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseResetCredentials","aria-expanded":"true","aria-controls":"collapseResetCredentials"},this.state.errorList["reset-credentials"]?o.a.createElement("span",{className:"error-input btn-icon"},o.a.createElement("i",{className:"fas fa-exclamation-circle"})):"",i.a.t("admin.mod-register-reset-credentials-title")))),o.a.createElement("div",{id:"collapseResetCredentials",className:"collapse","aria-labelledby":"resetCredentialsCard","data-parent":"#accordionResetCredentials"},o.a.createElement("div",{className:"card-body"},o.a.createElement("div",{className:"form-group form-check"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-register-reset-credentials",onChange:function(t){return e.toggleParam(t,"reset-credentials")},checked:this.state.mod.parameters["reset-credentials"]}),o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-register-reset-credentials"},i.a.t("admin.mod-register-reset-credentials")),this.state.errorList["reset-credentials-option-check"]?o.a.createElement("div",null,o.a.createElement("span",{className:"error-input"},this.state.errorList["reset-credentials-check"])):""),o.a.createElement("div",{className:"collapse"+(this.state.mod.parameters["reset-credentials"]?" show":""),id:"updateResetCredentials"},o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-register-reset-credentials-session-key"},i.a.t("admin.mod-register-reset-credentials-session-key"))),o.a.createElement("input",{type:"text",className:this.state.errorList["reset-credentials-session-key"]?"form-control is-invalid":"form-control",id:"mod-register-reset-credentials-session-key",onChange:function(t){return e.changeParam(t,"reset-credentials-session-key")},value:this.state.mod.parameters["reset-credentials-session-key"],placeholder:i.a.t("admin.mod-register-reset-credentials-session-key")})),this.state.errorList["reset-credentials-session-key"]?o.a.createElement("span",{className:"error-input"},this.state.errorList["reset-credentials-session-key"]):""),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-register-reset-credentials-session-duration"},i.a.t("admin.mod-register-reset-credentials-session-duration"))),o.a.createElement("input",{type:"number",min:"1",step:"1",className:this.state.errorList["reset-credentials-session-duration"]?"form-control is-invalid":"form-control",id:"mod-register-reset-credentials-session-duration",onChange:function(t){return e.changeParam(t,"reset-credentials-session-duration",!0)},value:this.state.mod.parameters["reset-credentials-session-duration"],placeholder:i.a.t("admin.mod-register-reset-credentials-session-duration-ph")})),this.state.errorList["reset-credentials-session-duration"]?o.a.createElement("span",{className:"error-input"},this.state.errorList["reset-credentials-session-duration"]):""),o.a.createElement("div",{className:"form-group form-check"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-register-reset-credentials-email",onChange:function(t){return e.toggleParam(t,"reset-credentials-email")},checked:this.state.mod.parameters["reset-credentials-email"]}),o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-register-reset-credentials-email"},i.a.t("admin.mod-register-reset-credentials-email")),this.state.errorList["reset-credentials-option-check"]?o.a.createElement("div",null,o.a.createElement("span",{className:"error-input"},this.state.errorList["reset-credentials-option-check"])):""),o.a.createElement("div",{className:"collapse"+(this.state.mod.parameters["reset-credentials-email"]?" show":""),id:"updateResetCredentialsEmail"},o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-register-reset-credentials-token-duration"},i.a.t("admin.mod-register-reset-credentials-token-duration"))),o.a.createElement("input",{type:"number",min:"0",max:"65536",step:"1",className:"form-control",id:"mod-register-reset-credentials-token-duration",onChange:function(t){return e.changeParam(t,"reset-credentials-token-duration",!0)},value:this.state.mod.parameters["reset-credentials-token-duration"],placeholder:i.a.t("admin.mod-register-reset-credentials-token-duration-ph")}))),o.a.createElement("hr",null),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-reset-credentials-from"},i.a.t("admin.mod-email-from"))),o.a.createElement("input",{type:"text",className:this.state.errorList.from?"form-control is-invalid":"form-control",id:"mod-reset-credentials-reset-credentials-from",onChange:function(t){return e.changeParam(t,"reset-credentials-from")},value:this.state.mod.parameters["reset-credentials-from"],placeholder:i.a.t("admin.mod-email-from-ph")})),this.state.errorList["reset-credentials-from"]?o.a.createElement("span",{className:"error-input"},this.state.errorList["reset-credentials-from"]):""),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-reset-credentials-content-type"},i.a.t("admin.mod-email-content-type"))),o.a.createElement("input",{type:"text",className:this.state.errorList["reset-credentials-content-type"]?"form-control is-invalid":"form-control",id:"mod-reset-credentials-content-type",onChange:function(t){return e.changeParam(t,"reset-credentials-content-type")},value:this.state.mod.parameters["reset-credentials-content-type"]||"",placeholder:i.a.t("admin.mod-email-content-type-ph")})),this.state.errorList["reset-credentials-content-type"]?o.a.createElement("span",{className:"error-input"},this.state.errorList["reset-credentials-content-type"]):""),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-reset-credentials-email-lang"},i.a.t("admin.mod-email-lang"))),o.a.createElement("div",{className:"dropdown"},o.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-reset-credentials-email-lang","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},this.state.currentLangResetCredentials),o.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-reset-credentials-email-lang"},r)))),o.a.createElement("div",{className:"form-group form-check"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-reset-credentials-email-lang-default",onChange:function(t){return e.toggleLangDefault("ResetCredentials")},checked:this.state.mod.parameters.templatesResetCredentials[this.state.currentLangResetCredentials].defaultLang}),o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-reset-credentials-email-lang-default"},i.a.t("admin.mod-email-lang-default"))),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-reset-credentials-email-subject"},i.a.t("admin.mod-email-subject"))),o.a.createElement("input",{type:"text",className:this.state.errorList["reset-credentials-subject"]?"form-control is-invalid":"form-control",id:"mod-reset-credentials-email-subject",onChange:function(t){return e.changeTemplate(t,"subject","ResetCredentials")},value:this.state.mod.parameters.templatesResetCredentials[this.state.currentLangResetCredentials].subject,placeholder:i.a.t("admin.mod-reset-credentials-subject-ph")})),this.state.errorList["reset-credentials-subject"]?o.a.createElement("span",{className:"error-input"},this.state.errorList["reset-credentials-subject"]):""),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("span",{className:"input-group-text"},i.a.t("admin.mod-email-body-pattern-token"))),o.a.createElement("textarea",{className:this.state.errorList["reset-credentials-body-pattern"]?"form-control is-invalid":"form-control",id:"mod-reset-credentials-body-pattern",onChange:function(t){return e.changeTemplate(t,"body-pattern","ResetCredentials")},placeholder:i.a.t("admin.mod-email-body-pattern-token-ph"),value:this.state.mod.parameters.templatesResetCredentials[this.state.currentLangResetCredentials]["body-pattern"]})),this.state.errorList["reset-credentials-body-pattern"]?o.a.createElement("span",{className:"error-input"},this.state.errorList["reset-credentials-body-pattern"]):"")),o.a.createElement("div",{className:"form-group form-check"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-register-reset-credentials-code",onChange:function(t){return e.toggleParam(t,"reset-credentials-code")},checked:this.state.mod.parameters["reset-credentials-code"]}),o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-register-reset-credentials-code"},i.a.t("admin.mod-register-reset-credentials-code")),this.state.errorList["reset-credentials-option-check"]?o.a.createElement("div",null,o.a.createElement("span",{className:"error-input"},this.state.errorList["reset-credentials-option-check"])):""),o.a.createElement("div",{className:"collapse"+(this.state.mod.parameters["reset-credentials-code"]?" show":""),id:"updateResetCredentialsCode"},o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-register-reset-credentials-code-property"},i.a.t("admin.mod-register-reset-credentials-code-property"))),o.a.createElement("input",{type:"text",className:this.state.errorList["reset-credentials-code-property"]?"form-control is-invalid":"form-control",id:"mod-register-reset-credentials-code-property",onChange:function(t){return e.changeParam(t,"reset-credentials-code-property")},value:this.state.mod.parameters["reset-credentials-code-property"],placeholder:i.a.t("admin.mod-register-reset-credentials-code-property")})),this.state.errorList["reset-credentials-code-property"]?o.a.createElement("span",{className:"error-input"},this.state.errorList["reset-credentials-code-property"]):""),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-reset-credentials-code-list-size"},i.a.t("admin.mod-reset-credentials-code-list-size"))),o.a.createElement("input",{type:"number",min:"1",max:"65536",step:"1",className:"form-control",id:"mod-reset-credentials-code-list-size",onChange:function(t){return e.changeParam(t,"reset-credentials-code-list-size",!0)},value:this.state.mod.parameters["reset-credentials-code-list-size"],placeholder:i.a.t("admin.mod-reset-credentials-code-list-size-ph")}))))))))),o.a.createElement("div",{className:"accordion",id:"accordionSMTPParams"},o.a.createElement("div",{className:"card"},o.a.createElement("div",{className:"card-header",id:"SMTPParamsCard"},o.a.createElement("h2",{className:"mb-0"},o.a.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseSMTPParams","aria-expanded":"true","aria-controls":"collapseSMTPParams"},this.state.errorList.smtp?o.a.createElement("span",{className:"error-input btn-icon"},o.a.createElement("i",{className:"fas fa-exclamation-circle"})):"",i.a.t("admin.mod-register-smtp-params-title")))),o.a.createElement("div",{id:"collapseSMTPParams",className:"collapse","aria-labelledby":"SMTPParamsCard","data-parent":"#accordionSMTPParams"},o.a.createElement("div",{className:"card-body"},o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-register-host"},i.a.t("admin.mod-email-host"))),o.a.createElement("input",{type:"text",className:this.state.errorList.host?"form-control is-invalid":"form-control",id:"mod-register-host",onChange:function(t){return e.changeParam(t,"host")},value:this.state.mod.parameters.host,placeholder:i.a.t("admin.mod-email-host-ph")})),this.state.errorList.host?o.a.createElement("span",{className:"error-input"},this.state.errorList.host):""),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-register-port"},i.a.t("admin.mod-email-port"))),o.a.createElement("input",{type:"number",min:"0",max:"65536",step:"1",className:this.state.errorList.port?"form-control is-invalid":"form-control",id:"mod-register-port",onChange:function(t){return e.changeParam(t,"port",!0)},value:this.state.mod.parameters.port,placeholder:i.a.t("admin.mod-email-port-ph")})),this.state.errorList.port?o.a.createElement("span",{className:"error-input"},this.state.errorList.port):""),o.a.createElement("div",{className:"form-group form-check"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-register-use-tls",onChange:function(t){return e.toggleParam(t,"use-tls")},checked:this.state.mod.parameters["use-tls"]||!1}),o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-register-use-tls"},i.a.t("admin.mod-email-use-tls"))),o.a.createElement("div",{className:"form-group form-check"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",disabled:!this.state.mod.parameters["use-tls"],id:"mod-register-check-certificate",onChange:function(t){return e.toggleParam(t,"check-certificate")},checked:this.state.mod.parameters["check-certificate"]||!1}),o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-register-check-certificate"},i.a.t("admin.mod-email-check-certificate"))),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-register-user"},i.a.t("admin.mod-email-user"))),o.a.createElement("input",{type:"text",className:this.state.errorList.user?"form-control is-invalid":"form-control",id:"mod-register-user",onChange:function(t){return e.changeParam(t,"user")},value:this.state.mod.parameters.user,placeholder:i.a.t("admin.mod-email-user-ph")})),this.state.errorList.user?o.a.createElement("span",{className:"error-input"},this.state.errorList.user):""),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-register-password"},i.a.t("admin.mod-email-password"))),o.a.createElement("input",{type:"password",className:this.state.errorList.password?"form-control is-invalid":"form-control",id:"mod-register-password",onChange:function(t){return e.changeParam(t,"password")},value:this.state.mod.parameters.password,placeholder:i.a.t("admin.mod-email-password-ph")})),this.state.errorList.password?o.a.createElement("span",{className:"error-input"},this.state.errorList.password):""))))),this.state.errorList["has-mandatory"]?o.a.createElement("span",{className:"error-input"},this.state.errorList["has-mandatory"]):"")}}]),a}();function va(e){return(va="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ea(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wa(e,t){return(wa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Na(e){return(Na=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ka=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wa(e,t)}(a,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=Na(e);if(t){var o=Na(this).constructor;a=Reflect.construct(r,arguments,o)}else a=r.apply(this,arguments);return function(e,t){return!t||"object"!==va(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,a)}}(a);function a(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(r=t.call(this,e)).state={config:e.config,modSchemes:e.modSchemes,mod:e.mod,role:e.role,check:e.check},r}return function(e,t,a){t&&Ea(e.prototype,t)}(a,[{key:"componentWillReceiveProps",value:function(e){this.setState({config:e.config,modSchemes:e.modSchemes,mod:e.mod,role:e.role,check:e.check})}},{key:"render",value:function(){return"mock"===this.state.mod.module?o.a.createElement(ea,{mod:this.state.mod,role:this.state.role,check:this.state.check,config:this.state.config}):"oauth2-glewlwyd"===this.state.mod.module?o.a.createElement(sa,{mod:this.state.mod,role:this.state.role,check:this.state.check,config:this.state.config}):"oidc"===this.state.mod.module?o.a.createElement(pa,{mod:this.state.mod,role:this.state.role,check:this.state.check,config:this.state.config}):"register"===this.state.mod.module?o.a.createElement(ya,{mod:this.state.mod,role:this.state.role,check:this.state.check,config:this.state.config,modSchemes:this.state.modSchemes}):""}}]),a}();function Ca(e){return(Ca="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pa(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Sa(e,t){return(Sa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ma(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xa(e){return(xa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _a=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Sa(e,t)}(a,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=xa(e);if(t){var o=xa(this).constructor;a=Reflect.construct(r,arguments,o)}else a=r.apply(this,arguments);return function(e,t){return!t||"object"!==Ca(t)&&"function"!=typeof t?Ma(e):t}(this,a)}}(a);function a(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(r=t.call(this,e)).state={config:e.config,modSchemes:e.modSchemes,title:e.title,mod:e.mod,role:e.role,modTypes:e.types,add:e.add,callback:e.callback,parametersValid:!0,nameInvalid:!1,nameInvalidMessage:!1,typeInvalidMessage:!1,hasError:!1},d.a.subscribe("ModPlugin",(function(e){"modValid"===e.type?r.setState({check:!1,hasError:!1},(function(){r.state.add&&!r.state.mod.name?r.setState({nameInvalid:!0,nameInvalidMessage:i.a.t("admin.error-mod-name-mandatory"),typeInvalidMessage:!1,hasError:!0}):r.state.mod.module?r.state.parametersValid&&(r.state.add?c.a.glewlwydRequest("/mod/plugin/"+encodeURIComponent(r.state.mod.name),"GET").then((function(){r.setState({nameInvalid:!0,nameInvalidMessage:i.a.t("admin.error-mod-name-exist"),typeInvalidMessage:!1,hasError:!0})})).fail((function(e){404===e.status?r.state.callback(!0,r.state.mod):d.a.sendMessage("Notification",{type:"danger",message:i.a.t("error-api-connect")})})):r.state.callback(!0,r.state.mod)):r.setState({nameInvalid:!1,nameInvalidMessage:!1,typeInvalidMessage:i.a.t("admin.error-mod-type-mandatory"),hasError:!0})})):"modInvalid"===e.type&&r.setState({check:!1,hasError:!0})})),r.closeModal=r.closeModal.bind(Ma(r)),r.changeName=r.changeName.bind(Ma(r)),r.changeDisplayName=r.changeDisplayName.bind(Ma(r)),r.changeType=r.changeType.bind(Ma(r)),r.changeParameters=r.changeParameters.bind(Ma(r)),r}return function(e,t,a){t&&Pa(e.prototype,t)}(a,[{key:"componentWillReceiveProps",value:function(e){this.setState({config:e.config,modSchemes:e.modSchemes,title:e.title,mod:e.mod,role:e.role,modTypes:e.types,add:e.add,callback:e.callback,parametersValid:!0,nameInvalid:!1,nameInvalidMessage:!1,typeInvalidMessage:!1,hasError:!1})}},{key:"closeModal",value:function(e,t){this.state.callback&&(t?this.setState({check:!0}):this.state.callback(t))}},{key:"changeName",value:function(e){var t=this.state.mod;t.name=e.target.value,this.setState({mod:t})}},{key:"changeDisplayName",value:function(e){var t=this.state.mod;t.display_name=e.target.value,this.setState({mod:t})}},{key:"changeType",value:function(e,t){var a=this.state.mod;a.module=t,this.setState({mod:a})}},{key:"changeParameters",value:function(e,t){var a=this.state.mod;a.parameters=e,this.setState({mod:a,parametersValid:t})}},{key:"render",value:function(){var e,t,a=this,r=[];if(this.state.add){var n=i.a.t("admin.mod-type-select");this.state.modTypes.forEach((function(e,t){a.state.mod.module===e.name?(n=e.display_name,r.push(o.a.createElement("a",{className:"dropdown-item active",key:t,href:"#",onClick:function(t){return a.changeType(t,e.name)}},e.display_name))):r.push(o.a.createElement("a",{className:"dropdown-item",key:t,href:"#",onClick:function(t){return a.changeType(t,e.name)}},e.display_name))})),e=o.a.createElement("div",{className:"dropdown"},o.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"dropdownModType","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},n),o.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropdownModType"},r))}else this.state.modTypes.forEach((function(t,r){a.state.mod.module===t.name&&(e=o.a.createElement("span",{className:"badge badge-primary btn-icon-right"},t.display_name))}));return"scheme"!==this.state.role&&o.a.createElement("div",{className:"form-group form-check"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-readonly",onChange:function(e){return a.toggleReadonly(e)},checked:this.state.mod.readonly||!1}),o.a.createElement("label",{className:"form-check-label",htmlFor:"mod-readonly"},i.a.t("admin.mod-readonly"))),this.state.hasError&&(t=o.a.createElement("span",{className:"error-input text-right"},i.a.t("admin.error-input"))),o.a.createElement("div",{className:"modal fade",id:"editPluginModal",tabIndex:"-1",role:"dialog","aria-labelledby":"confirmModalLabel","aria-hidden":"true"},o.a.createElement("div",{className:"modal-dialog modal-lg",role:"document"},o.a.createElement("div",{className:"modal-content"},o.a.createElement("div",{className:"modal-header"},o.a.createElement("h5",{className:"modal-title",id:"confirmModalLabel"},this.state.title),o.a.createElement("button",{type:"button",className:"close","aria-label":i.a.t("modal.close"),onClick:function(e){return a.closeModal(e,!1)}},o.a.createElement("span",{"aria-hidden":"true"},"Ã—"))),o.a.createElement("div",{className:"modal-body"},o.a.createElement("form",{className:"needs-validation",noValidate:!0},o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-type"},i.a.t("admin.mod-type"))),e),o.a.createElement("span",{className:"error-input"+(this.state.typeInvalidMessage?"":" hidden")},this.state.typeInvalidMessage)),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-name"},i.a.t("admin.mod-name"))),o.a.createElement("input",{type:"text",className:"form-control"+(this.state.nameInvalid?" is-invalid":""),id:"mod-name",placeholder:i.a.t("admin.mod-name-ph"),maxLength:"128",value:this.state.mod.name||"",onChange:function(e){return a.changeName(e)},disabled:!this.state.add})),o.a.createElement("span",{className:"error-input"+(this.state.nameInvalid?"":" hidden")},this.state.nameInvalidMessage)),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text",htmlFor:"mod-display-name"},i.a.t("admin.mod-display-name"))),o.a.createElement("input",{type:"text",className:"form-control",id:"mod-display-name",placeholder:i.a.t("admin.mod-display-name-ph"),maxLength:"256",value:this.state.mod.display_name||"",onChange:function(e){return a.changeDisplayName(e)}}))),o.a.createElement(ka,{mod:this.state.mod,role:this.state.role,check:this.state.check,config:this.state.config,modSchemes:this.state.modSchemes}))),o.a.createElement("div",{className:"modal-footer"},t,o.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(e){return a.closeModal(e,!1)}},i.a.t("modal.close")),o.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(e){return a.closeModal(e,!0)}},i.a.t("modal.ok"))))))}}]),a}();function La(e){return(La="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ja(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Ra(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Oa(e,t){return(Oa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Fa(e){return(Fa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ta=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Oa(e,t)}(a,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=Fa(e);if(t){var o=Fa(this).constructor;a=Reflect.construct(r,arguments,o)}else a=r.apply(this,arguments);return function(e,t){return!t||"object"!==La(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,a)}}(a);function a(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(r=t.call(this,e)).state={config:e.config,apiKeys:e.apiKeys,loggedIn:e.loggedIn,disableObject:!1},r}return function(e,t,a){t&&Ra(e.prototype,t)}(a,[{key:"componentWillReceiveProps",value:function(e){this.setState({config:e.config,apiKeys:e.apiKeys,loggedIn:e.loggedIn})}},{key:"addApiKey",value:function(e){e.preventDefault(),d.a.sendMessage("App",{type:"add",role:"apiKey"})}},{key:"disableApiKey",value:function(e,t){e.preventDefault(),d.a.sendMessage("App",{type:"delete",role:"apiKey",apiKey:t})}},{key:"handleChangeSearchPattern",value:function(e){var t=this.state.users;t.searchPattern=e.target.value,this.setState({users:t})}},{key:"searchApiKey",value:function(e){e.preventDefault(),d.a.sendMessage("App",{type:"search",role:"apiKey",searchPattern:this.state.users.searchPattern,offset:this.state.users.offset,limit:this.state.users.limit})}},{key:"navigate",value:function(e,t){e.preventDefault(),t>0?d.a.sendMessage("App",{type:"search",role:"apiKey",searchPattern:this.state.users.searchPattern,offset:this.state.users.offset+this.state.users.limit,limit:this.state.users.limit}):this.state.users.offset&&d.a.sendMessage("App",{type:"search",role:"apiKey",searchPattern:this.state.users.searchPattern,offset:this.state.users.offset-this.state.users.limit,limit:this.state.users.limit})}},{key:"navigatePerPage",value:function(e,t){e.preventDefault(),d.a.sendMessage("App",{type:"search",role:"apiKey",pattern:this.state.users.searchPattern,offset:this.state.users.offset,limit:t})}},{key:"render",value:function(){var e=this,t=[];return this.state.apiKeys.list.forEach((function(a,r){var n=new Date(1e3*a.issued_at);t.push(o.a.createElement("tr",{key:r,className:a.enabled?"":"table-danger"},o.a.createElement("td",null,a.counter),o.a.createElement("td",null,a.username),o.a.createElement("td",null,n.toLocaleString()),o.a.createElement("td",{className:"d-none d-lg-table-cell"},a.issued_for),o.a.createElement("td",{className:"d-none d-lg-table-cell"},a.user_agent),o.a.createElement("td",null,o.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.disableApiKey(t,a)},alt:i.a.t("admin.delete"),disabled:!a.enabled},o.a.createElement("i",{className:"fas fa-trash btn-icon"})))))})),o.a.createElement("div",{className:"table-responsive"},o.a.createElement("p",null,i.a.t("admin.api-key-description")),o.a.createElement("table",{className:"table table-striped"},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",{colSpan:"2"},o.a.createElement("h4",null,i.a.t("admin.api-key-title"))),o.a.createElement("th",{colSpan:"4"},o.a.createElement("form",{className:"form-inline d-none d-lg-block",onSubmit:function(t){return e.searchApiKey(t)}},o.a.createElement("div",{className:"btn-group",role:"group"},o.a.createElement("button",ja({disabled:!this.state.loggedIn,type:"button",className:"btn btn-secondary",onClick:function(t){return e.navigate(t,-1)},title:i.a.t("admin.nav-previous")},"disabled",!this.state.apiKeys.offset),o.a.createElement("i",{className:"fas fa-backward"})),o.a.createElement("div",{className:"btn-group",role:"group"},o.a.createElement("button",{disabled:!this.state.loggedIn,id:"btnGroupNavPerPage",type:"button",className:"btn btn-secondary dropdown-toggle","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.nav-per-page")),o.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"btnGroupNavperPage"},o.a.createElement("a",{className:"dropdown-item"+(10===this.state.apiKeys.limit?" active":""),href:"#",onClick:function(t){return e.navigatePerPage(t,10)}},"10"),o.a.createElement("a",{className:"dropdown-item"+(20===this.state.apiKeys.limit?" active":""),href:"#",onClick:function(t){return e.navigatePerPage(t,20)}},"20"),o.a.createElement("a",{className:"dropdown-item"+(50===this.state.apiKeys.limit?" active":""),href:"#",onClick:function(t){return e.navigatePerPage(t,50)}},"50"),o.a.createElement("a",{className:"dropdown-item"+(100===this.state.apiKeys.limit?" active":""),href:"#",onClick:function(t){return e.navigatePerPage(t,100)}},"100"))),o.a.createElement("button",ja({disabled:!this.state.loggedIn,type:"button",className:"btn btn-secondary",onClick:function(t){return e.navigate(t,1)},title:i.a.t("admin.nav-next")},"disabled",this.state.apiKeys.limit>this.state.apiKeys.list.length),o.a.createElement("i",{className:"fas fa-forward"})),o.a.createElement("button",{disabled:!this.state.loggedIn,type:"button",className:"btn btn-secondary",onClick:function(t){return e.addApiKey(t)},title:i.a.t("admin.api-key-add")},o.a.createElement("i",{className:"fas fa-plus"}))),o.a.createElement("div",{className:"btn-group btn-icon-right",role:"group"},o.a.createElement("input",{disabled:!this.state.loggedIn,className:"form-control",type:"search",placeholder:i.a.t("admin.nav-search-placeholder"),"aria-label":"Search",onChange:this.handleChangeSearchPattern,value:this.state.apiKeys.searchPattern||""}),o.a.createElement("button",{disabled:!this.state.loggedIn,className:"btn btn-secondary my-sm-0",type:"submit",title:i.a.t("admin.nav-search-title"),onClick:function(t){return e.searchUsers(t)}},i.a.t("admin.nav-search")))),o.a.createElement("div",{className:"dropdown d-block d-lg-none"},o.a.createElement("button",{disabled:!this.state.loggedIn,className:"btn btn-secondary dropdown-toggle",type:"button",id:"dropdownMenuNav","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},o.a.createElement("i",{className:"fas fa-chevron-circle-down"})),o.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenuNav"},o.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.navigate(t,-1)},alt:i.a.t("admin.nav-previous")},o.a.createElement("i",{className:"fas fa-backward btn-icon"}),i.a.t("admin.nav-previous")),o.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.navigate(t,1)},alt:i.a.t("admin.nav-next")},o.a.createElement("i",{className:"fas fa-forward btn-icon"}),i.a.t("admin.nav-next")),o.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.addUser(t)},alt:i.a.t("admin.api-key-add")},o.a.createElement("i",{className:"fas fa-plus btn-icon"}),i.a.t("admin.api-key-add")))))),o.a.createElement("tr",null,o.a.createElement("th",null,i.a.t("admin.api-key-counter")),o.a.createElement("th",null,i.a.t("admin.api-key-username")),o.a.createElement("th",null,i.a.t("admin.api-key-issued-at")),o.a.createElement("th",{className:"d-none d-lg-table-cell"},i.a.t("admin.api-key-issued-for")),o.a.createElement("th",{className:"d-none d-lg-table-cell"},i.a.t("admin.api-key-user-agent")),o.a.createElement("th",null))),o.a.createElement("tbody",null,t,o.a.createElement("tr",null,o.a.createElement("td",{colSpan:"6"},i.a.t("admin.nav-footer",{offset:this.state.apiKeys.offset,limit:this.state.apiKeys.limit}))))),o.a.createElement("p",null,i.a.t("admin.api-key-example-description")),o.a.createElement("code",null,i.a.t("admin.api-key-example")))}}]),a}();function Aa(e){return(Aa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ua(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ia(e,t){return(Ia=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function qa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Da(e){return(Da=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ka=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ia(e,t)}(a,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=Da(e);if(t){var o=Da(this).constructor;a=Reflect.construct(r,arguments,o)}else a=r.apply(this,arguments);return function(e,t){return!t||"object"!==Aa(t)&&"function"!=typeof t?qa(e):t}(this,a)}}(a);function a(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(r=t.call(this,e)).state={lang:i.a.language,config:e.config,passwordMinLength:e.config.PasswordMinLength||8,curNav:"users",loggedIn:!1,users:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},curUser:!1,clients:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},curClient:!1,scopes:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},curScope:!1,apiKeys:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},curApiKey:!1,confirmModal:{title:"",message:""},messageModal:{title:"",label:"",message:[]},editModal:{title:"",pattern:[],source:[],data:{},callback:!1,validateCallback:!1,add:!1},scopeModal:{title:"",data:{name:"",display_name:"",description:"",password_required:!0,scheme:{}},callback:!1,add:!1},curMod:!1,modUsers:[],modUsersMiddleware:[],ModModal:{title:"",role:!1,data:{},types:[],add:!1,callback:!1},modClients:[],modSchemes:[],plugins:[],PluginModal:{title:"",data:{},types:[],add:!1,callback:!1},modTypes:{user:[],client:[],scheme:[],plugin:[]},profileList:!1,invalidCredentialMessage:!1,savedRecord:!1,savedIndex:-1},r.fetchApi=r.fetchApi.bind(qa(r)),r.reloadMods=r.reloadMods.bind(qa(r)),r.fetchUsers=r.fetchUsers.bind(qa(r)),r.confirmDeleteUser=r.confirmDeleteUser.bind(qa(r)),r.confirmEditUser=r.confirmEditUser.bind(qa(r)),r.confirmAddUser=r.confirmAddUser.bind(qa(r)),r.validateUser=r.validateUser.bind(qa(r)),r.fetchClients=r.fetchClients.bind(qa(r)),r.confirmDeleteClient=r.confirmDeleteClient.bind(qa(r)),r.confirmEditClient=r.confirmEditClient.bind(qa(r)),r.confirmAddClient=r.confirmAddClient.bind(qa(r)),r.validateClient=r.validateClient.bind(qa(r)),r.fetchScopes=r.fetchScopes.bind(qa(r)),r.fetchAllScopes=r.fetchAllScopes.bind(qa(r)),r.confirmDeleteScope=r.confirmDeleteScope.bind(qa(r)),r.confirmEditScope=r.confirmEditScope.bind(qa(r)),r.confirmAddScope=r.confirmAddScope.bind(qa(r)),r.fetchModTypes=r.fetchModTypes.bind(qa(r)),r.fetchUserMods=r.fetchUserMods.bind(qa(r)),r.fetchUserMiddlewareMods=r.fetchUserMiddlewareMods.bind(qa(r)),r.fetchClientMods=r.fetchClientMods.bind(qa(r)),r.fetchSchemeMods=r.fetchSchemeMods.bind(qa(r)),r.fetchPlugins=r.fetchPlugins.bind(qa(r)),r.confirmAddUserMod=r.confirmAddUserMod.bind(qa(r)),r.confirmEditUserMod=r.confirmEditUserMod.bind(qa(r)),r.confirmDeleteUserMod=r.confirmDeleteUserMod.bind(qa(r)),r.confirmAddUserMiddlewareMod=r.confirmAddUserMiddlewareMod.bind(qa(r)),r.confirmEditUserMiddlewareMod=r.confirmEditUserMiddlewareMod.bind(qa(r)),r.confirmDeleteUserMiddlewareMod=r.confirmDeleteUserMiddlewareMod.bind(qa(r)),r.confirmAddClientMod=r.confirmAddClientMod.bind(qa(r)),r.confirmEditClientMod=r.confirmEditClientMod.bind(qa(r)),r.confirmDeleteClientMod=r.confirmDeleteClientMod.bind(qa(r)),r.confirmAddSchemeMod=r.confirmAddSchemeMod.bind(qa(r)),r.confirmEditSchemeMod=r.confirmEditSchemeMod.bind(qa(r)),r.confirmDeleteSchemeMod=r.confirmDeleteSchemeMod.bind(qa(r)),r.confirmAddPluginMod=r.confirmAddPluginMod.bind(qa(r)),r.confirmEditPluginMod=r.confirmEditPluginMod.bind(qa(r)),r.confirmDeletePluginMod=r.confirmDeletePluginMod.bind(qa(r)),r.addApiKey=r.addApiKey.bind(qa(r)),r.confirmDisableApiKey=r.confirmDisableApiKey.bind(qa(r)),d.a.subscribe("App",(function(e){if("nav"===e.type)r.setState({curNav:e.message});else if("profile"===e.type)r.fetchApi();else if("loggedIn"===e.type)r.setState({loggedIn:e.loggedIn},(function(){r.fetchApi()}));else if("lang"===e.type)r.setState({lang:i.a.language});else if("reloadMods"===e.type)r.reloadMods();else if("delete"===e.type)if("user"===e.role){var t={title:i.a.t("admin.confirm-delete-user-title",{user:e.user.name}),message:i.a.t("admin.confirm-delete-user",{username:e.user.username,name:e.user.name}),callback:r.confirmDeleteUser};r.setState({confirmModal:t,curUser:e.user},(function(){$("#confirmModal").modal({keyboard:!1,show:!0})}))}else"client"===e.role?(t={title:i.a.t("admin.confirm-delete-client-title",{client:e.client.name}),message:i.a.t("admin.confirm-delete-client",{clientId:e.client.client_id,name:e.client.name}),callback:r.confirmDeleteClient},r.setState({confirmModal:t,curClient:e.client},(function(){$("#confirmModal").modal({keyboard:!1,show:!0})}))):"scope"===e.role?(t={title:i.a.t("admin.confirm-delete-scope-title",{scope:e.scope.name}),message:i.a.t("admin.confirm-delete-scope",{scope:e.scope.name,name:e.scope.display_name}),callback:r.confirmDeleteScope},r.setState({confirmModal:t,curScope:e.scope},(function(){$("#confirmModal").modal({keyboard:!1,show:!0})}))):"userMod"===e.role?(t={title:i.a.t("admin.confirm-delete-mod-title",{mod:e.mod.display_name}),message:i.a.t("admin.confirm-delete-mod",{mod:e.mod.display_name}),callback:r.confirmDeleteUserMod},r.setState({confirmModal:t,curMod:e.mod},(function(){$("#confirmModal").modal({keyboard:!1,show:!0})}))):"userMiddlewareMod"===e.role?(t={title:i.a.t("admin.confirm-delete-mod-title",{mod:e.mod.display_name}),message:i.a.t("admin.confirm-delete-mod",{mod:e.mod.display_name}),callback:r.confirmDeleteUserMiddlewareMod},r.setState({confirmModal:t,curMod:e.mod},(function(){$("#confirmModal").modal({keyboard:!1,show:!0})}))):"clientMod"===e.role?(t={title:i.a.t("admin.confirm-delete-mod-title",{mod:e.mod.display_name}),message:i.a.t("admin.confirm-delete-mod",{mod:e.mod.display_name}),callback:r.confirmDeleteClientMod},r.setState({confirmModal:t,curMod:e.mod},(function(){$("#confirmModal").modal({keyboard:!1,show:!0})}))):"schemeMod"===e.role?(t={title:i.a.t("admin.confirm-delete-mod-title",{mod:e.mod.display_name}),message:i.a.t("admin.confirm-delete-mod",{mod:e.mod.display_name}),callback:r.confirmDeleteSchemeMod},r.setState({confirmModal:t,curMod:e.mod},(function(){$("#confirmModal").modal({keyboard:!1,show:!0})}))):"plugin"===e.role?(t={title:i.a.t("admin.confirm-delete-mod-title",{mod:e.mod.display_name}),message:i.a.t("admin.confirm-delete-mod",{mod:e.mod.display_name}),callback:r.confirmDeletePluginMod},r.setState({confirmModal:t,curMod:e.mod},(function(){$("#confirmModal").modal({keyboard:!1,show:!0})}))):"apiKey"===e.role&&(t={title:i.a.t("admin.confirm-delete-api-key-title"),message:i.a.t("admin.confirm-delete-api-key"),callback:r.confirmDisableApiKey},r.setState({confirmModal:t,curApiKey:e.apiKey},(function(){$("#confirmModal").modal({keyboard:!1,show:!0})})));else if("edit"===e.type){if("user"===e.role){var a={title:i.a.t("admin.edit-user-title",{user:e.user.name}),pattern:r.state.config.pattern.user,source:r.state.modUsers,data:e.user,callback:r.confirmEditUser,validateCallback:r.validateUser};r.setState({editModal:a,savedRecord:JSON.stringify(e.user),savedIndex:e.index},(function(){$("#editRecordModal").modal({keyboard:!1,show:!0})}))}else if("client"===e.role)a={title:i.a.t("admin.edit-client-title",{client:e.client.name}),pattern:r.state.config.pattern.client,data:e.client,source:r.state.modClients,callback:r.confirmEditClient,validateCallback:r.validateClient},r.setState({editModal:a,savedRecord:JSON.stringify(e.client),savedIndex:e.index},(function(){$("#editRecordModal").modal({keyboard:!1,show:!0})}));else if("scope"===e.role){var o={title:i.a.t("admin.edit-scope-title",{scope:e.scope.scope}),data:e.scope,callback:r.confirmEditScope};r.setState({scopeModal:o,savedRecord:JSON.stringify(e.scope),savedIndex:e.index},(function(){$("#editScopeModal").modal({keyboard:!1,show:!0})}))}else if("userMod"===e.role){var n={title:i.a.t("admin.edit-mod-title",{mod:e.mod.display_name}),data:e.mod,role:"user",types:r.state.modTypes.user,callback:r.confirmEditUserMod};r.setState({ModModal:n,savedRecord:JSON.stringify(e.mod),savedIndex:e.index},(function(){$("#editModModal").modal({keyboard:!1,show:!0})}))}else if("userMiddlewareMod"===e.role)n={title:i.a.t("admin.edit-mod-title",{mod:e.mod.display_name}),data:e.mod,role:"userMiddleware",types:r.state.modTypes.user_middleware,callback:r.confirmEditUserMiddlewareMod},r.setState({ModModal:n,savedRecord:JSON.stringify(e.mod),savedIndex:e.index},(function(){$("#editModModal").modal({keyboard:!1,show:!0})}));else if("clientMod"===e.role)n={title:i.a.t("admin.edit-mod-title",{mod:e.mod.display_name}),data:e.mod,types:r.state.modTypes.client,role:"client",callback:r.confirmEditClientMod},r.setState({ModModal:n,savedRecord:JSON.stringify(e.mod),savedIndex:e.index},(function(){$("#editModModal").modal({keyboard:!1,show:!0})}));else if("schemeMod"===e.role)n={title:i.a.t("admin.edit-mod-title",{mod:e.mod.display_name}),data:e.mod,types:r.state.modTypes.scheme,role:"scheme",callback:r.confirmEditSchemeMod},r.setState({ModModal:n,savedRecord:JSON.stringify(e.mod),savedIndex:e.index},(function(){$("#editModModal").modal({keyboard:!1,show:!0})}));else if("plugin"===e.role){var s={title:i.a.t("admin.edit-mod-title",{mod:e.mod.display_name}),data:e.mod,types:r.state.modTypes.plugin,callback:r.confirmEditPluginMod};r.setState({PluginModal:s,savedRecord:JSON.stringify(e.mod),savedIndex:e.index},(function(){$("#editPluginModal").modal({keyboard:!1,show:!0})}))}}else if("add"===e.type)"user"===e.role?(a={title:i.a.t("admin.add-user-title"),pattern:r.state.config.pattern.user,source:r.state.modUsers,data:{username:"",name:"",password:"",email:"",enabled:!0,scope:[]},callback:r.confirmAddUser,validateCallback:r.validateUser,add:!0},r.setState({editModal:a},(function(){$("#editRecordModal").modal({keyboard:!1,show:!0})}))):"client"===e.role?(a={title:i.a.t("admin.add-client-title"),pattern:r.state.config.pattern.client,source:r.state.modClients,data:{client_id:"",confidential:!1,client_secret:"",enabled:!0,name:"",password:"",redirect_uri:[],scope:[]},callback:r.confirmAddClient,validateCallback:r.validateClient,add:!0},r.setState({editModal:a},(function(){$("#editRecordModal").modal({keyboard:!1,show:!0})}))):"scope"===e.role?(o={title:i.a.t("admin.add-scope-title"),data:{name:"",display_name:"",description:"",password_required:!0,password_max_age:0,scheme:{},schemeRequired:{}},callback:r.confirmAddScope,add:!0},r.setState({scopeModal:o},(function(){$("#editScopeModal").modal({keyboard:!1,show:!0})}))):"userMod"===e.role?(n={title:i.a.t("admin.add-mod-title"),data:{order_rank:r.state.modUsers.length,parameters:{}},types:r.state.modTypes.user,role:"user",callback:r.confirmAddUserMod,add:!0},r.setState({ModModal:n},(function(){$("#editModModal").modal({keyboard:!1,show:!0})}))):"userMiddlewareMod"===e.role?(n={title:i.a.t("admin.add-mod-title"),data:{order_rank:r.state.modUsersMiddleware.length,parameters:{}},types:r.state.modTypes.user_middleware,role:"userMiddleware",callback:r.confirmAddUserMiddlewareMod,add:!0},r.setState({ModModal:n},(function(){$("#editModModal").modal({keyboard:!1,show:!0})}))):"clientMod"===e.role?(n={title:i.a.t("admin.add-mod-title"),data:{order_rank:r.state.modClients.length,parameters:{}},types:r.state.modTypes.client,role:"client",callback:r.confirmAddClientMod,add:!0},r.setState({ModModal:n},(function(){$("#editModModal").modal({keyboard:!1,show:!0})}))):"schemeMod"===e.role?(n={title:i.a.t("admin.add-mod-title"),data:{parameters:{}},types:r.state.modTypes.scheme,role:"scheme",callback:r.confirmAddSchemeMod,add:!0},r.setState({ModModal:n},(function(){$("#editModModal").modal({keyboard:!1,show:!0})}))):"plugin"===e.role?(s={title:i.a.t("admin.add-mod-title"),data:{parameters:{}},types:r.state.modTypes.plugin,callback:r.confirmAddPluginMod,add:!0},r.setState({PluginModal:s},(function(){$("#editPluginModal").modal({keyboard:!1,show:!0})}))):"apiKey"===e.role&&r.addApiKey();else if("swap"===e.type)"userMod"===e.role?c.a.glewlwydRequest("/mod/user/"+encodeURIComponent(e.mod.name),"PUT",e.mod).then((function(){return c.a.glewlwydRequest("/mod/user/"+encodeURIComponent(e.previousMod.name),"PUT",e.previousMod).fail((function(e){d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-edit-mod")}),401!==e.status?d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-fetch")}):r.setState({loggedIn:!1,modTypes:{user:[],client:[],scheme:[],plugin:[]},users:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},clients:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},scopes:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},apiKeys:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},modUsers:[],modUsersMiddleware:[],modClients:[],modSchemes:[],plugins:[],invalidCredentialMessage:!0})}))})).fail((function(e){401!==e.status?d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-fetch")}):(d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-edit-mod")}),r.setState({loggedIn:!1,modTypes:{user:[],client:[],scheme:[],plugin:[]},users:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},clients:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},scopes:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},apiKeys:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},modUsers:[],modUsersMiddleware:[],modClients:[],modSchemes:[],plugins:[],invalidCredentialMessage:!0}))})).always((function(){r.fetchUserMods(),r.fetchUsers()})):"userMiddlewareMod"===e.role?c.a.glewlwydRequest("/mod/user_middleware/"+encodeURIComponent(e.mod.name),"PUT",e.mod).then((function(){return c.a.glewlwydRequest("/mod/user_middleware/"+encodeURIComponent(e.previousMod.name),"PUT",e.previousMod).fail((function(e){d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-edit-mod")}),401!==e.status?d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-fetch")}):r.setState({loggedIn:!1,modTypes:{user:[],client:[],scheme:[],plugin:[]},users:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},clients:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},scopes:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},apiKeys:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},modUsers:[],modUsersMiddleware:[],modClients:[],modSchemes:[],plugins:[],invalidCredentialMessage:!0})}))})).fail((function(e){401!==e.status?d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-fetch")}):(d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-edit-mod")}),r.setState({loggedIn:!1,modTypes:{user:[],client:[],scheme:[],plugin:[]},users:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},clients:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},scopes:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},apiKeys:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},modUsers:[],modUsersMiddleware:[],modClients:[],modSchemes:[],plugins:[],invalidCredentialMessage:!0}))})).always((function(){r.fetchUserMiddlewareMods(),r.fetchUsers()})):"clientMod"===e.role&&c.a.glewlwydRequest("/mod/client/"+encodeURIComponent(e.mod.name),"PUT",e.mod).then((function(){return c.a.glewlwydRequest("/mod/client/"+encodeURIComponent(e.previousMod.name),"PUT",e.previousMod).fail((function(e){d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-edit-mod")}),401!==e.status?d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-fetch")}):r.setState({loggedIn:!1,modTypes:{user:[],client:[],scheme:[],plugin:[]},users:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},clients:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},scopes:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},apiKeys:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},modUsers:[],modUsersMiddleware:[],modClients:[],modSchemes:[],plugins:[],invalidCredentialMessage:!0})}))})).fail((function(e){d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-edit-mod")}),401!==e.status?d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-fetch")}):r.setState({loggedIn:!1,modTypes:{user:[],client:[],scheme:[],plugin:[]},users:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},clients:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},scopes:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},apiKeys:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},modUsers:[],modUsersMiddleware:[],modClients:[],modSchemes:[],plugins:[],invalidCredentialMessage:!0})})).always((function(){r.fetchClientMods(),r.fetchClients()}));else if("search"===e.type){if("user"===e.role){var l=r.state.users;l.searchPattern=e.searchPattern,l.offset=e.offset,l.limit=e.limit,r.setState({users:l},(function(){r.fetchUsers()}))}else if("client"===e.role){var m=r.state.clients;m.searchPattern=e.searchPattern,m.offset=e.offset,m.limit=e.limit,r.setState({clients:m},(function(){r.fetchClients()}))}else if("scope"===e.role){var p=r.state.scopes;p.searchPattern=e.searchPattern,p.offset=e.offset,p.limit=e.limit,r.setState({scopes:p},(function(){r.fetchScopes()}))}}else"refresh"===e.type&&("schemeMod"===e.role?r.fetchSchemeMods():"userMod"===e.role?r.fetchUserMods():"userMiddlewareMod"===e.role?r.fetchUserMiddlewareMods():"clientMod"===e.role?r.fetchClientMods():"pluginMod"===e.role&&r.fetchPlugins())})),r.state.config&&r.fetchApi(),r}return function(e,t,a){t&&Ua(e.prototype,t)}(a,[{key:"reloadMods",value:function(){var e=this;c.a.glewlwydRequest("/mod/reload","PUT").then((function(){e.fetchModTypes(),e.fetchUserMods(),e.fetchUserMiddlewareMods(),e.fetchClientMods(),e.fetchSchemeMods(),e.fetchPlugins(),e.fetchApiKeys()})).fail((function(e){d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-fetch")})}))}},{key:"fetchApi",value:function(){var e=this;c.a.glewlwydRequest("/profile_list").then((function(t){e.setState({profileList:t},(function(){e.fetchUsers().then((function(){e.setState({invalidCredentialMessage:!1},(function(){e.fetchClients().always((function(){e.fetchScopes()})),e.fetchModTypes(),e.fetchUserMods(),e.fetchUserMiddlewareMods(),e.fetchClientMods(),e.fetchSchemeMods(),e.fetchPlugins(),e.fetchAllScopes(),e.fetchApiKeys()}))})).fail((function(t){e.setState({modTypes:{user:[],client:[],scheme:[],plugin:[]},users:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},clients:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},scopes:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},apiKeys:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},modUsers:[],modClients:[],modSchemes:[],plugins:[],invalidCredentialMessage:!0})}))}))})).fail((function(t){e.setState({invalidCredentialMessage:!0},(function(){e.setState({modTypes:{user:[],client:[],scheme:[],plugin:[]},users:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},clients:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},scopes:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},apiKeys:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},modUsers:[],modClients:[],modSchemes:[],plugins:[],profileList:[]},(function(){401===t.status?d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.requires-admin-scope")}):d.a.sendMessage("Notification",{type:"danger",message:i.a.t("error-api-connect")})}))}))}))}},{key:"fetchUsers",value:function(){var e=this;return c.a.glewlwydRequest("/user?offset="+this.state.users.offset+"&limit="+this.state.users.limit+(this.state.users.searchPattern?"&pattern="+this.state.users.searchPattern:"")).then((function(t){var a=e.state.users;a.list=t,a.pattern=e.state.config.pattern.user,e.setState({users:a,loggedIn:!0})})).fail((function(t){401!==t.status?d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-fetch")}):(d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.requires-admin-scope")}),e.setState({loggedIn:!1,modTypes:{user:[],client:[],scheme:[],plugin:[]},users:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},clients:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},scopes:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},apiKeys:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},modUsers:[],modClients:[],modSchemes:[],plugins:[],invalidCredentialMessage:!0}))}))}},{key:"fetchClients",value:function(){var e=this;return c.a.glewlwydRequest("/client?offset="+this.state.clients.offset+"&limit="+this.state.clients.limit+(this.state.clients.searchPattern?"&pattern="+this.state.clients.searchPattern:"")).then((function(t){var a=e.state.clients;a.list=t,a.pattern=e.state.config.pattern.client,e.setState({clients:a})})).fail((function(t){401!==t.status?d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-fetch")}):e.setState({loggedIn:!1,modTypes:{user:[],client:[],scheme:[],plugin:[]},users:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},clients:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},scopes:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},apiKeys:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},modUsers:[],modClients:[],modSchemes:[],plugins:[],invalidCredentialMessage:!0})}))}},{key:"fetchScopes",value:function(){var e=this;return c.a.glewlwydRequest("/scope?offset="+this.state.scopes.offset+"&limit="+this.state.scopes.limit+(this.state.scopes.searchPattern?"&pattern="+this.state.scopes.searchPattern:"")).then((function(t){var a=e.state.scopes;a.list=t,e.setState({scopes:a})})).fail((function(t){401!==t.status?d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-fetch")}):e.setState({loggedIn:!1,modTypes:{user:[],client:[],scheme:[],plugin:[]},users:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},clients:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},scopes:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},apiKeys:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},modUsers:[],modClients:[],modSchemes:[],plugins:[],invalidCredentialMessage:!0})}))}},{key:"fetchAllScopes",value:function(){var e=this;return c.a.glewlwydRequest("/scope?limit=0").then((function(t){var a=[],r=e.state.users,o=e.state.clients,n=e.state.config;t.forEach((function(e){a.push(e.name)})),r.pattern.forEach((function(e){"scope"===e.name&&(e.listElements=a)})),o.pattern.forEach((function(e){"scope"===e.name&&(e.listElements=a)})),n.scopes=t,e.setState({users:r,clients:o,config:n})}))}},{key:"fetchUserMods",value:function(){var e=this;return c.a.glewlwydRequest("/mod/user").then((function(t){e.setState({modUsers:t})})).fail((function(t){401!==t.status?d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-fetch")}):e.setState({loggedIn:!1,modTypes:{user:[],client:[],scheme:[],plugin:[]},users:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},clients:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},scopes:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},apiKeys:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},modUsers:[],modClients:[],modSchemes:[],plugins:[],invalidCredentialMessage:!0})}))}},{key:"fetchUserMiddlewareMods",value:function(){var e=this;return c.a.glewlwydRequest("/mod/user_middleware").then((function(t){e.setState({modUsersMiddleware:t})})).fail((function(t){401!==t.status?d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-fetch")}):e.setState({loggedIn:!1,modTypes:{user:[],client:[],scheme:[],plugin:[]},users:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},clients:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},scopes:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},apiKeys:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},modUsers:[],modUsersMiddleware:[],modClients:[],modSchemes:[],plugins:[],invalidCredentialMessage:!0})}))}},{key:"fetchModTypes",value:function(){var e=this;return c.a.glewlwydRequest("/mod/type").then((function(t){e.setState({modTypes:t})})).fail((function(t){401!==t.status?d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-fetch")}):e.setState({loggedIn:!1,modTypes:{user:[],client:[],scheme:[],plugin:[]},users:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},clients:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},scopes:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},apiKeys:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},modUsers:[],modUsersMiddleware:[],modClients:[],modSchemes:[],plugins:[],invalidCredentialMessage:!0})}))}},{key:"fetchClientMods",value:function(){var e=this;return c.a.glewlwydRequest("/mod/client").then((function(t){e.setState({modClients:t})})).fail((function(t){401!==t.status?d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-fetch")}):e.setState({loggedIn:!1,modTypes:{user:[],client:[],scheme:[],plugin:[]},users:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},clients:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},scopes:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},apiKeys:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},modUsers:[],modUsersMiddleware:[],modClients:[],modSchemes:[],plugins:[],invalidCredentialMessage:!0})}))}},{key:"fetchSchemeMods",value:function(){var e=this;return c.a.glewlwydRequest("/mod/scheme").then((function(t){e.setState({modSchemes:t})})).fail((function(t){401!==t.status?d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-fetch")}):e.setState({loggedIn:!1,modTypes:{user:[],client:[],scheme:[],plugin:[]},users:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},clients:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},scopes:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},apiKeys:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},modUsers:[],modUsersMiddleware:[],modClients:[],modSchemes:[],plugins:[],invalidCredentialMessage:!0})}))}},{key:"fetchPlugins",value:function(){var e=this;return c.a.glewlwydRequest("/mod/plugin").then((function(t){e.setState({plugins:t})})).fail((function(t){401!==t.status?d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-fetch")}):e.setState({loggedIn:!1,modTypes:{user:[],client:[],scheme:[],plugin:[]},users:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},clients:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},scopes:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},apiKeys:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},modUsers:[],modUsersMiddleware:[],modClients:[],modSchemes:[],plugins:[],invalidCredentialMessage:!0})}))}},{key:"fetchApiKeys",value:function(){var e=this;return c.a.glewlwydRequest("/key?offset="+this.state.apiKeys.offset+"&limit="+this.state.apiKeys.limit+(this.state.apiKeys.searchPattern?"&pattern="+this.state.apiKeys.searchPattern:"")).then((function(t){var a=e.state.apiKeys;a.list=t,a.pattern=e.state.config.pattern.user,e.setState({apiKeys:a,loggedIn:!0})})).fail((function(t){401!==t.status?d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-fetch")}):(d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.requires-admin-scope")}),e.setState({loggedIn:!1,modTypes:{user:[],client:[],scheme:[],plugin:[]},users:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},clients:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},scopes:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},apiKeys:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},modUsers:[],modUsersMiddleware:[],modClients:[],modSchemes:[],plugins:[],invalidCredentialMessage:!0}))}))}},{key:"confirmDeleteUser",value:function(e){var t=this;e?c.a.glewlwydRequest("/user/"+encodeURIComponent(this.state.curUser.username),"DELETE").then((function(){d.a.sendMessage("Notification",{type:"success",message:i.a.t("admin.success-api-delete-user")})})).fail((function(e){d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-delete-user")}),401!==e.status?d.a.sendMessage("Notification",{type:"danger",message:i.a.t("error-api-connect")}):(d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.requires-admin-scope")}),t.setState({loggedIn:!1,modTypes:{user:[],client:[],scheme:[],plugin:[]},users:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},clients:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},scopes:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},apiKeys:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},modUsers:[],modUsersMiddleware:[],modClients:[],modSchemes:[],plugins:[],invalidCredentialMessage:!0}))})).always((function(){t.fetchUsers().always((function(){t.setState({confirmModal:{title:"",message:""}},(function(){$("#confirmModal").modal("hide")}))}))})):this.setState({confirmModal:{title:"",message:""}},(function(){$("#confirmModal").modal("hide")}))}},{key:"confirmDeleteClient",value:function(e){var t=this;e?c.a.glewlwydRequest("/client/"+encodeURIComponent(this.state.curClient.client_id),"DELETE").then((function(){d.a.sendMessage("Notification",{type:"success",message:i.a.t("admin.success-api-delete-client")})})).fail((function(e){d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-delete-client")}),401!==e.status?d.a.sendMessage("Notification",{type:"danger",message:i.a.t("error-api-connect")}):(d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.requires-admin-scope")}),t.setState({loggedIn:!1,modTypes:{user:[],client:[],scheme:[],plugin:[]},users:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},clients:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},scopes:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},apiKeys:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},modUsers:[],modUsersMiddleware:[],modClients:[],modSchemes:[],plugins:[],invalidCredentialMessage:!0}))})).always((function(){t.fetchClients().always((function(){t.setState({confirmModal:{title:"",message:""}},(function(){$("#confirmModal").modal("hide")}))}))})):this.setState({confirmModal:{title:"",message:""}},(function(){$("#confirmModal").modal("hide")}))}},{key:"confirmDeleteScope",value:function(e){var t=this;e?c.a.glewlwydRequest("/scope/"+encodeURIComponent(this.state.curScope.name),"DELETE").then((function(){d.a.sendMessage("Notification",{type:"success",message:i.a.t("admin.success-api-delete-scope")})})).fail((function(e){d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-delete-scope")}),401!==e.status?d.a.sendMessage("Notification",{type:"danger",message:i.a.t("error-api-connect")}):(d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.requires-admin-scope")}),t.setState({loggedIn:!1,modTypes:{user:[],client:[],scheme:[],plugin:[]},users:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},clients:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},scopes:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},apiKeys:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},modUsers:[],modUsersMiddleware:[],modClients:[],modSchemes:[],plugins:[],invalidCredentialMessage:!0}))})).always((function(){t.fetchScopes().always((function(){t.setState({confirmModal:{title:"",message:""}},(function(){$("#confirmModal").modal("hide")}))}))})):this.setState({confirmModal:{title:"",message:""}},(function(){$("#confirmModal").modal("hide")}))}},{key:"confirmEditUser",value:function(e,t){var a=this;if(e)c.a.glewlwydRequest("/user/"+encodeURIComponent(t.username),"PUT",t).then((function(){d.a.sendMessage("Notification",{type:"success",message:i.a.t("admin.success-api-set-user")})})).fail((function(e){d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-set-user")}),401!==e.status?d.a.sendMessage("Notification",{type:"danger",message:i.a.t("error-api-connect")}):(d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.requires-admin-scope")}),a.setState({loggedIn:!1,modTypes:{user:[],client:[],scheme:[],plugin:[]},users:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},clients:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},scopes:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},apiKeys:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},modUsers:[],modUsersMiddleware:[],modClients:[],modSchemes:[],plugins:[],invalidCredentialMessage:!0}))})).always((function(){a.fetchUsers().always((function(){a.setState({editModal:{title:"",pattern:[],source:[],data:{},callback:!1,savedRecord:!1,savedIndex:-1}},(function(){$("#editRecordModal").modal("hide")}))}))}));else{var r=this.state.users;r.list[this.state.savedIndex]=JSON.parse(this.state.savedRecord),this.setState({editModal:{title:"",pattern:[],source:[],data:{},callback:!1,users:r,savedRecord:!1,savedIndex:-1}},(function(){$("#editRecordModal").modal("hide")}))}}},{key:"confirmEditClient",value:function(e,t){var a=this;if(e)c.a.glewlwydRequest("/client/"+encodeURIComponent(t.client_id),"PUT",t).then((function(){d.a.sendMessage("Notification",{type:"success",message:i.a.t("admin.success-api-set-client")})})).fail((function(e){d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-set-client")}),401!==e.status?d.a.sendMessage("Notification",{type:"danger",message:i.a.t("error-api-connect")}):(d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.requires-admin-scope")}),a.setState({loggedIn:!1,modTypes:{user:[],client:[],scheme:[],plugin:[]},users:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},clients:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},scopes:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},apiKeys:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},modUsers:[],modUsersMiddleware:[],modClients:[],modSchemes:[],plugins:[],invalidCredentialMessage:!0}))})).always((function(){a.fetchClients().always((function(){a.setState({editModal:{title:"",pattern:[],source:[],data:{},callback:!1,savedRecord:!1,savedIndex:-1}},(function(){$("#editRecordModal").modal("hide")}))}))}));else{var r=this.state.clients;r.list[this.state.savedIndex]=JSON.parse(this.state.savedRecord),this.setState({editModal:{title:"",pattern:[],source:[],data:{},callback:!1,clients:r,savedRecord:!1,savedIndex:-1}},(function(){$("#editRecordModal").modal("hide")}))}}},{key:"confirmEditScope",value:function(e,t){var a=this;if(e)c.a.glewlwydRequest("/scope/"+encodeURIComponent(t.name),"PUT",t).then((function(){d.a.sendMessage("Notification",{type:"success",message:i.a.t("admin.success-api-set-scope")})})).fail((function(e){d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-set-scope")}),401!==e.status?d.a.sendMessage("Notification",{type:"danger",message:i.a.t("error-api-connect")}):(d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.requires-admin-scope")}),a.setState({loggedIn:!1,modTypes:{user:[],client:[],scheme:[],plugin:[]},users:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},clients:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},scopes:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},apiKeys:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},modUsers:[],modUsersMiddleware:[],modClients:[],modSchemes:[],plugins:[],invalidCredentialMessage:!0}))})).always((function(){a.fetchScopes().always((function(){a.setState({scopeModal:{data:{},callback:!1,savedRecord:!1,savedIndex:-1}},(function(){$("#editScopeModal").modal("hide")}))}))}));else{var r=this.state.scopes;r.list[this.state.savedIndex]=JSON.parse(this.state.savedRecord),this.setState({scopeModal:{data:{},callback:!1,scopes:r,savedRecord:!1,savedIndex:-1}},(function(){$("#editScopeModal").modal("hide")}))}}},{key:"confirmAddUser",value:function(e,t){var a=this;if(e){var r=t.source?"?source="+t.source:"";c.a.glewlwydRequest("/user/"+r,"POST",t).then((function(){d.a.sendMessage("Notification",{type:"success",message:i.a.t("admin.success-api-add-user")})})).fail((function(e){d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-add-user")}),401!==e.status?d.a.sendMessage("Notification",{type:"danger",message:i.a.t("error-api-connect")}):(d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.requires-admin-scope")}),a.setState({loggedIn:!1,modTypes:{user:[],client:[],scheme:[],plugin:[]},users:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},clients:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},scopes:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},apiKeys:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},modUsers:[],modUsersMiddleware:[],modClients:[],modSchemes:[],plugins:[],invalidCredentialMessage:!0}))})).always((function(){a.fetchUsers().always((function(){a.setState({editModal:{title:"",pattern:[],source:[],data:{},callback:!1,add:!1}},(function(){$("#editRecordModal").modal("hide")}))}))}))}else this.setState({editModal:{title:"",pattern:[],source:[],data:{},callback:!1,add:!1}},(function(){$("#editRecordModal").modal("hide")}))}},{key:"confirmAddClient",value:function(e,t){var a=this;if(e){var r=t.source?"?source="+t.source:"";c.a.glewlwydRequest("/client/"+r,"POST",t).then((function(){d.a.sendMessage("Notification",{type:"success",message:i.a.t("admin.success-api-add-client")})})).fail((function(e){d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-add-client")}),401!==e.status?d.a.sendMessage("Notification",{type:"danger",message:i.a.t("error-api-connect")}):(d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.requires-admin-scope")}),a.setState({loggedIn:!1,modTypes:{user:[],client:[],scheme:[],plugin:[]},users:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},clients:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},scopes:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},apiKeys:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},modUsers:[],modUsersMiddleware:[],modClients:[],modSchemes:[],plugins:[],invalidCredentialMessage:!0}))})).always((function(){a.fetchClients().always((function(){a.setState({editModal:{title:"",pattern:[],source:[],data:{},callback:!1,add:!1}},(function(){$("#editRecordModal").modal("hide")}))}))}))}else this.setState({editModal:{title:"",pattern:[],source:[],data:{},callback:!1,add:!1}},(function(){$("#editRecordModal").modal("hide")}))}},{key:"confirmAddScope",value:function(e,t){var a=this;e?c.a.glewlwydRequest("/scope/","POST",t).then((function(){d.a.sendMessage("Notification",{type:"success",message:i.a.t("admin.success-api-add-scope")})})).fail((function(e){d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-add-scope")}),401!==e.status?d.a.sendMessage("Notification",{type:"danger",message:i.a.t("error-api-connect")}):(d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.requires-admin-scope")}),a.setState({loggedIn:!1,modTypes:{user:[],client:[],scheme:[],plugin:[]},users:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},clients:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},scopes:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},apiKeys:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},modUsers:[],modUsersMiddleware:[],modClients:[],modSchemes:[],plugins:[],invalidCredentialMessage:!0}))})).always((function(){a.fetchScopes().always((function(){a.setState({scopeModal:{data:{},callback:!1}},(function(){$("#editScopeModal").modal("hide")}))}))})):$("#editScopeModal").modal("hide")}},{key:"validateUser",value:function(e,t,a,r){var o=!0,n={};a?(Array.isArray(e.password)||void 0===e.password&&void 0===t.password||(e.password!==t.password?(o=!1,n.password=i.a.t("admin.user-password-error-match")):e.password.length&&e.password.length<this.state.passwordMinLength&&(o=!1,n.password=i.a.t("admin.user-password-error-invalid",{minLength:this.state.passwordMinLength}))),e.username?c.a.glewlwydRequest("/user/"+encodeURIComponent(e.username)).then((function(){o=!1,n.username=i.a.t("admin.user-username-exists")})).always((function(){r(o,n)})):(o=!1,n.username=i.a.t("admin.user-username-mandatory"),r(o,n))):(Array.isArray(e.password)||void 0===e.password&&void 0===t.password||(e.password||t.password)&&(e.password!==t.password?(o=!1,n.password=i.a.t("admin.user-password-error-match")):e.password.length&&e.password.length<this.state.passwordMinLength&&(o=!1,n.password=i.a.t("admin.user-password-error-invalid",{minLength:this.state.passwordMinLength}))),r(o,n))}},{key:"validateClient",value:function(e,t,a,r){var o=!0,n={};e.confidential&&(e.password||t.password)&&(e.password||t.password?e.password!==t.password?(o=!1,n.password=i.a.t("admin.user-password-error-match")):e.password.length&&e.password.length<this.state.passwordMinLength&&(o=!1,n.password=i.a.t("admin.user-password-error-invalid",{minLength:this.state.passwordMinLength})):!e.password&&a&&(o=!1,n.password=i.a.t("admin.user-password-mandatory"))),a?e.client_id?c.a.glewlwydRequest("/client/"+encodeURIComponent(e.client_id)).then((function(){o=!1,n.client_id=i.a.t("admin.client-client-id-exists")})).always((function(){r(o,n)})):(o=!1,n.client_id=i.a.t("admin.client-client-id-mandatory"),r(o,n)):r(o,n)}},{key:"confirmAddUserMod",value:function(e,t){var a=this;e?c.a.glewlwydRequest("/mod/user/","POST",t).then((function(){d.a.sendMessage("Notification",{type:"success",message:i.a.t("admin.success-api-add-mod")})})).fail((function(e){d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-add-mod")}),400===e.status?d.a.sendMessage("Notification",{type:"danger",message:JSON.stringify(e.responseJSON)}):401!==e.status?d.a.sendMessage("Notification",{type:"danger",message:i.a.t("error-api-connect")}):(d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.requires-admin-scope")}),a.setState({loggedIn:!1,modTypes:{user:[],client:[],scheme:[],plugin:[]},users:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},clients:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},scopes:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},apiKeys:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},modUsers:[],modUsersMiddleware:[],modClients:[],modSchemes:[],plugins:[],invalidCredentialMessage:!0}))})).always((function(){a.fetchUserMods().always((function(){a.setState({ModModal:{data:{},callback:!1,types:[]}},(function(){$("#editModModal").modal("hide"),a.fetchUsers()}))}))})):$("#editModModal").modal("hide")}},{key:"confirmEditUserMod",value:function(e,t){var a=this;if(e)c.a.glewlwydRequest("/mod/user/"+encodeURIComponent(t.name),"PUT",t).then((function(){c.a.glewlwydRequest("/mod/user/"+encodeURIComponent(t.name)+"/reset/","PUT").then((function(){d.a.sendMessage("Notification",{type:"success",message:i.a.t("admin.success-api-edit-mod")})})).fail((function(e){d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-edit-mod")}),400===e.status?d.a.sendMessage("Notification",{type:"danger",message:JSON.stringify(e.responseJSON)}):401!==e.status?d.a.sendMessage("Notification",{type:"danger",message:i.a.t("error-api-connect")}):(d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.requires-admin-scope")}),a.setState({loggedIn:!1,modTypes:{user:[],client:[],scheme:[],plugin:[]},users:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},clients:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},scopes:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},apiKeys:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},modUsers:[],modUsersMiddleware:[],modClients:[],modSchemes:[],plugins:[],invalidCredentialMessage:!0}))}))})).fail((function(e){d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-edit-mod")}),401!==e.status?d.a.sendMessage("Notification",{type:"danger",message:i.a.t("error-api-connect")}):(d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.requires-admin-scope")}),a.setState({loggedIn:!1,modTypes:{user:[],client:[],scheme:[],plugin:[]},users:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},clients:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},scopes:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},apiKeys:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},modUsers:[],modUsersMiddleware:[],modClients:[],modSchemes:[],plugins:[],invalidCredentialMessage:!0}))})).always((function(){a.fetchUserMods().always((function(){a.setState({ModModal:{data:{},callback:!1,types:[],savedRecord:!1,savedIndex:-1}},(function(){$("#editModModal").modal("hide"),a.fetchUsers()}))}))}));else{var r=this.state.modUsers;r[this.state.savedIndex]=JSON.parse(this.state.savedRecord),this.setState({modUsers:r,savedRecord:!1,savedIndex:-1},(function(){$("#editModModal").modal("hide")}))}}},{key:"confirmDeleteUserMod",value:function(e){var t=this;e?c.a.glewlwydRequest("/mod/user/"+encodeURIComponent(this.state.curMod.name),"DELETE").then((function(){d.a.sendMessage("Notification",{type:"success",message:i.a.t("admin.success-api-delete-mod")})})).fail((function(e){d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-delete-mod")}),401!==e.status?d.a.sendMessage("Notification",{type:"danger",message:i.a.t("error-api-connect")}):(d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.requires-admin-scope")}),t.setState({loggedIn:!1,modTypes:{user:[],client:[],scheme:[],plugin:[]},users:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},clients:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},scopes:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},apiKeys:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},modUsers:[],modUsersMiddleware:[],modClients:[],modSchemes:[],plugins:[],invalidCredentialMessage:!0}))})).always((function(){t.fetchUserMods().always((function(){t.setState({confirmModal:{title:"",message:""}},(function(){$("#confirmModal").modal("hide"),t.fetchUsers()}))}))})):this.setState({confirmModal:{title:"",message:""}},(function(){$("#confirmModal").modal("hide")}))}},{key:"confirmAddUserMiddlewareMod",value:function(e,t){var a=this;e?c.a.glewlwydRequest("/mod/user_middleware/","POST",t).then((function(){d.a.sendMessage("Notification",{type:"success",message:i.a.t("admin.success-api-add-mod")})})).fail((function(e){d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-add-mod")}),400===e.status?d.a.sendMessage("Notification",{type:"danger",message:JSON.stringify(e.responseJSON)}):401!==e.status?d.a.sendMessage("Notification",{type:"danger",message:i.a.t("error-api-connect")}):(d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.requires-admin-scope")}),a.setState({loggedIn:!1,modTypes:{user:[],client:[],scheme:[],plugin:[]},users:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},clients:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},scopes:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},apiKeys:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},modUsers:[],modUsersMiddleware:[],modClients:[],modSchemes:[],plugins:[],invalidCredentialMessage:!0}))})).always((function(){a.fetchUserMiddlewareMods().always((function(){a.setState({ModModal:{data:{},callback:!1,types:[]}},(function(){$("#editModModal").modal("hide"),a.fetchUsers()}))}))})):$("#editModModal").modal("hide")}},{key:"confirmEditUserMiddlewareMod",value:function(e,t){var a=this;if(e)c.a.glewlwydRequest("/mod/user_middleware/"+encodeURIComponent(t.name),"PUT",t).then((function(){c.a.glewlwydRequest("/mod/user_middleware/"+encodeURIComponent(t.name)+"/reset/","PUT").then((function(){d.a.sendMessage("Notification",{type:"success",message:i.a.t("admin.success-api-edit-mod")})})).fail((function(e){d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-edit-mod")}),400===e.status?d.a.sendMessage("Notification",{type:"danger",message:JSON.stringify(e.responseJSON)}):401!==e.status?d.a.sendMessage("Notification",{type:"danger",message:i.a.t("error-api-connect")}):(d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.requires-admin-scope")}),a.setState({loggedIn:!1,modTypes:{user:[],client:[],scheme:[],plugin:[]},users:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},clients:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},scopes:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},apiKeys:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},modUsers:[],modUsersMiddleware:[],modClients:[],modSchemes:[],plugins:[],invalidCredentialMessage:!0}))}))})).fail((function(e){d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-edit-mod")}),401!==e.status?d.a.sendMessage("Notification",{type:"danger",message:i.a.t("error-api-connect")}):(d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.requires-admin-scope")}),a.setState({loggedIn:!1,modTypes:{user:[],client:[],scheme:[],plugin:[]},users:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},clients:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},scopes:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},apiKeys:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},modUsers:[],modUsersMiddleware:[],modClients:[],modSchemes:[],plugins:[],invalidCredentialMessage:!0}))})).always((function(){a.fetchUserMiddlewareMods().always((function(){a.setState({ModModal:{data:{},callback:!1,types:[],savedRecord:!1,savedIndex:-1}},(function(){$("#editModModal").modal("hide"),a.fetchUsers()}))}))}));else{var r=this.state.modUsers;r[this.state.savedIndex]=JSON.parse(this.state.savedRecord),this.setState({modUsers:r,savedRecord:!1,savedIndex:-1},(function(){$("#editModModal").modal("hide")}))}}},{key:"confirmDeleteUserMiddlewareMod",value:function(e){var t=this;e?c.a.glewlwydRequest("/mod/user_middleware/"+encodeURIComponent(this.state.curMod.name),"DELETE").then((function(){d.a.sendMessage("Notification",{type:"success",message:i.a.t("admin.success-api-delete-mod")})})).fail((function(e){d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-delete-mod")}),401!==e.status?d.a.sendMessage("Notification",{type:"danger",message:i.a.t("error-api-connect")}):(d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.requires-admin-scope")}),t.setState({loggedIn:!1,modTypes:{user:[],client:[],scheme:[],plugin:[]},users:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},clients:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},scopes:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},apiKeys:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},modUsers:[],modUsersMiddleware:[],modClients:[],modSchemes:[],plugins:[],invalidCredentialMessage:!0}))})).always((function(){t.fetchUserMiddlewareMods().always((function(){t.setState({confirmModal:{title:"",message:""}},(function(){$("#confirmModal").modal("hide"),t.fetchUsers()}))}))})):this.setState({confirmModal:{title:"",message:""}},(function(){$("#confirmModal").modal("hide")}))}},{key:"confirmAddClientMod",value:function(e,t){var a=this;e?c.a.glewlwydRequest("/mod/client/","POST",t).then((function(){d.a.sendMessage("Notification",{type:"success",message:i.a.t("admin.success-api-add-mod")})})).fail((function(e){d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-add-mod")}),400===e.status?d.a.sendMessage("Notification",{type:"danger",message:JSON.stringify(e.responseJSON)}):401!==e.status?d.a.sendMessage("Notification",{type:"danger",message:i.a.t("error-api-connect")}):(d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.requires-admin-scope")}),a.setState({loggedIn:!1,modTypes:{user:[],client:[],scheme:[],plugin:[]},users:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},clients:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},scopes:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},apiKeys:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},modUsers:[],modUsersMiddleware:[],modClients:[],modSchemes:[],plugins:[],invalidCredentialMessage:!0}))})).always((function(){a.fetchClientMods().always((function(){a.setState({ModModal:{data:{},callback:!1,types:[]}},(function(){$("#editModModal").modal("hide"),a.fetchClients()}))}))})):$("#editModModal").modal("hide")}},{key:"confirmEditClientMod",value:function(e,t){var a=this;if(e)c.a.glewlwydRequest("/mod/client/"+encodeURIComponent(t.name),"PUT",t).then((function(){c.a.glewlwydRequest("/mod/client/"+encodeURIComponent(t.name)+"/reset/","PUT").then((function(){d.a.sendMessage("Notification",{type:"success",message:i.a.t("admin.success-api-edit-mod")})})).fail((function(e){d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-edit-mod")}),400===e.status?d.a.sendMessage("Notification",{type:"danger",message:JSON.stringify(e.responseJSON)}):401!==e.status?d.a.sendMessage("Notification",{type:"danger",message:i.a.t("error-api-connect")}):(d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.requires-admin-scope")}),a.setState({loggedIn:!1,modTypes:{user:[],client:[],scheme:[],plugin:[]},users:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},clients:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},scopes:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},apiKeys:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},modUsers:[],modUsersMiddleware:[],modClients:[],modSchemes:[],plugins:[],invalidCredentialMessage:!0}))}))})).fail((function(e){d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-edit-mod")}),401!==e.status?d.a.sendMessage("Notification",{type:"danger",message:i.a.t("error-api-connect")}):(d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.requires-admin-scope")}),a.setState({loggedIn:!1,modTypes:{user:[],client:[],scheme:[],plugin:[]},users:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},clients:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},scopes:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},apiKeys:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},modUsers:[],modUsersMiddleware:[],modClients:[],modSchemes:[],plugins:[],invalidCredentialMessage:!0}))})).always((function(){a.fetchClientMods().always((function(){a.setState({ModModal:{data:{},callback:!1,types:[]},savedRecord:!1,savedIndex:-1},(function(){$("#editModModal").modal("hide"),a.fetchClients()}))}))}));else{var r=this.state.modClients;r[this.state.savedIndex]=JSON.parse(this.state.savedRecord),this.setState({modClients:r,savedRecord:!1,savedIndex:-1},(function(){$("#editModModal").modal("hide")}))}}},{key:"confirmDeleteClientMod",value:function(e){var t=this;e?c.a.glewlwydRequest("/mod/client/"+encodeURIComponent(this.state.curMod.name),"DELETE").then((function(){d.a.sendMessage("Notification",{type:"success",message:i.a.t("admin.success-api-delete-mod")})})).fail((function(e){d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-delete-mod")}),401!==e.status?d.a.sendMessage("Notification",{type:"danger",message:i.a.t("error-api-connect")}):(d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.requires-admin-scope")}),t.setState({loggedIn:!1,modTypes:{user:[],client:[],scheme:[],plugin:[]},users:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},clients:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},scopes:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},apiKeys:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},modUsers:[],modUsersMiddleware:[],modClients:[],modSchemes:[],plugins:[],invalidCredentialMessage:!0}))})).always((function(){t.fetchClientMods().always((function(){t.setState({confirmModal:{title:"",message:""}},(function(){$("#confirmModal").modal("hide"),t.fetchClients()}))}))})):this.setState({confirmModal:{title:"",message:""}},(function(){$("#confirmModal").modal("hide")}))}},{key:"confirmAddSchemeMod",value:function(e,t){var a=this;e?c.a.glewlwydRequest("/mod/scheme/","POST",t).then((function(){d.a.sendMessage("Notification",{type:"success",message:i.a.t("admin.success-api-add-mod")})})).fail((function(e){d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-add-mod")}),400===e.status?d.a.sendMessage("Notification",{type:"danger",message:JSON.stringify(e.responseJSON)}):401!==e.status?d.a.sendMessage("Notification",{type:"danger",message:i.a.t("error-api-connect")}):(d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.requires-admin-scope")}),a.setState({loggedIn:!1,modTypes:{user:[],client:[],scheme:[],plugin:[]},users:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},clients:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},scopes:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},apiKeys:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},modUsers:[],modUsersMiddleware:[],modClients:[],modSchemes:[],plugins:[],invalidCredentialMessage:!0}))})).always((function(){a.fetchSchemeMods().always((function(){a.setState({ModModal:{data:{},callback:!1,types:[]}},(function(){$("#editModModal").modal("hide")}))}))})):$("#editModModal").modal("hide")}},{key:"confirmEditSchemeMod",value:function(e,t){var a=this;if(e)c.a.glewlwydRequest("/mod/scheme/"+encodeURIComponent(t.name),"PUT",t).then((function(){c.a.glewlwydRequest("/mod/scheme/"+encodeURIComponent(t.name)+"/reset/","PUT").then((function(){d.a.sendMessage("Notification",{type:"success",message:i.a.t("admin.success-api-edit-mod")})})).fail((function(e){d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-edit-mod")}),400===e.status?d.a.sendMessage("Notification",{type:"danger",message:JSON.stringify(e.responseJSON)}):401!==e.status?d.a.sendMessage("Notification",{type:"danger",message:i.a.t("error-api-connect")}):(d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.requires-admin-scope")}),a.setState({loggedIn:!1,modTypes:{user:[],client:[],scheme:[],plugin:[]},users:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},clients:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},scopes:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},apiKeys:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},modUsers:[],modUsersMiddleware:[],modClients:[],modSchemes:[],plugins:[],invalidCredentialMessage:!0}))})).always((function(){a.fetchSchemeMods()}))})).fail((function(e){d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-edit-mod")}),401!==e.status?d.a.sendMessage("Notification",{type:"danger",message:i.a.t("error-api-connect")}):(d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.requires-admin-scope")}),a.setState({loggedIn:!1,modTypes:{user:[],client:[],scheme:[],plugin:[]},users:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},clients:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},scopes:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},apiKeys:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},modUsers:[],modUsersMiddleware:[],modClients:[],modSchemes:[],plugins:[],invalidCredentialMessage:!0}))})).always((function(){a.setState({ModModal:{data:{},callback:!1,types:[]},savedRecord:!1,savedIndex:-1},(function(){$("#editModModal").modal("hide")}))}));else{var r=this.state.modSchemes;r[this.state.savedIndex]=JSON.parse(this.state.savedRecord),this.setState({modSchemes:r,savedRecord:!1,savedIndex:-1},(function(){$("#editModModal").modal("hide")}))}}},{key:"confirmDeleteSchemeMod",value:function(e){var t=this;e?c.a.glewlwydRequest("/mod/scheme/"+encodeURIComponent(this.state.curMod.name),"DELETE").then((function(){d.a.sendMessage("Notification",{type:"success",message:i.a.t("admin.success-api-delete-mod")})})).fail((function(e){d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-delete-mod")}),401!==e.status?d.a.sendMessage("Notification",{type:"danger",message:i.a.t("error-api-connect")}):(d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.requires-admin-scope")}),t.setState({loggedIn:!1,modTypes:{user:[],client:[],scheme:[],plugin:[]},users:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},clients:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},scopes:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},apiKeys:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},modUsers:[],modUsersMiddleware:[],modClients:[],modSchemes:[],plugins:[],invalidCredentialMessage:!0}))})).always((function(){t.fetchSchemeMods().always((function(){t.setState({confirmModal:{title:"",message:""}},(function(){$("#confirmModal").modal("hide")}))}))})):this.setState({confirmModal:{title:"",message:""}},(function(){$("#confirmModal").modal("hide")}))}},{key:"confirmAddPluginMod",value:function(e,t){var a=this;e?c.a.glewlwydRequest("/mod/plugin/","POST",t).then((function(){d.a.sendMessage("Notification",{type:"success",message:i.a.t("admin.success-api-add-mod")})})).fail((function(e){d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-add-mod")}),400===e.status?d.a.sendMessage("Notification",{type:"danger",message:JSON.stringify(e.responseJSON)}):401!==e.status?d.a.sendMessage("Notification",{type:"danger",message:i.a.t("error-api-connect")}):(d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.requires-admin-scope")}),a.setState({loggedIn:!1,modTypes:{user:[],client:[],scheme:[],plugin:[]},users:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},clients:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},scopes:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},apiKeys:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},modUsers:[],modUsersMiddleware:[],modClients:[],modSchemes:[],plugins:[],invalidCredentialMessage:!0}))})).always((function(){a.fetchPlugins().always((function(){a.setState({ModModal:{data:{},callback:!1,types:[]}},(function(){$("#editPluginModal").modal("hide")}))}))})):$("#editPluginModal").modal("hide")}},{key:"confirmEditPluginMod",value:function(e,t){var a=this;if(e)c.a.glewlwydRequest("/mod/plugin/"+encodeURIComponent(t.name),"PUT",t).then((function(){c.a.glewlwydRequest("/mod/plugin/"+encodeURIComponent(t.name)+"/reset/","PUT").then((function(){d.a.sendMessage("Notification",{type:"success",message:i.a.t("admin.success-api-edit-mod")})})).fail((function(e){d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-edit-mod")}),401!==e.status?d.a.sendMessage("Notification",{type:"danger",message:i.a.t("error-api-connect")}):400===e.status?d.a.sendMessage("Notification",{type:"danger",message:JSON.stringify(e.responseJSON)}):(d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.requires-admin-scope")}),a.setState({loggedIn:!1,modTypes:{user:[],client:[],scheme:[],plugin:[]},users:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},clients:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},scopes:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},apiKeys:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},modUsers:[],modUsersMiddleware:[],modClients:[],modSchemes:[],plugins:[],invalidCredentialMessage:!0}))}))})).fail((function(e){d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-edit-mod")}),401!==e.status?d.a.sendMessage("Notification",{type:"danger",message:i.a.t("error-api-connect")}):(d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.requires-admin-scope")}),a.setState({loggedIn:!1,modTypes:{user:[],client:[],scheme:[],plugin:[]},users:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},clients:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},scopes:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},apiKeys:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},modUsers:[],modUsersMiddleware:[],modClients:[],modSchemes:[],plugins:[],invalidCredentialMessage:!0}))})).always((function(){a.fetchPlugins().always((function(){a.setState({ModModal:{data:{},callback:!1,types:[]},savedRecord:!1,savedIndex:-1},(function(){$("#editPluginModal").modal("hide")}))}))}));else{var r=this.state.plugins;r[this.state.savedIndex]=JSON.parse(this.state.savedRecord),this.setState({plugins:r,savedRecord:!1,savedIndex:-1},(function(){$("#editPluginModal").modal("hide")}))}}},{key:"confirmDeletePluginMod",value:function(e){var t=this;e?c.a.glewlwydRequest("/mod/plugin/"+encodeURIComponent(this.state.curMod.name),"DELETE").then((function(){d.a.sendMessage("Notification",{type:"success",message:i.a.t("admin.success-api-delete-mod")})})).fail((function(e){d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-delete-mod")}),401!==e.status?d.a.sendMessage("Notification",{type:"danger",message:i.a.t("error-api-connect")}):(d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.requires-admin-scope")}),t.setState({loggedIn:!1,modTypes:{user:[],client:[],scheme:[],plugin:[]},users:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},clients:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},scopes:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},apiKeys:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},modUsers:[],modUsersMiddleware:[],modClients:[],modSchemes:[],plugins:[],invalidCredentialMessage:!0}))})).always((function(){t.fetchPlugins().always((function(){t.setState({confirmModal:{title:"",message:""}},(function(){$("#confirmModal").modal("hide")}))}))})):this.setState({confirmModal:{title:"",message:""}},(function(){$("#confirmModal").modal("hide")}))}},{key:"addApiKey",value:function(){var e=this;c.a.glewlwydRequest("/key","POST").then((function(t){var a=e.state.messageModal;a.title=i.a.t("admin.api-key-add-title"),a.label=i.a.t("admin.api-key-add-label"),a.message=[t.key],e.setState({messageModal:a},(function(){$("#messageModal").modal({keyboard:!1,show:!0})})),e.fetchApiKeys()})).fail((function(t){401!==t.status?d.a.sendMessage("Notification",{type:"danger",message:i.a.t("error-api-connect")}):(d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.requires-admin-scope")}),e.setState({loggedIn:!1,modTypes:{user:[],client:[],scheme:[],plugin:[]},users:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},clients:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},scopes:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},apiKeys:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},modUsers:[],modUsersMiddleware:[],modClients:[],modSchemes:[],plugins:[],invalidCredentialMessage:!0}))}))}},{key:"confirmDisableApiKey",value:function(){var e=this;c.a.glewlwydRequest("/key/"+encodeURIComponent(this.state.curApiKey.token_hash),"DELETE").then((function(e){d.a.sendMessage("Notification",{type:"success",message:i.a.t("admin.success-api-delete-api-key")})})).fail((function(t){401!==t.status?d.a.sendMessage("Notification",{type:"danger",message:i.a.t("error-api-connect")}):(d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.requires-admin-scope")}),e.setState({loggedIn:!1,modTypes:{user:[],client:[],scheme:[],plugin:[]},users:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},clients:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},scopes:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},apiKeys:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},modUsers:[],modUsersMiddleware:[],modClients:[],modSchemes:[],plugins:[],invalidCredentialMessage:!0}))})).always((function(){$("#confirmModal").modal("hide"),e.fetchApiKeys()}))}},{key:"render",value:function(){var e;return this.state.invalidCredentialMessage&&(e=o.a.createElement("div",{className:"alert alert-danger",role:"alert"},i.a.t("admin.error-credential-message"))),this.state.config?o.a.createElement("div",{"aria-live":"polite","aria-atomic":"true",className:"glwd-container"},o.a.createElement("div",{className:"card center glwd-card",id:"userCard",tabIndex:"-1",role:"dialog"},o.a.createElement("div",{className:"card-header"},o.a.createElement(M,{active:this.state.curNav,config:this.state.config,loggedIn:this.state.loggedIn,profileList:this.state.profileList})),e,o.a.createElement("div",{className:"card-body"},o.a.createElement("div",{id:"carouselBody",className:"carousel slide","data-ride":"carousel"},o.a.createElement("div",{className:"carousel-inner"},o.a.createElement("div",{className:"carousel-item"+("users"===this.state.curNav?" active":"")},o.a.createElement(F,{config:this.state.config,users:this.state.users,source:this.state.modUsers,loggedIn:this.state.loggedIn})),o.a.createElement("div",{className:"carousel-item"+("clients"===this.state.curNav?" active":"")},o.a.createElement(K,{config:this.state.config,clients:this.state.clients,source:this.state.modClients,loggedIn:this.state.loggedIn})),o.a.createElement("div",{className:"carousel-item"+("scopes"===this.state.curNav?" active":"")},o.a.createElement(X,{config:this.state.config,scopes:this.state.scopes,loggedIn:this.state.loggedIn})),o.a.createElement("div",{className:"carousel-item"+("users-mod"===this.state.curNav?" active":"")},o.a.createElement(te,{mods:this.state.modUsers,types:this.state.modTypes.user,loggedIn:this.state.loggedIn})),o.a.createElement("div",{className:"carousel-item"+("clients-mod"===this.state.curNav?" active":"")},o.a.createElement(ie,{mods:this.state.modClients,types:this.state.modTypes.client,loggedIn:this.state.loggedIn})),o.a.createElement("div",{className:"carousel-item"+("users-middleware-mod"===this.state.curNav?" active":"")},o.a.createElement(ue,{mods:this.state.modUsersMiddleware,types:this.state.modTypes.user_middleware,loggedIn:this.state.loggedIn})),o.a.createElement("div",{className:"carousel-item"+("auth-schemes"===this.state.curNav?" active":"")},o.a.createElement(ve,{mods:this.state.modSchemes,types:this.state.modTypes.scheme,loggedIn:this.state.loggedIn})),o.a.createElement("div",{className:"carousel-item"+("plugins"===this.state.curNav?" active":"")},o.a.createElement(Pe,{mods:this.state.plugins,types:this.state.modTypes.plugin,loggedIn:this.state.loggedIn})),o.a.createElement("div",{className:"carousel-item"+("api-key"===this.state.curNav?" active":"")},o.a.createElement(Ta,{config:this.state.config,apiKeys:this.state.apiKeys,loggedIn:this.state.loggedIn})))))),o.a.createElement(p.a,{loggedIn:this.state.loggedIn}),o.a.createElement(u.a,{title:this.state.confirmModal.title,message:this.state.confirmModal.message,callback:this.state.confirmModal.callback}),o.a.createElement(h.a,{title:this.state.messageModal.title,label:this.state.messageModal.label,message:this.state.messageModal.message}),o.a.createElement(E,{title:this.state.editModal.title,pattern:this.state.editModal.pattern,source:this.state.editModal.source,data:this.state.editModal.data,callback:this.state.editModal.callback,validateCallback:this.state.editModal.validateCallback,add:this.state.editModal.add}),o.a.createElement(Re,{title:this.state.scopeModal.title,scope:this.state.scopeModal.data,add:this.state.scopeModal.add,modSchemes:this.state.modSchemes,callback:this.state.scopeModal.callback}),o.a.createElement(Gt,{title:this.state.ModModal.title,role:this.state.ModModal.role,mod:this.state.ModModal.data,add:this.state.ModModal.add,types:this.state.ModModal.types,callback:this.state.ModModal.callback,config:this.state.config}),o.a.createElement(_a,{title:this.state.PluginModal.title,mod:this.state.PluginModal.data,add:this.state.PluginModal.add,modSchemes:this.state.modSchemes,types:this.state.PluginModal.types,callback:this.state.PluginModal.callback,config:this.state.config})):o.a.createElement("div",{"aria-live":"polite","aria-atomic":"true",className:"glwd-container"},o.a.createElement("div",{className:"card center glwd-card",id:"userCard",tabIndex:"-1",role:"dialog"},o.a.createElement("div",{className:"card-header"},o.a.createElement("h4",null,o.a.createElement("span",{className:"badge badge-danger"},i.a.t("error-api-connect"))))))}}]),a}(),za=a(8);try{i.a.use(l.a).use(m.a).init({fallbackLng:"en",ns:["translations"],defaultNS:"translations",backend:{loadPath:"locales/{{lng}}/{{ns}}.json"}}).then((function(){!function(){var e=new URLSearchParams(window.location.search);c.a.request("config.json").then((function(t){t.lang||(t.lang=["en","fr","nl","de"]),c.a.request(t.GlewlwydUrl+"config/").then((function(a){c.a.setConfig(t.GlewlwydUrl+a.api_prefix);var r=Object.assign({params:{scope:e.get("scope"),client_id:e.get("client_id"),callback_url:e.get("callback_url")},scopes:[]},t,a);s.a.render(o.a.createElement(Ka,{config:r}),document.getElementById("root"))})).fail((function(e){s.a.render(o.a.createElement(Ka,{config:!1}),document.getElementById("root"))}))})).fail((function(e){s.a.render(o.a.createElement(za.a,null),document.getElementById("root"))}))}()}))}catch(e){$("#root").html('<div class="alert alert-danger" role="alert"><i class="fas fa-exclamation-triangle"></i><span class="btn-icon-right">You must use a browser compatible with Glewlwyd SSO</span></div>')}},3:function(e,t,a){"use strict";var r=a(2);function o(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var n=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.GlewlwydApiPrefix="",this.GlewlwydApiPrefixSub=""}return function(e,t,a){t&&o(e.prototype,t)}(e,[{key:"setConfig",value:function(e){this.GlewlwydApiPrefix=e}},{key:"getConfig",value:function(e){return this.GlewlwydApiPrefix}},{key:"setConfigSub",value:function(e){this.GlewlwydApiPrefixSub=e}},{key:"getConfigSub",value:function(e){return this.GlewlwydApiPrefixSub}},{key:"request",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return a&&"GET"!==t?$.ajax({method:t,url:e,data:JSON.stringify(a),contentType:"application/json; charset=utf-8"}):$.ajax({method:t,url:e})}},{key:"glewlwydRequest",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return this.request(this.GlewlwydApiPrefix+e,t,a).fail((function(e){o&&401===e.status&&r.a.sendMessage("App",{type:"loggedIn",loggedIn:!1})}))}},{key:"glewlwydRequestSub",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this.request(this.GlewlwydApiPrefixSub+e,t,a)}}]),e}());t.a=n},4:function(e,t,a){"use strict";var r=a(0),o=a.n(r),n=a(2);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(a,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=c(e);if(t){var o=c(this).constructor;a=Reflect.construct(r,arguments,o)}else a=r.apply(this,arguments);return function(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?m(e):t}(this,a)}}(a);function a(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(r=t.call(this,e)).state={message:[],counter:0,loggedIn:e.loggedIn},n.a.subscribe("Notification",(function(e){if(e.type){var t=r.state.message;t.push({type:e.type,message:e.message,id:r.state.counter}),r.setState({message:t,counter:r.state.counter+1},(function(){r.timeoutClose(r.state.counter-1)}))}})),r.close=r.close.bind(m(r)),r.timeoutClose=r.timeoutClose.bind(m(r)),r}return function(e,t,a){t&&i(e.prototype,t)}(a,[{key:"componentWillReceiveProps",value:function(e){this.setState({loggedIn:e.loggedIn})}},{key:"timeoutClose",value:function(e){var t=this;setTimeout((function(){t.close(e)}),5e3)}},{key:"close",value:function(e){var t=this,a=this.state.message;a.forEach((function(r,o){r.id===e&&(a.splice(o,1),t.setState({message:a}))}))}},{key:"render",value:function(){var e=this,t=[],a=this.state.loggedIn;return this.state.message.forEach((function(e){"danger"!==e.type&&"warning"!==e.type||(a=!0)})),a&&this.state.message.forEach((function(a,r){var n;n="success"===a.type?o.a.createElement("strong",{className:"mr-auto"},o.a.createElement("span",{className:"badge badge-success btn-icon"},o.a.createElement("i",{className:"fas fa-check-circle"})),"Glewlwyd"):"danger"===a.type?o.a.createElement("strong",{className:"mr-auto"},o.a.createElement("span",{className:"badge badge-danger btn-icon"},o.a.createElement("i",{className:"fas fa-exclamation-circle"})),"Glewlwyd"):"warning"===a.type?o.a.createElement("strong",{className:"mr-auto"},o.a.createElement("span",{className:"badge badge-warning btn-icon"},o.a.createElement("i",{className:"fas fa-exclamation-circle"})),"Glewlwyd"):o.a.createElement("strong",{className:"mr-auto"},o.a.createElement("span",{className:"badge badge-info btn-icon"},o.a.createElement("i",{className:"fas fa-info-circle"})),"Glewlwyd"),t.push(o.a.createElement("div",{className:"toast-container",style:{top:95+90*r,right:5},key:r},o.a.createElement("div",{className:"toast glwd-toast",role:"alert","aria-live":"assertive","aria-atomic":"true"},o.a.createElement("div",{className:"toast-header"},n,o.a.createElement("button",{type:"button",className:"ml-2 mb-1 close","data-dismiss":"toast","aria-label":"Close",onClick:function(){return e.close(a.id)}},o.a.createElement("span",{"aria-hidden":"true"},"Ã—"))),o.a.createElement("div",{className:"toast-body"},a.message))))})),o.a.createElement("div",null,t)}}]),a}();t.a=d},8:function(e,t,a){"use strict";var r=a(0),o=a.n(r),n=a(1);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(a,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=m(e);if(t){var o=m(this).constructor;a=Reflect.construct(r,arguments,o)}else a=r.apply(this,arguments);return function(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,a)}}(a);function a(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),t.call(this,e)}return function(e,t,a){t&&i(e.prototype,t)}(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"alert alert-danger perfect-centering",role:"alert"},n.a.t("error-config"))}}]),a}();t.a=c},9:function(e,t,a){"use strict";var r=a(0),o=a.n(r),n=a(1);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(a,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=c(e);if(t){var o=c(this).constructor;a=Reflect.construct(r,arguments,o)}else a=r.apply(this,arguments);return function(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?m(e):t}(this,a)}}(a);function a(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(r=t.call(this,e)).state={title:e.title,label:e.label,message:e.message},r.closeModal=r.closeModal.bind(m(r)),r}return function(e,t,a){t&&i(e.prototype,t)}(a,[{key:"componentWillReceiveProps",value:function(e){this.setState({title:e.title,label:e.label,message:e.message})}},{key:"closeModal",value:function(e,t){$("#messageModal").modal("hide")}},{key:"render",value:function(){var e,t=this,a=[];return this.state.label&&(e=o.a.createElement("h5",null,this.state.label)),this.state.message&&this.state.message.forEach((function(e,t){a.push(o.a.createElement("li",{key:t},e))})),o.a.createElement("div",{className:"modal fade on-top",id:"messageModal",tabIndex:"-1",role:"dialog","aria-labelledby":"messageModalLabel","aria-hidden":"true"},o.a.createElement("div",{className:"modal-dialog",role:"document"},o.a.createElement("div",{className:"modal-content"},o.a.createElement("div",{className:"modal-header"},o.a.createElement("h5",{className:"modal-title",id:"messageModalLabel"},this.state.title),o.a.createElement("button",{type:"button",className:"close","aria-label":n.a.t("modal.close"),onClick:function(e){return t.closeModal(e,!1)}},o.a.createElement("span",{"aria-hidden":"true"},"Ã—"))),o.a.createElement("div",{className:"modal-body"},e,o.a.createElement("ul",null,a)),o.a.createElement("div",{className:"modal-footer"},o.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(e){return t.closeModal(e,!1)}},n.a.t("modal.close"))))))}}]),a}();t.a=d}})}));